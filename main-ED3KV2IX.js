import{b as hd,c as pd,f as yv,g as gd}from"./chunk-LJ5XHLMQ.js";import{a as v,b as k,d as yt,f as mv,g as vv,h as p}from"./chunk-FK42CRUA.js";var Gu=yt(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var qu=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Wu.default=qu});var Ku=yt(Ko=>{"use strict";var um=Ko&&Ko.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});var SS=um((gd(),vv(yv))),CS=um(Gu()),Zu=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=SS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c;let l=null,u=null,f=null,h=i.status,d=i.statusText;if(i.ok){if(this.method!=="HEAD"){let C=yield i.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=C:u=JSON.parse(C))}let y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,d="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let y=yield i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,d="OK")}catch{i.status===404&&y===""?(h=204,d="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,d="OK"),l&&this.shouldThrowOnError)throw new CS.default(l)}return{error:l,data:u,count:f,status:h,statusText:d}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}};Ko.default=Zu});var Ju=yt(Qo=>{"use strict";var DS=Qo&&Qo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qo,"__esModule",{value:!0});var TS=DS(Ku()),Qu=class extends TS.default{select(n){let t=!1,r=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qo.default=Qu});var Ea=yt(Jo=>{"use strict";var MS=Jo&&Jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});var xS=MS(Ju()),Yu=class extends xS.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${i}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};Jo.default=Yu});var ed=yt(Xo=>{"use strict";var RS=Xo&&Xo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xo,"__esModule",{value:!0});var Yo=RS(Ea()),Xu=class{constructor(n,{headers:t={},schema:r,fetch:o}){this.url=n,this.headers=t,this.schema=r,this.fetch=o}select(n,{head:t=!1,count:r}={}){let o=t?"HEAD":"GET",i=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Yo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(n)){let s=n.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let c=n.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),this.headers.Prefer=o.join(","),new Yo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yo.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xo.default=Xu});var dm=yt(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.version=void 0;Sa.version="0.0.0-automated"});var fm=yt(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.DEFAULT_HEADERS=void 0;var NS=dm();Ca.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${NS.version}`}});var pm=yt(ei=>{"use strict";var hm=ei&&ei.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ei,"__esModule",{value:!0});var AS=hm(ed()),OS=hm(Ea()),kS=fm(),td=class e{constructor(n,{headers:t={},schema:r,fetch:o}={}){this.url=n,this.headers=Object.assign(Object.assign({},kS.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=o}from(n){let t=new URL(`${this.url}/${n}`);return new AS.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${n}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(s="POST",c=t);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new OS.default({method:s,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ei.default=td});var _m=yt(ce=>{"use strict";var br=ce&&ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ce,"__esModule",{value:!0});ce.PostgrestError=ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;var gm=br(pm());ce.PostgrestClient=gm.default;var mm=br(ed());ce.PostgrestQueryBuilder=mm.default;var vm=br(Ea());ce.PostgrestFilterBuilder=vm.default;var ym=br(Ju());ce.PostgrestTransformBuilder=ym.default;var wm=br(Ku());ce.PostgrestBuilder=wm.default;var bm=br(Gu());ce.PostgrestError=bm.default;ce.default={PostgrestClient:gm.default,PostgrestQueryBuilder:mm.default,PostgrestFilterBuilder:vm.default,PostgrestTransformBuilder:ym.default,PostgrestBuilder:wm.default,PostgrestError:bm.default}});function Xa(e,n){return Object.is(e,n)}var Y=null,hi=!1,ec=1,Ae=Symbol("SIGNAL");function R(e){let n=Y;return Y=e,n}function tc(){return Y}var Mn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lr(e){if(hi)throw new Error("");if(Y===null)return;Y.consumerOnSignalRead(e);let n=Y.nextProducerIndex++;if(yi(Y),n<Y.producerNode.length&&Y.producerNode[n]!==e&&Pr(Y)){let t=Y.producerNode[n];vi(t,Y.producerIndexOfThis[n])}Y.producerNode[n]!==e&&(Y.producerNode[n]=e,Y.producerIndexOfThis[n]=Pr(Y)?vd(e,Y,n):0),Y.producerLastReadVersion[n]=e.version}function md(){ec++}function nc(e){if(!(Pr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ec)){if(!e.producerMustRecompute(e)&&!mi(e)){Ya(e);return}e.producerRecomputeValue(e),Ya(e)}}function rc(e){if(e.liveConsumerNode===void 0)return;let n=hi;hi=!0;try{for(let t of e.liveConsumerNode)t.dirty||wv(t)}finally{hi=n}}function oc(){return Y?.consumerAllowSignalWrites!==!1}function wv(e){e.dirty=!0,rc(e),e.consumerMarkedDirty?.(e)}function Ya(e){e.dirty=!1,e.lastCleanEpoch=ec}function jr(e){return e&&(e.nextProducerIndex=0),R(e)}function gi(e,n){if(R(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Pr(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)vi(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function mi(e){yi(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(nc(t),r!==t.version))return!0}return!1}function Fr(e){if(yi(e),Pr(e))for(let n=0;n<e.producerNode.length;n++)vi(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function vd(e,n,t){if(yd(e),e.liveConsumerNode.length===0&&wd(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=vd(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function vi(e,n){if(yd(e),e.liveConsumerNode.length===1&&wd(e))for(let r=0;r<e.producerNode.length;r++)vi(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];yi(o),o.producerIndexOfThis[r]=n}}function Pr(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function yi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function yd(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function wd(e){return e.producerNode!==void 0}function ic(e,n){let t=Object.create(bv);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(nc(t),Lr(t),t.value===pi)throw t.error;return t.value};return r[Ae]=t,r}var Qa=Symbol("UNSET"),Ja=Symbol("COMPUTING"),pi=Symbol("ERRORED"),bv=k(v({},Mn),{value:Qa,dirty:!0,error:null,equal:Xa,kind:"computed",producerMustRecompute(e){return e.value===Qa||e.value===Ja},producerRecomputeValue(e){if(e.value===Ja)throw new Error("Detected cycle in computations.");let n=e.value;e.value=Ja;let t=jr(e),r,o=!1;try{r=e.computation(),R(null),o=n!==Qa&&n!==pi&&r!==pi&&e.equal(n,r)}catch(i){r=pi,e.error=i}finally{gi(e,t)}if(o){e.value=n;return}e.value=r,e.version++}});function _v(){throw new Error}var bd=_v;function _d(e){bd(e)}function sc(e){bd=e}var Iv=null;function ac(e,n){let t=Object.create(wi);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(Lr(t),t.value);return r[Ae]=t,r}function Vr(e,n){oc()||_d(e),e.equal(e.value,n)||(e.value=n,Ev(e))}function cc(e,n){oc()||_d(e),Vr(e,n(e.value))}var wi=k(v({},Mn),{equal:Xa,value:void 0,kind:"signal"});function Ev(e){e.version++,md(),rc(e),Iv?.()}function lc(e){let n=R(null);try{return e()}finally{R(n)}}var uc;function $r(){return uc}function wt(e){let n=uc;return uc=e,n}var bi=Symbol("NotFound");function D(e){return typeof e=="function"}function xn(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var _i=xn(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ur(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Q=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(D(r))try{r()}catch(i){n=i instanceof _i?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Id(i)}catch(s){n=n??[],s instanceof _i?n=[...n,...s.errors]:n.push(s)}}if(n)throw new _i(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Id(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ur(t,n)}remove(n){let{_finalizers:t}=this;t&&Ur(t,n),n instanceof e&&n._removeParent(this)}};Q.EMPTY=(()=>{let e=new Q;return e.closed=!0,e})();var dc=Q.EMPTY;function Ii(e){return e instanceof Q||e&&"closed"in e&&D(e.remove)&&D(e.add)&&D(e.unsubscribe)}function Id(e){D(e)?e():e.unsubscribe()}var Be={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rn={setTimeout(e,n,...t){let{delegate:r}=Rn;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Rn;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ei(e){Rn.setTimeout(()=>{let{onUnhandledError:n}=Be;if(n)n(e);else throw e})}function kt(){}var Ed=fc("C",void 0,void 0);function Sd(e){return fc("E",void 0,e)}function Cd(e){return fc("N",e,void 0)}function fc(e,n,t){return{kind:e,value:n,error:t}}var Qt=null;function Nn(e){if(Be.useDeprecatedSynchronousErrorHandling){let n=!Qt;if(n&&(Qt={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Qt;if(Qt=null,t)throw r}}else e()}function Dd(e){Be.useDeprecatedSynchronousErrorHandling&&Qt&&(Qt.errorThrown=!0,Qt.error=e)}var Jt=class extends Q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ii(n)&&n.add(this)):this.destination=xv}static create(n,t,r){return new An(n,t,r)}next(n){this.isStopped?pc(Cd(n),this):this._next(n)}error(n){this.isStopped?pc(Sd(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?pc(Ed,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tv=Function.prototype.bind;function hc(e,n){return Tv.call(e,n)}var gc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Si(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Si(r)}else Si(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Si(t)}}},An=class extends Jt{constructor(n,t,r){super();let o;if(D(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&Be.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&hc(n.next,i),error:n.error&&hc(n.error,i),complete:n.complete&&hc(n.complete,i)}):o=n}this.destination=new gc(o)}};function Si(e){Be.useDeprecatedSynchronousErrorHandling?Dd(e):Ei(e)}function Mv(e){throw e}function pc(e,n){let{onStoppedNotification:t}=Be;t&&Rn.setTimeout(()=>t(e,n))}var xv={closed:!0,next:kt,error:Mv,complete:kt};var On=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ee(e){return e}function tt(...e){return mc(e)}function mc(e){return e.length===0?Ee:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var $=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=Nv(t)?t:new An(t,r,o);return Nn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Td(r),new r((o,i)=>{let s=new An({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[On](){return this}pipe(...t){return mc(t)(this)}toPromise(t){return t=Td(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function Td(e){var n;return(n=e??Be.Promise)!==null&&n!==void 0?n:Promise}function Rv(e){return e&&D(e.next)&&D(e.error)&&D(e.complete)}function Nv(e){return e&&e instanceof Jt||Rv(e)&&Ii(e)}function vc(e){return D(e?.lift)}function L(e){return n=>{if(vc(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(e,n,t,r,o){return new yc(e,n,t,r,o)}var yc=class extends Jt{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function kn(){return L((e,n)=>{let t=null;e._refCount++;let r=j(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Pn=class extends ${constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Q;let t=this.getSubject();n.add(this.source.subscribe(j(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Q.EMPTY)}return n}refCount(){return kn()(this)}};var Md=xn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ci(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Md}next(t){Nn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Nn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Nn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?dc:(this.currentObservers=null,i.push(t),new Q(()=>{this.currentObservers=null,Ur(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new $;return t.source=this,t}}return e.create=(n,t)=>new Ci(n,t),e})(),Ci=class extends K{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:dc}};var ae=class extends K{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var wc={now(){return(wc.delegate||Date).now()},delegate:void 0};var Hr=class extends K{constructor(n=1/0,t=1/0,r=wc){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ve=new $(e=>e.complete());function xd(e){return e&&D(e.schedule)}function Rd(e){return e[e.length-1]}function Nd(e){return D(Rd(e))?e.pop():void 0}function Pt(e){return xd(Rd(e))?e.pop():void 0}function Od(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}function Ad(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(e){return this instanceof Yt?(this.v=e,this):new Yt(e)}function kd(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(d){return function(g){return Promise.resolve(g).then(d,f)}}function a(d,g){r[d]&&(o[d]=function(y){return new Promise(function(w,C){i.push([d,y,w,C])>1||c(d,y)})},g&&(o[d]=g(o[d])))}function c(d,g){try{l(r[d](g))}catch(y){h(i[0][3],y)}}function l(d){d.value instanceof Yt?Promise.resolve(d.value.v).then(u,f):h(i[0][2],d)}function u(d){c("next",d)}function f(d){c("throw",d)}function h(d,g){d(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Pd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Ad=="function"?Ad(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Di=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ti(e){return D(e?.then)}function Mi(e){return D(e[On])}function xi(e){return Symbol.asyncIterator&&D(e?.[Symbol.asyncIterator])}function Ri(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Av(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ni=Av();function Ai(e){return D(e?.[Ni])}function Oi(e){return kd(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield Yt(t.read());if(o)return yield Yt(void 0);yield yield Yt(r)}}finally{t.releaseLock()}})}function ki(e){return D(e?.getReader)}function oe(e){if(e instanceof $)return e;if(e!=null){if(Mi(e))return Ov(e);if(Di(e))return kv(e);if(Ti(e))return Pv(e);if(xi(e))return Ld(e);if(Ai(e))return Lv(e);if(ki(e))return jv(e)}throw Ri(e)}function Ov(e){return new $(n=>{let t=e[On]();if(D(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kv(e){return new $(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Pv(e){return new $(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Ei)})}function Lv(e){return new $(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Ld(e){return new $(n=>{Fv(e,n).catch(t=>n.error(t))})}function jv(e){return Ld(Oi(e))}function Fv(e,n){var t,r,o,i;return Od(this,void 0,void 0,function*(){try{for(t=Pd(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function ye(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Pi(e,n=0){return L((t,r)=>{t.subscribe(j(r,o=>ye(r,e,()=>r.next(o),n),()=>ye(r,e,()=>r.complete(),n),o=>ye(r,e,()=>r.error(o),n)))})}function Li(e,n=0){return L((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function jd(e,n){return oe(e).pipe(Li(n),Pi(n))}function Fd(e,n){return oe(e).pipe(Li(n),Pi(n))}function Vd(e,n){return new $(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function $d(e,n){return new $(t=>{let r;return ye(t,n,()=>{r=e[Ni](),ye(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>D(r?.return)&&r.return()})}function ji(e,n){if(!e)throw new Error("Iterable cannot be null");return new $(t=>{ye(t,n,()=>{let r=e[Symbol.asyncIterator]();ye(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Ud(e,n){return ji(Oi(e),n)}function Hd(e,n){if(e!=null){if(Mi(e))return jd(e,n);if(Di(e))return Vd(e,n);if(Ti(e))return Fd(e,n);if(xi(e))return ji(e,n);if(Ai(e))return $d(e,n);if(ki(e))return Ud(e,n)}throw Ri(e)}function U(e,n){return n?Hd(e,n):oe(e)}function E(...e){let n=Pt(e);return U(e,n)}function Ln(e,n){let t=D(e)?e:()=>e,r=o=>o.error(t());return new $(n?o=>n.schedule(r,0,o):r)}function Br(e){return!!e&&(e instanceof $||D(e.lift)&&D(e.subscribe))}var bt=xn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function I(e,n){return L((t,r)=>{let o=0;t.subscribe(j(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:Vv}=Array;function $v(e,n){return Vv(n)?e(...n):e(n)}function Bd(e){return I(n=>$v(e,n))}var{isArray:Uv}=Array,{getPrototypeOf:Hv,prototype:Bv,keys:zv}=Object;function zd(e){if(e.length===1){let n=e[0];if(Uv(n))return{args:n,keys:null};if(qv(n)){let t=zv(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function qv(e){return e&&typeof e=="object"&&Hv(e)===Bv}function qd(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function Fi(...e){let n=Pt(e),t=Nd(e),{args:r,keys:o}=zd(e);if(r.length===0)return U([],n);let i=new $(Wv(r,n,o?s=>qd(o,s):Ee));return t?i.pipe(Bd(t)):i}function Wv(e,n,t=Ee){return r=>{Wd(n,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Wd(n,()=>{let l=U(e[c],n),u=!1;l.subscribe(j(r,f=>{i[c]=f,u||(u=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Wd(e,n,t){e?ye(t,e,n):n()}function Gd(e,n,t,r,o,i,s,a){let c=[],l=0,u=0,f=!1,h=()=>{f&&!c.length&&!l&&n.complete()},d=y=>l<r?g(y):c.push(y),g=y=>{i&&n.next(y),l++;let w=!1;oe(t(y,u++)).subscribe(j(n,C=>{o?.(C),i?d(C):n.next(C)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let C=c.shift();s?ye(n,s,()=>g(C)):g(C)}h()}catch(C){n.error(C)}}))};return e.subscribe(j(n,d,()=>{f=!0,h()})),()=>{a?.()}}function X(e,n,t=1/0){return D(n)?X((r,o)=>I((i,s)=>n(r,i,o,s))(oe(e(r,o))),t):(typeof n=="number"&&(t=n),L((r,o)=>Gd(r,o,e,t)))}function Zd(e=1/0){return X(Ee,e)}function Kd(){return Zd(1)}function jn(...e){return Kd()(U(e,Pt(e)))}function Vi(e){return new $(n=>{oe(e()).subscribe(n)})}function ze(e,n){return L((t,r)=>{let o=0;t.subscribe(j(r,i=>e.call(n,i,o++)&&r.next(i)))})}function Lt(e){return L((n,t)=>{let r=null,o=!1,i;r=n.subscribe(j(t,void 0,void 0,s=>{i=oe(e(s,Lt(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Qd(e,n,t,r,o){return(i,s)=>{let a=t,c=n,l=0;i.subscribe(j(s,u=>{let f=l++;c=a?e(c,u,f):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Fn(e,n){return D(n)?X(e,n,1):X(e,1)}function jt(e){return L((n,t)=>{let r=!1;n.subscribe(j(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function _t(e){return e<=0?()=>ve:L((n,t)=>{let r=0;n.subscribe(j(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function $i(e=Gv){return L((n,t)=>{let r=!1;n.subscribe(j(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function Gv(){return new bt}function zr(e){return L((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function It(e,n){let t=arguments.length>=2;return r=>r.pipe(e?ze((o,i)=>e(o,i,r)):Ee,_t(1),t?jt(n):$i(()=>new bt))}function Vn(e){return e<=0?()=>ve:L((n,t)=>{let r=[];n.subscribe(j(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function bc(e,n){let t=arguments.length>=2;return r=>r.pipe(e?ze((o,i)=>e(o,i,r)):Ee,Vn(1),t?jt(n):$i(()=>new bt))}function _c(e,n){return L(Qd(e,n,arguments.length>=2,!0))}function Ic(...e){let n=Pt(e);return L((t,r)=>{(n?jn(e,t,n):jn(e,t)).subscribe(r)})}function ee(e,n){return L((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(j(r,c=>{o?.unsubscribe();let l=0,u=i++;oe(e(c,u)).subscribe(o=j(r,f=>r.next(n?n(c,f,u,l++):f),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ec(e){return L((n,t)=>{oe(e).subscribe(j(t,()=>t.complete(),kt)),!t.closed&&n.subscribe(t)})}function z(e,n,t){let r=D(e)||n||t?{next:e,error:n,complete:t}:e;return r?L((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(j(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ee}var Pf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(n,t){super(Kv(n,t)),this.code=n}};function Zv(e){return`NG0${Math.abs(e)}`}function Kv(e,n){return`${Zv(e)}${n?": "+n:""}`}var Lf=Symbol("InputSignalNode#UNSET"),Qv=k(v({},wi),{transformFn:void 0,applyValueToInputSignal(e,n){Vr(e,n)}});function jf(e,n){let t=Object.create(Qv);t.value=e,t.transformFn=n?.transform;function r(){if(Lr(t),t.value===Lf){let o=null;throw new b(-950,o)}return t.value}return r[Ae]=t,r}function vl(e){return{toString:e}.toString()}var Oc=globalThis;function H(e){for(let n in e)if(e[n]===H)return n;throw Error("Could not find renamed property on target object.")}function Se(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Se).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Jd(e,n){return e?n?`${e} ${n}`:e:n||""}var Jv=H({__forward_ref__:H});function Ff(e){return e.__forward_ref__=Ff,e.toString=function(){return Se(this())},e}function ke(e){return Vf(e)?e():e}function Vf(e){return typeof e=="function"&&e.hasOwnProperty(Jv)&&e.__forward_ref__===Ff}function _(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vs(e){return Yd(e,Uf)||Yd(e,Hf)}function $f(e){return vs(e)!==null}function Yd(e,n){return e.hasOwnProperty(n)?e[n]:null}function Yv(e){let n=e&&(e[Uf]||e[Hf]);return n||null}function Xd(e){return e&&(e.hasOwnProperty(ef)||e.hasOwnProperty(Xv))?e[ef]:null}var Uf=H({\u0275prov:H}),ef=H({\u0275inj:H}),Hf=H({ngInjectableDef:H}),Xv=H({ngInjectorDef:H}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=_({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Bf(e){return e&&!!e.\u0275providers}var ey=H({\u0275cmp:H}),ty=H({\u0275dir:H}),ny=H({\u0275pipe:H}),ry=H({\u0275mod:H}),Gi=H({\u0275fac:H}),Zr=H({__NG_ELEMENT_ID__:H}),tf=H({__NG_ENV_ID__:H});function ys(e){return typeof e=="string"?e:e==null?"":String(e)}function oy(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ys(e)}function zf(e,n){throw new b(-200,e)}function yl(e,n){throw new b(-201,!1)}var x=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(x||{}),kc;function qf(){return kc}function Oe(e){let n=kc;return kc=e,n}function Wf(e,n,t){let r=vs(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&x.Optional)return null;if(n!==void 0)return n;yl(e,"Injector")}var iy={},Xt=iy,sy="__NG_DI_FLAG__",Zi=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?bi:Xt,r)}},Ki="ngTempTokenPath",ay="ngTokenPath",cy=/\n/gm,ly="\u0275",nf="__source";function uy(e,n=x.Default){if($r()===void 0)throw new b(-203,!1);if($r()===null)return Wf(e,void 0,n);{let t=$r(),r;return t instanceof Zi?r=t.injector:r=t,r.get(e,n&x.Optional?null:void 0,n)}}function N(e,n=x.Default){return(qf()||uy)(ke(e),n)}function m(e,n=x.Default){return N(e,ws(n))}function ws(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Pc(e){let n=[];for(let t=0;t<e.length;t++){let r=ke(e[t]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let o,i=x.Default;for(let s=0;s<r.length;s++){let a=r[s],c=dy(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}n.push(N(o,i))}else n.push(N(r))}return n}function dy(e){return e[sy]}function fy(e,n,t,r){let o=e[Ki];throw n[nf]&&o.unshift(n[nf]),e.message=hy(`
`+e.message,o,t,r),e[ay]=o,e[Ki]=null,e}function hy(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==ly?e.slice(2):e;let o=Se(n);if(Array.isArray(n))o=n.map(Se).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Se(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(cy,`
  `)}`}function zn(e,n){let t=e.hasOwnProperty(Gi);return t?e[Gi]:null}function wl(e,n){e.forEach(t=>Array.isArray(t)?wl(t,n):n(t))}function Gf(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Qi(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}var qn={},Wn=[],Kr=new S(""),Zf=new S("",-1),Kf=new S(""),Ji=class{get(n,t=Xt){if(t===Xt){let r=new Error(`NullInjectorError: No provider for ${Se(n)}!`);throw r.name="NullInjectorError",r}return t}};function Qf(e,n){let t=e[ry]||null;if(!t&&n===!0)throw new Error(`Type ${Se(e)} does not have '\u0275mod' property.`);return t}function Gn(e){return e[ey]||null}function py(e){return e[ty]||null}function gy(e){return e[ny]||null}function bl(e){return{\u0275providers:e}}function my(...e){return{\u0275providers:Jf(!0,e),\u0275fromNgModule:!0}}function Jf(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return wl(n,s=>{let a=s;Lc(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Yf(o,i),t}function Yf(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];_l(o,i=>{n(i,r)})}}function Lc(e,n,t,r){if(e=ke(e),!e)return!1;let o=null,i=Xd(e),s=!i&&Gn(e);if(!i&&!s){let c=e.ngModule;if(i=Xd(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Lc(l,n,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{wl(i.imports,u=>{Lc(u,n,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Yf(l,n)}if(!a){let l=zn(o)||(()=>new o);n({provide:o,useFactory:l,deps:Wn},o),n({provide:Kf,useValue:o,multi:!0},o),n({provide:Kr,useValue:()=>N(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;_l(c,u=>{n(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function _l(e,n){for(let t of e)Bf(t)&&(t=t.\u0275providers),Array.isArray(t)?_l(t,n):n(t)}var vy=H({provide:String,useValue:H});function Xf(e){return e!==null&&typeof e=="object"&&vy in e}function yy(e){return!!(e&&e.useExisting)}function wy(e){return!!(e&&e.useFactory)}function jc(e){return typeof e=="function"}var bs=new S(""),Hi={},rf={},Sc;function Il(){return Sc===void 0&&(Sc=new Ji),Sc}var Ce=class{},Qr=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,Vc(n,s=>this.processProvider(s)),this.records.set(Zf,$n(void 0,this)),o.has("environment")&&this.records.set(Ce,$n(void 0,this));let i=this.records.get(bs);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Kf,Wn,x.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?bi:Xt,r)}destroy(){Wr(this),this._destroyed=!0;let n=R(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(n)}}onDestroy(n){return Wr(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Wr(this);let t=wt(this),r=Oe(void 0),o;try{return n()}finally{wt(t),Oe(r)}}get(n,t=Xt,r=x.Default){if(Wr(this),n.hasOwnProperty(tf))return n[tf](this);r=ws(r);let o,i=wt(this),s=Oe(void 0);try{if(!(r&x.SkipSelf)){let c=this.records.get(n);if(c===void 0){let l=Cy(n)&&vs(n);l&&this.injectableDefInScope(l)?c=$n(Fc(n),Hi):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,r)}let a=r&x.Self?Il():this.parent;return t=r&x.Optional&&t===Xt?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ki]=a[Ki]||[]).unshift(Se(n)),i)throw a;return fy(a,n,"R3InjectorError",this.source)}else throw a}finally{Oe(s),wt(i)}}resolveInjectorInitializers(){let n=R(null),t=wt(this),r=Oe(void 0),o;try{let i=this.get(Kr,Wn,x.Self);for(let s of i)s()}finally{wt(t),Oe(r),R(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Se(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ke(n);let t=jc(n)?n:ke(n&&n.provide),r=_y(n);if(!jc(n)&&n.multi===!0){let o=this.records.get(t);o||(o=$n(void 0,Hi,!0),o.factory=()=>Pc(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let o=R(null);try{return t.value===rf?zf(Se(n)):t.value===Hi&&(t.value=rf,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Sy(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{R(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=ke(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Fc(e){let n=vs(e),t=n!==null?n.factory:zn(e);if(t!==null)return t;if(e instanceof S)throw new b(204,!1);if(e instanceof Function)return by(e);throw new b(204,!1)}function by(e){if(e.length>0)throw new b(204,!1);let t=Yv(e);return t!==null?()=>t.factory(e):()=>new e}function _y(e){if(Xf(e))return $n(void 0,e.useValue);{let n=Iy(e);return $n(n,Hi)}}function Iy(e,n,t){let r;if(jc(e)){let o=ke(e);return zn(o)||Fc(o)}else if(Xf(e))r=()=>ke(e.useValue);else if(wy(e))r=()=>e.useFactory(...Pc(e.deps||[]));else if(yy(e))r=(o,i)=>N(ke(e.useExisting),i!==void 0&&i&x.Optional?x.Optional:void 0);else{let o=ke(e&&(e.useClass||e.provide));if(Ey(e))r=()=>new o(...Pc(e.deps));else return zn(o)||Fc(o)}return r}function Wr(e){if(e.destroyed)throw new b(205,!1)}function $n(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ey(e){return!!e.deps}function Sy(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Cy(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function Vc(e,n){for(let t of e)Array.isArray(t)?Vc(t,n):t&&Bf(t)?Vc(t.\u0275providers,n):n(t)}function Ze(e,n){let t;e instanceof Qr?(Wr(e),t=e):t=new Zi(e);let r,o=wt(t),i=Oe(void 0);try{return n()}finally{wt(o),Oe(i)}}function eh(){return qf()!==void 0||$r()!=null}function Yn(e){if(!eh())throw new b(-203,!1)}function Dy(e){return typeof e=="function"}var Ct=0,O=1,T=2,ge=3,We=4,Ke=5,Jr=6,Yi=7,te=8,tn=9,Et=10,ue=11,Yr=12,of=13,Xn=14,Ge=15,Zn=16,Un=17,Kn=18,_s=19,th=20,Ft=21,Cc=22,nn=23,Pe=24,Dc=25,Le=26,nh=1;var rn=7,Xi=8,es=9,pe=10;function Vt(e){return Array.isArray(e)&&typeof e[nh]=="object"}function Dt(e){return Array.isArray(e)&&e[nh]===!0}function rh(e){return(e.flags&4)!==0}function er(e){return e.componentOffset>-1}function El(e){return(e.flags&1)===1}function ln(e){return!!e.template}function ts(e){return(e[T]&512)!==0}function tr(e){return(e[T]&256)===256}var $c=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function oh(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Is=(()=>{let e=()=>ih;return e.ngInherit=!0,e})();function ih(e){return e.type.prototype.ngOnChanges&&(e.setInput=My),Ty}function Ty(){let e=ah(this),n=e?.current;if(n){let t=e.previous;if(t===qn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function My(e,n,t,r,o){let i=this.declaredInputs[r],s=ah(e)||xy(e,{previous:qn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new $c(l&&l.currentValue,t,c===qn),oh(e,n,o,t)}var sh="__ngSimpleChanges__";function ah(e){return e[sh]||null}function xy(e,n){return e[sh]=n}var sf=null;var B=function(e,n=null,t){sf?.(e,n,t)},Ry="svg",Ny="math";function rt(e){for(;Array.isArray(e);)e=e[Ct];return e}function Ay(e,n){return rt(n[e])}function st(e,n){return rt(n[e.index])}function Sl(e,n){return e.data[n]}function ot(e,n){let t=n[e];return Vt(t)?t:t[Ct]}function Cl(e){return(e[T]&128)===128}function Oy(e){return Dt(e[ge])}function Qn(e,n){return n==null?null:e[n]}function ch(e){e[Un]=0}function lh(e){e[T]&1024||(e[T]|=1024,Cl(e)&&so(e))}function ky(e,n){for(;e>0;)n=n[Xn],e--;return n}function Es(e){return!!(e[T]&9216||e[Pe]?.dirty)}function Uc(e){e[Et].changeDetectionScheduler?.notify(8),e[T]&64&&(e[T]|=1024),Es(e)&&so(e)}function so(e){e[Et].changeDetectionScheduler?.notify(0);let n=on(e);for(;n!==null&&!(n[T]&8192||(n[T]|=8192,!Cl(n)));)n=on(n)}function uh(e,n){if(tr(e))throw new b(911,!1);e[Ft]===null&&(e[Ft]=[]),e[Ft].push(n)}function Py(e,n){if(e[Ft]===null)return;let t=e[Ft].indexOf(n);t!==-1&&e[Ft].splice(t,1)}function on(e){let n=e[ge];return Dt(n)?n[ge]:n}function dh(e){return e[Yi]??=[]}function fh(e){return e.cleanup??=[]}var F={lFrame:bh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hc=!1;function Ly(){return F.lFrame.elementDepthCount}function jy(){F.lFrame.elementDepthCount++}function Fy(){F.lFrame.elementDepthCount--}function hh(){return F.bindingsEnabled}function Vy(){return F.skipHydrationRootTNode!==null}function $y(e){return F.skipHydrationRootTNode===e}function Uy(){F.skipHydrationRootTNode=null}function G(){return F.lFrame.lView}function Tt(){return F.lFrame.tView}function ao(e){return F.lFrame.contextLView=e,e[te]}function co(e){return F.lFrame.contextLView=null,e}function Qe(){let e=ph();for(;e!==null&&e.type===64;)e=e.parent;return e}function ph(){return F.lFrame.currentTNode}function Hy(){let e=F.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function lo(e,n){let t=F.lFrame;t.currentTNode=e,t.isParent=n}function gh(){return F.lFrame.isParent}function By(){F.lFrame.isParent=!1}function mh(){return Hc}function ns(e){let n=Hc;return Hc=e,n}function zy(e){return F.lFrame.bindingIndex=e}function uo(){return F.lFrame.bindingIndex++}function qy(){return F.lFrame.inI18n}function Wy(e,n){let t=F.lFrame;t.bindingIndex=t.bindingRootIndex=e,Bc(n)}function Gy(){return F.lFrame.currentDirectiveIndex}function Bc(e){F.lFrame.currentDirectiveIndex=e}function vh(e){F.lFrame.currentQueryIndex=e}function Zy(e){let n=e[O];return n.type===2?n.declTNode:n.type===1?e[Ke]:null}function yh(e,n,t){if(t&x.SkipSelf){let o=n,i=e;for(;o=o.parent,o===null&&!(t&x.Host);)if(o=Zy(i),o===null||(i=i[Xn],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=F.lFrame=wh();return r.currentTNode=n,r.lView=e,!0}function Dl(e){let n=wh(),t=e[O];F.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function wh(){let e=F.lFrame,n=e===null?null:e.child;return n===null?bh(e):n}function bh(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function _h(){let e=F.lFrame;return F.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ih=_h;function Tl(){let e=_h();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ky(e){return(F.lFrame.contextLView=ky(e,F.lFrame.contextLView))[te]}function Ss(){return F.lFrame.selectedIndex}function sn(e){F.lFrame.selectedIndex=e}function Eh(){let e=F.lFrame;return Sl(e.tView,e.selectedIndex)}function Qy(){return F.lFrame.currentNamespace}var Sh=!0;function Ml(){return Sh}function xl(e){Sh=e}function Jy(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=ih(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function Ch(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Bi(e,n,t){Dh(e,n,3,t)}function zi(e,n,t,r){(e[T]&3)===t&&Dh(e,n,t,r)}function Tc(e,n){let t=e[T];(t&3)===n&&(t&=16383,t+=1,e[T]=t)}function Dh(e,n,t,r){let o=r!==void 0?e[Un]&65535:0,i=r??-1,s=n.length-1,a=0;for(let c=o;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[Un]+=65536),(a<i||i==-1)&&(Yy(e,t,n,c),e[Un]=(e[Un]&4294901760)+c+2),c++}function af(e,n){B(4,e,n);let t=R(null);try{n.call(e)}finally{R(t),B(5,e,n)}}function Yy(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=e[s];o?e[T]>>14<e[Un]>>16&&(e[T]&3)===n&&(e[T]+=16384,af(a,i)):af(a,i)}var Bn=-1,Xr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Xy(e){return(e.flags&8)!==0}function ew(e){return(e.flags&16)!==0}function tw(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{let i=o,s=t[++r];nw(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function Th(e){return e===3||e===4||e===6}function nw(e){return e.charCodeAt(0)===64}function Rl(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?cf(e,t,o,null,n[++r]):cf(e,t,o,null,null))}}return e}function cf(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function Mh(e){return e!==Bn}function rs(e){return e&32767}function rw(e){return e>>16}function os(e,n){let t=rw(e),r=n;for(;t>0;)r=r[Xn],t--;return r}var zc=!0;function lf(e){let n=zc;return zc=e,n}var ow=256,xh=ow-1,Rh=5,iw=0,nt={};function sw(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zr)&&(r=t[Zr]),r==null&&(r=t[Zr]=iw++);let o=r&xh,i=1<<o;n.data[e+(o>>Rh)]|=i}function Nh(e,n){let t=Ah(e,n);if(t!==-1)return t;let r=n[O];r.firstCreatePass&&(e.injectorIndex=n.length,Mc(r.data,e),Mc(n,null),Mc(r.blueprint,null));let o=Nl(e,n),i=e.injectorIndex;if(Mh(o)){let s=rs(o),a=os(o,n),c=a[O].data;for(let l=0;l<8;l++)n[i+l]=a[s+l]|c[s+l]}return n[i+8]=o,i}function Mc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ah(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Nl(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=jh(o),r===null)return Bn;if(t++,o=o[Xn],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Bn}function aw(e,n,t){sw(e,n,t)}function cw(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(Th(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===n)return t[o+1];o=o+2}}}return null}function Oh(e,n,t){if(t&x.Optional||e!==void 0)return e;yl(n,"NodeInjector")}function kh(e,n,t,r){if(t&x.Optional&&r===void 0&&(r=null),(t&(x.Self|x.Host))===0){let o=e[tn],i=Oe(void 0);try{return o?o.get(n,r,t&x.Optional):Wf(n,r,t&x.Optional)}finally{Oe(i)}}return Oh(r,n,t)}function Ph(e,n,t,r=x.Default,o){if(e!==null){if(n[T]&2048&&!(r&x.Self)){let s=hw(e,n,t,r,nt);if(s!==nt)return s}let i=Lh(e,n,t,r,nt);if(i!==nt)return i}return kh(n,t,r,o)}function Lh(e,n,t,r,o){let i=dw(t);if(typeof i=="function"){if(!yh(n,e,r))return r&x.Host?Oh(o,t,r):kh(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&x.Optional))yl(t);else return s}finally{Ih()}}else if(typeof i=="number"){let s=null,a=Ah(e,n),c=Bn,l=r&x.Host?n[Ge][Ke]:null;for((a===-1||r&x.SkipSelf)&&(c=a===-1?Nl(e,n):n[a+8],c===Bn||!df(r,!1)?a=-1:(s=n[O],a=rs(c),n=os(c,n)));a!==-1;){let u=n[O];if(uf(i,a,u.data)){let f=lw(a,n,t,s,r,l);if(f!==nt)return f}c=n[a+8],c!==Bn&&df(r,n[O].data[a+8]===l)&&uf(i,a,n)?(s=u,a=rs(c),n=os(c,n)):a=-1}}return o}function lw(e,n,t,r,o,i){let s=n[O],a=s.data[e+8],c=r==null?er(a)&&zc:r!=s&&(a.type&3)!==0,l=o&x.Host&&i===a,u=uw(a,s,t,c,l);return u!==null?qc(n,s,u,a,o):nt}function uw(e,n,t,r,o){let i=e.providerIndexes,s=n.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,f=r?a:a+u,h=o?a+u:l;for(let d=f;d<h;d++){let g=s[d];if(d<c&&t===g||d>=c&&g.type===t)return d}if(o){let d=s[c];if(d&&ln(d)&&d.type===t)return c}return null}function qc(e,n,t,r,o){let i=e[t],s=n.data;if(i instanceof Xr){let a=i;a.resolving&&zf(oy(s[t]));let c=lf(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Oe(a.injectImpl):null,f=yh(e,r,x.Default);try{i=e[t]=a.factory(void 0,o,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&Jy(t,s[t],n)}finally{u!==null&&Oe(u),lf(c),a.resolving=!1,Ih()}}return i}function dw(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Zr)?e[Zr]:void 0;return typeof n=="number"?n>=0?n&xh:fw:n}function uf(e,n,t){let r=1<<e;return!!(t[n+(e>>Rh)]&r)}function df(e,n){return!(e&x.Self)&&!(e&x.Host&&n)}var en=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Ph(this._tNode,this._lView,n,ws(r),t)}};function fw(){return new en(Qe(),G())}function Al(e){return vl(()=>{let n=e.prototype.constructor,t=n[Gi]||Wc(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Gi]||Wc(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Wc(e){return Vf(e)?()=>{let n=Wc(ke(e));return n&&n()}:zn(e)}function hw(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[T]&2048&&!ts(s);){let a=Lh(i,s,t,r|x.Self,nt);if(a!==nt)return a;let c=i.parent;if(!c){let l=s[th];if(l){let u=l.get(t,nt,r);if(u!==nt)return u}c=jh(s),s=s[Xn]}i=c}return o}function jh(e){let n=e[O],t=n.type;return t===2?n.declTNode:t===1?e[Ke]:null}function Fh(e){return cw(Qe(),e)}function ff(e,n=null,t=null,r){let o=Vh(e,n,t,r);return o.resolveInjectorInitializers(),o}function Vh(e,n=null,t=null,r,o=new Set){let i=[t||Wn,my(e)];return r=r||(typeof e=="object"?void 0:Se(e)),new Qr(i,n||Il(),r||null,o)}var me=class e{static THROW_IF_NOT_FOUND=Xt;static NULL=new Ji;static create(n,t){if(Array.isArray(n))return ff({name:""},t,n,"");{let r=n.name??"";return ff({name:r},n.parent,n.providers,r)}}static \u0275prov=_({token:e,providedIn:"any",factory:()=>N(Zf)});static __NG_ELEMENT_ID__=-1};var pw=new S("");pw.__NG_ELEMENT_ID__=e=>{let n=Qe();if(n===null)throw new b(204,!1);if(n.type&2)return n.value;if(e&x.Optional)return null;throw new b(204,!1)};var $h=!1,je=(()=>{class e{static __NG_ELEMENT_ID__=gw;static __NG_ENV_ID__=t=>t}return e})(),is=class extends je{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return tr(t)?(n(),()=>{}):(uh(t,n),()=>Py(t,n))}};function gw(){return new is(G())}var an=class{},Ol=new S("",{providedIn:"root",factory:()=>!1});var Uh=new S(""),kl=new S(""),nr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ae(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})();var Gc=class extends K{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,eh()&&(this.destroyRef=m(je,{optional:!0})??void 0,this.pendingTasks=m(nr,{optional:!0})??void 0)}emit(n){let t=R(null);try{super.next(n)}finally{R(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof Q&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},we=Gc;function eo(...e){}function Hh(e){let n,t;function r(){e=eo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function hf(e){return queueMicrotask(()=>e()),()=>{e=eo}}var Pl="isAngularZone",ss=Pl+"_ID",mw=0,ie=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new we(!1);onMicrotaskEmpty=new we(!1);onStable=new we(!1);onError=new we(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=$h}=n;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,ww(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pl)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,vw,eo,eo);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},vw={};function Ll(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Hh(()=>{e.callbackScheduled=!1,Zc(e),e.isCheckStableRunning=!0,Ll(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Zc(e)}function ww(e){let n=()=>{yw(e)},t=mw++;e._inner=e._inner.fork({name:"angular",properties:{[Pl]:!0,[ss]:t,[ss+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(bw(c))return r.invokeTask(i,s,a,c);try{return pf(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),gf(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return pf(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!_w(c)&&n(),gf(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Zc(e),Ll(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Zc(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function pf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gf(e){e._nesting--,Ll(e)}var as=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new we;onMicrotaskEmpty=new we;onStable=new we;onError=new we;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function bw(e){return Bh(e,"__ignore_ng_zone__")}function _w(e){return Bh(e,"__scheduler_tick__")}function Bh(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var St=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Iw=new S("",{providedIn:"root",factory:()=>{let e=m(ie),n=m(St);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function mf(e,n){return jf(e,n)}function Ew(e){return jf(Lf,e)}var zh=(mf.required=Ew,mf);function Sw(){return jl(Qe(),G())}function jl(e,n){return new Fl(st(e,n))}var Fl=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Sw}return e})();function fo(e){return typeof e=="function"&&e[Ae]!==void 0}function Vl(e,n){let t=ac(e,n?.equal),r=t[Ae];return t.set=o=>Vr(r,o),t.update=o=>cc(r,o),t.asReadonly=Cw.bind(t),t}function Cw(){let e=this[Ae];if(e.readonlyFn===void 0){let n=()=>this();n[Ae]=e,e.readonlyFn=n}return e.readonlyFn}function qh(e){return(e.flags&128)===128}var Wh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wh||{}),Gh=new Map,Dw=0;function Tw(){return Dw++}function Mw(e){Gh.set(e[_s],e)}function Kc(e){Gh.delete(e[_s])}var vf="__ngContext__";function ho(e,n){Vt(n)?(e[vf]=n[_s],Mw(n)):e[vf]=n}function Zh(e){return Qh(e[Yr])}function Kh(e){return Qh(e[We])}function Qh(e){for(;e!==null&&!Dt(e);)e=e[We];return e}var Qc;function Jh(e){Qc=e}function xw(){if(Qc!==void 0)return Qc;if(typeof document<"u")return document;throw new b(210,!1)}var Cs=new S("",{providedIn:"root",factory:()=>Rw}),Rw="ng",$l=new S(""),po=new S("",{providedIn:"platform",factory:()=>"unknown"});var Ul=new S("",{providedIn:"root",factory:()=>xw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Nw="h",Aw="b";var Yh=!1,Ow=new S("",{providedIn:"root",factory:()=>Yh});var Xh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Xh||{}),Ds=new S(""),yf=new Set;function go(e){yf.has(e)||(yf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ep=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=kw}return e})();function kw(){return new ep(G(),Qe())}var Pw=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})();var Lw=()=>null;function tp(e,n,t=!1){return Lw(e,n,t)}function np(e,n){let t=e.contentQueries;if(t!==null){let r=R(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=e.data[s];vh(i),a.contentQueries(2,n[s],s)}}}finally{R(r)}}}function Jc(e,n,t){vh(0);let r=R(null);try{n(e,t)}finally{R(r)}}function rp(e,n,t){if(rh(n)){let r=R(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{R(r)}}}var it=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(it||{});var Ui;function jw(){if(Ui===void 0&&(Ui=null,Oc.trustedTypes))try{Ui=Oc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ui}function wf(e){return jw()?.createScriptURL(e)||e}var cs=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pf})`}};function op(e){return e instanceof cs?e.changingThisBreaksApplicationSecurity:e}function ip(e,n){let t=Fw(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Pf})`)}return t===n}function Fw(e){return e instanceof cs&&e.getTypeName()||null}var Vw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $w(e){return e=String(e),e.match(Vw)?e:"unsafe:"+e}var Hl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Hl||{});function mo(e){let n=ap();return n?n.sanitize(Hl.URL,e)||"":ip(e,"URL")?op(e):$w(ys(e))}function Uw(e){let n=ap();if(n)return wf(n.sanitize(Hl.RESOURCE_URL,e)||"");if(ip(e,"ResourceURL"))return wf(op(e));throw new b(904,!1)}function Hw(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?Uw:mo}function sp(e,n,t){return Hw(n,t)(e)}function ap(){let e=G();return e&&e[Et].sanitizer}function cp(e){return e instanceof Function?e():e}function Bw(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var lp="ng-template";function zw(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&Bw(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(Bl(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function Bl(e){return e.type===4&&e.value!==lp}function qw(e,n,t){let r=e.type===4&&!t?lp:e.value;return n===r}function Ww(e,n,t){let r=4,o=e.attrs,i=o!==null?Kw(o):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!qe(r)&&!qe(c))return!1;if(s&&qe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!qw(e,c,t)||c===""&&n.length===1){if(qe(r))return!1;s=!0}}else if(r&8){if(o===null||!zw(e,o,c,t)){if(qe(r))return!1;s=!0}}else{let l=n[++a],u=Gw(c,o,Bl(e),t);if(u===-1){if(qe(r))return!1;s=!0;continue}if(l!==""){let f;if(u>i?f="":f=o[u+1].toLowerCase(),r&2&&l!==f){if(qe(r))return!1;s=!0}}}}return qe(r)||s}function qe(e){return(e&1)===0}function Gw(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Qw(n,e)}function Zw(e,n,t=!1){for(let r=0;r<n.length;r++)if(Ww(e,n[r],t))return!0;return!1}function Kw(e){for(let n=0;n<e.length;n++){let t=e[n];if(Th(t))return n}return e.length}function Qw(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function bf(e,n){return e?":not("+n.trim()+")":n}function Jw(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!qe(s)&&(n+=bf(i,o),o=""),r=s,i=i||!qe(r);t++}return o!==""&&(n+=bf(i,o)),n}function Yw(e){return e.map(Jw).join(",")}function Xw(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!qe(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var vo={};function eb(e,n){return e.createText(n)}function tb(e,n,t){e.setValue(n,t)}function up(e,n,t){return e.createElement(n,t)}function ls(e,n,t,r,o){e.insertBefore(n,t,r,o)}function dp(e,n,t){e.appendChild(n,t)}function _f(e,n,t,r,o){r!==null?ls(e,n,t,r,o):dp(e,n,t)}function nb(e,n,t){e.removeChild(null,n,t)}function rb(e,n,t){e.setAttribute(n,"style",t)}function ob(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function fp(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&tw(e,n,r),o!==null&&ob(e,n,o),i!==null&&rb(e,n,i)}function zl(e,n,t,r,o,i,s,a,c,l,u){let f=Le+r,h=f+o,d=ib(f,h),g=typeof l=="function"?l():l;return d[O]={type:e,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:n,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function ib(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:vo);return t}function sb(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=zl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function ql(e,n,t,r,o,i,s,a,c,l,u){let f=n.blueprint.slice();return f[Ct]=o,f[T]=r|4|128|8|64|1024,(l!==null||e&&e[T]&2048)&&(f[T]|=2048),ch(f),f[ge]=f[Xn]=e,f[te]=t,f[Et]=s||e&&e[Et],f[ue]=a||e&&e[ue],f[tn]=c||e&&e[tn]||null,f[Ke]=i,f[_s]=Tw(),f[Jr]=u,f[th]=l,f[Ge]=n.type==2?e[Ge]:f,f}function ab(e,n,t){let r=st(n,e),o=sb(t),i=e[Et].rendererFactory,s=Wl(e,ql(e,o,null,hp(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function hp(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function pp(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function Wl(e,n){return e[Yr]?e[of][We]=n:e[Yr]=n,e[of]=n,n}function De(e=1){gp(Tt(),G(),Ss()+e,!1)}function gp(e,n,t,r){if(!r)if((n[T]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Bi(n,i,t)}else{let i=e.preOrderHooks;i!==null&&zi(n,i,0,t)}sn(t)}var Ts=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ts||{});function Yc(e,n,t,r){let o=R(null);try{let[i,s,a]=e.inputs[t],c=null;(s&Ts.SignalBased)!==0&&(c=n[i][Ae]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,i):oh(n,c,i,r)}finally{R(o)}}function mp(e,n,t,r,o){let i=Ss(),s=r&2;try{sn(-1),s&&n.length>Le&&gp(e,n,Le,!1),B(s?2:0,o),t(r,o)}finally{sn(i),B(s?3:1,o)}}function Gl(e,n,t){pb(e,n,t),(t.flags&64)===64&&gb(e,n,t)}function vp(e,n,t=st){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(n,e):e[s];e[o++]=a}}}function cb(e,n,t,r){let i=r.get(Ow,Yh)||t===it.ShadowDom,s=e.selectRootElement(n,i);return lb(s),s}function lb(e){ub(e)}var ub=()=>null;function db(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function fb(e,n,t,r,o,i,s,a){if(!a&&Zl(n,e,t,r,o)){er(n)&&hb(t,n.index);return}if(n.type&3){let c=st(n,t);r=db(r),o=s!=null?s(o,n.value||"",r):o,i.setProperty(c,r,o)}else n.type&12}function hb(e,n){let t=ot(n,e);t[T]&16||(t[T]|=64)}function pb(e,n,t){let r=t.directiveStart,o=t.directiveEnd;er(t)&&ab(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Nh(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=qc(n,e,s,t);if(ho(c,n),i!==null&&wb(n,s-r,c,a,t,i),ln(a)){let l=ot(t.index,n);l[te]=qc(n,e,s,t)}}}function gb(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=Gy();try{sn(i);for(let a=r;a<o;a++){let c=e.data[a],l=n[a];Bc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mb(c,l)}}finally{sn(-1),Bc(s)}}function mb(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function yp(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];Zw(n,i.selectors,!1)&&(r??=[],ln(i)?r.unshift(i):r.push(i))}return r}function vb(e,n,t,r,o,i){let s=st(e,n);yb(n[ue],s,i,e.value,t,r,o)}function yb(e,n,t,r,o,i,s){if(i==null)e.removeAttribute(n,o,t);else{let a=s==null?ys(i):s(i,r||"",o);e.setAttribute(n,o,a,t)}}function wb(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Yc(r,t,c,l)}}function bb(e,n){let t=e[tn],r=t?t.get(St,null):null;r&&r.handleError(n)}function Zl(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],f=n.data[l];Yc(f,t[l],u,o),a=!0}if(i)for(let c of i){let l=t[c],u=n.data[c];Yc(u,l,r,o),a=!0}return a}function _b(e,n){let t=ot(n,e),r=t[O];Ib(r,t);let o=t[Ct];o!==null&&t[Jr]===null&&(t[Jr]=tp(o,t[tn])),B(18),Kl(r,t,t[te]),B(19,t[te])}function Ib(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Kl(e,n,t){Dl(n);try{let r=e.viewQuery;r!==null&&Jc(1,r,t);let o=e.template;o!==null&&mp(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Kn]?.finishViewCreation(e),e.staticContentQueries&&np(e,n),e.staticViewQueries&&Jc(2,e.viewQuery,t);let i=e.components;i!==null&&Eb(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[T]&=-5,Tl()}}function Eb(e,n){for(let t=0;t<n.length;t++)_b(e,n[t])}function Ql(e,n,t,r){let o=R(null);try{let i=n.tView,a=e[T]&4096?4096:16,c=ql(e,i,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[Zn]=l;let u=e[Kn];return u!==null&&(c[Kn]=u.createEmbeddedView(i)),Kl(i,c,t),c}finally{R(o)}}function to(e,n){return!n||n.firstChild===null||qh(e)}var Sb;function Jl(e,n){return Sb(e,n)}var rr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(rr||{});function wp(e){return(e.flags&32)===32}function Hn(e,n,t,r,o){if(r!=null){let i,s=!1;Dt(r)?i=r:Vt(r)&&(s=!0,r=r[Ct]);let a=rt(r);e===0&&t!==null?o==null?dp(n,t,a):ls(n,t,a,o||null,!0):e===1&&t!==null?ls(n,t,a,o||null,!0):e===2?nb(n,a,s):e===3&&n.destroyNode(a),i!=null&&Lb(n,e,i,t,o)}}function Cb(e,n){bp(e,n),n[Ct]=null,n[Ke]=null}function Db(e,n,t,r,o,i){r[Ct]=o,r[Ke]=n,xs(e,r,t,1,o,i)}function bp(e,n){n[Et].changeDetectionScheduler?.notify(9),xs(e,n,n[ue],2,null,null)}function Tb(e){let n=e[Yr];if(!n)return xc(e[O],e);for(;n;){let t=null;if(Vt(n))t=n[Yr];else{let r=n[pe];r&&(t=r)}if(!t){for(;n&&!n[We]&&n!==e;)Vt(n)&&xc(n[O],n),n=n[ge];n===null&&(n=e),Vt(n)&&xc(n[O],n),t=n&&n[We]}n=t}}function Yl(e,n){let t=e[es],r=t.indexOf(n);t.splice(r,1)}function Ms(e,n){if(tr(n))return;let t=n[ue];t.destroyNode&&xs(e,n,t,3,null,null),Tb(n)}function xc(e,n){if(tr(n))return;let t=R(null);try{n[T]&=-129,n[T]|=256,n[Pe]&&Fr(n[Pe]),xb(e,n),Mb(e,n),n[O].type===1&&n[ue].destroy();let r=n[Zn];if(r!==null&&Dt(n[ge])){r!==n[ge]&&Yl(r,n);let o=n[Kn];o!==null&&o.detachView(e)}Kc(n)}finally{R(t)}}function Mb(e,n){let t=e.cleanup,r=n[Yi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Yi]=null);let o=n[Ft];if(o!==null){n[Ft]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[nn];if(i!==null){n[nn]=null;for(let s of i)s.destroy()}}function xb(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof Xr)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];B(4,a,c);try{c.call(a)}finally{B(5,a,c)}}else{B(4,o,i);try{i.call(o)}finally{B(5,o,i)}}}}}function Rb(e,n,t){return Nb(e,n.parent,t)}function Nb(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Ct];if(er(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===it.None||o===it.Emulated)return null}return st(r,t)}function Ab(e,n,t){return kb(e,n,t)}function Ob(e,n,t){return e.type&40?st(e,t):null}var kb=Ob,If;function Xl(e,n,t,r){let o=Rb(e,r,n),i=n[ue],s=r.parent||n[Ke],a=Ab(s,r,n);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)_f(i,o,t[c],a,!1);else _f(i,o,t,a,!1);If!==void 0&&If(i,r,n,t,o)}function Gr(e,n){if(n!==null){let t=n.type;if(t&3)return st(n,e);if(t&4)return Xc(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Gr(e,r);{let o=e[n.index];return Dt(o)?Xc(-1,o):rt(o)}}else{if(t&128)return Gr(e,n.next);if(t&32)return Jl(n,e)()||rt(e[n.index]);{let r=_p(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=on(e[Ge]);return Gr(o,r)}else return Gr(e,n.next)}}}return null}function _p(e,n){if(n!==null){let r=e[Ge][Ke],o=n.projection;return r.projection[o]}return null}function Xc(e,n){let t=pe+e+1;if(t<n.length){let r=n[t],o=r[O].firstChild;if(o!==null)return Gr(r,o)}return n[rn]}function eu(e,n,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&n===0&&(a&&ho(rt(a),r),t.flags|=2),!wp(t))if(c&8)eu(e,n,t.child,r,o,i,!1),Hn(n,e,o,a,i);else if(c&32){let l=Jl(t,r),u;for(;u=l();)Hn(n,e,o,u,i);Hn(n,e,o,a,i)}else c&16?Pb(e,n,r,t,o,i):Hn(n,e,o,a,i);t=s?t.projectionNext:t.next}}function xs(e,n,t,r,o,i){eu(t,r,e.firstChild,n,o,i,!1)}function Pb(e,n,t,r,o,i){let s=t[Ge],c=s[Ke].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Hn(n,e,o,u,i)}else{let l=c,u=s[ge];qh(r)&&(l.flags|=128),eu(e,n,l,u,o,i,!0)}}function Lb(e,n,t,r,o){let i=t[rn],s=rt(t);i!==s&&Hn(n,e,r,i,o);for(let a=pe;a<t.length;a++){let c=t[a];xs(c[O],c,e,n,r,i)}}function us(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(rt(i)),Dt(i)&&jb(i,r);let s=t.type;if(s&8)us(e,n,t.child,r);else if(s&32){let a=Jl(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=_p(n,t);if(Array.isArray(a))r.push(...a);else{let c=on(n[Ge]);us(c[O],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function jb(e,n){for(let t=pe;t<e.length;t++){let r=e[t],o=r[O].firstChild;o!==null&&us(r[O],r,o,n)}e[rn]!==e[Ct]&&n.push(e[rn])}function Ip(e){if(e[Dc]!==null){for(let n of e[Dc])n.impl.addSequence(n);e[Dc].length=0}}var Ep=[];function Fb(e){return e[Pe]??Vb(e)}function Vb(e){let n=Ep.pop()??Object.create(Ub);return n.lView=e,n}function $b(e){e.lView[Pe]!==e&&(e.lView=null,Ep.push(e))}var Ub=k(v({},Mn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{so(e.lView)},consumerOnSignalRead(){this.lView[Pe]=this}});function Hb(e){let n=e[Pe]??Object.create(Bb);return n.lView=e,n}var Bb=k(v({},Mn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=on(e.lView);for(;n&&!Sp(n[O]);)n=on(n);n&&lh(n)},consumerOnSignalRead(){this.lView[Pe]=this}});function Sp(e){return e.type!==2}function Cp(e){if(e[nn]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[nn])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[T]&8192)}}var zb=100;function Dp(e,n=!0,t=0){let o=e[Et].rendererFactory,i=!1;i||o.begin?.();try{qb(e,t)}catch(s){throw n&&bb(e,s),s}finally{i||o.end?.()}}function qb(e,n){let t=mh();try{ns(!0),el(e,n);let r=0;for(;Es(e);){if(r===zb)throw new b(103,!1);r++,el(e,1)}}finally{ns(t)}}function Wb(e,n,t,r){if(tr(n))return;let o=n[T],i=!1,s=!1;Dl(n);let a=!0,c=null,l=null;i||(Sp(e)?(l=Fb(n),c=jr(l)):tc()===null?(a=!1,l=Hb(n),c=jr(l)):n[Pe]&&(Fr(n[Pe]),n[Pe]=null));try{ch(n),zy(e.bindingStartIndex),t!==null&&mp(e,n,t,2,r);let u=(o&3)===3;if(!i)if(u){let d=e.preOrderCheckHooks;d!==null&&Bi(n,d,null)}else{let d=e.preOrderHooks;d!==null&&zi(n,d,0,null),Tc(n,0)}if(s||Gb(n),Cp(n),Tp(n,0),e.contentQueries!==null&&np(e,n),!i)if(u){let d=e.contentCheckHooks;d!==null&&Bi(n,d)}else{let d=e.contentHooks;d!==null&&zi(n,d,1),Tc(n,1)}Kb(e,n);let f=e.components;f!==null&&xp(n,f,0);let h=e.viewQuery;if(h!==null&&Jc(2,h,r),!i)if(u){let d=e.viewCheckHooks;d!==null&&Bi(n,d)}else{let d=e.viewHooks;d!==null&&zi(n,d,2),Tc(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Cc]){for(let d of n[Cc])d();n[Cc]=null}i||(Ip(n),n[T]&=-73)}catch(u){throw i||so(n),u}finally{l!==null&&(gi(l,c),a&&$b(l)),Tl()}}function Tp(e,n){for(let t=Zh(e);t!==null;t=Kh(t))for(let r=pe;r<t.length;r++){let o=t[r];Mp(o,n)}}function Gb(e){for(let n=Zh(e);n!==null;n=Kh(n)){if(!(n[T]&2))continue;let t=n[es];for(let r=0;r<t.length;r++){let o=t[r];lh(o)}}}function Zb(e,n,t){B(18);let r=ot(n,e);Mp(r,t),B(19,r[te])}function Mp(e,n){Cl(e)&&el(e,n)}function el(e,n){let r=e[O],o=e[T],i=e[Pe],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&mi(i)),s||=!1,i&&(i.dirty=!1),e[T]&=-9217,s)Wb(r,e,r.template,e[te]);else if(o&8192){Cp(e),Tp(e,1);let a=r.components;a!==null&&xp(e,a,1),Ip(e)}}function xp(e,n,t){for(let r=0;r<n.length;r++)Zb(e,n[r],t)}function Kb(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)sn(~o);else{let i=o,s=t[++r],a=t[++r];Wy(s,i);let c=n[i];B(24,c),a(2,c),B(25,c)}}}finally{sn(-1)}}function tu(e,n){let t=mh()?64:1088;for(e[Et].changeDetectionScheduler?.notify(n);e;){e[T]|=t;let r=on(e);if(ts(e)&&!r)return e;e=r}return null}function Rp(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Np(e,n){let t=pe+n;if(t<e.length)return e[t]}function Rs(e,n,t,r=!0){let o=n[O];if(Qb(o,n,e,t),r){let s=Xc(t,e),a=n[ue],c=a.parentNode(e[rn]);c!==null&&Db(o,e[Ke],a,n,c,s)}let i=n[Jr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Ap(e,n){let t=no(e,n);return t!==void 0&&Ms(t[O],t),t}function no(e,n){if(e.length<=pe)return;let t=pe+n,r=e[t];if(r){let o=r[Zn];o!==null&&o!==e&&Yl(o,r),n>0&&(e[t-1][We]=r[We]);let i=Qi(e,pe+n);Cb(r[O],r);let s=i[Kn];s!==null&&s.detachView(i[O]),r[ge]=null,r[We]=null,r[T]&=-129}return r}function Qb(e,n,t,r){let o=pe+r,i=t.length;r>0&&(t[o-1][We]=n),r<i-pe?(n[We]=t[o],Gf(t,pe+r,n)):(t.push(n),n[We]=null),n[ge]=t;let s=n[Zn];s!==null&&t!==s&&Op(s,n);let a=n[Kn];a!==null&&a.insertView(e),Uc(n),n[T]|=128}function Op(e,n){let t=e[es],r=n[ge];if(Vt(r))e[T]|=2;else{let o=r[ge][Ge];n[Ge]!==o&&(e[T]|=2)}t===null?e[es]=[n]:t.push(n)}var ds=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[O];return us(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[te]}set context(n){this._lView[te]=n}get destroyed(){return tr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ge];if(Dt(n)){let t=n[Xi],r=t?t.indexOf(this):-1;r>-1&&(no(n,r),Qi(t,r))}this._attachedToViewContainer=!1}Ms(this._lView[O],this._lView)}onDestroy(n){uh(this._lView,n)}markForCheck(){tu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[T]&=-129}reattach(){Uc(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,Dp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=ts(this._lView),t=this._lView[Zn];t!==null&&!n&&Yl(t,this._lView),bp(this._lView[O],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=n;let t=ts(this._lView),r=this._lView[Zn];r!==null&&!t&&Op(r,this._lView),Uc(this._lView)}};function nu(e,n,t,r,o){let i=e.data[n];if(i===null)i=Jb(e,n,t,r,o),qy()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=Hy();i.injectorIndex=s===null?-1:s.injectorIndex}return lo(i,!0),i}function Jb(e,n,t,r,o){let i=ph(),s=gh(),a=s?i:i&&i.parent,c=e.data[n]=Xb(e,a,t,n,r,o);return Yb(e,c,i,s),c}function Yb(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function Xb(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return Vy()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var FN=new RegExp(`^(\\d+)*(${Aw}|${Nw})*(.*)`);var e_=()=>null;function ro(e,n){return e_(e,n)}var t_=class{},kp=class{},tl=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Se(n)}.`)}},Ns=class{static NULL=new tl},Jn=class{},Pp=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>n_()}return e})();function n_(){let e=G(),n=Qe(),t=ot(n.index,e);return(Vt(t)?t:e)[ue]}var r_=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>null})}return e})();var Rc={},nl=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=ws(r);let o=this.injector.get(n,Rc,r);return o!==Rc||t===Rc?o:this.parentInjector.get(n,t,r)}};function Ef(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=Jd(o,a);else if(i==2){let c=a,l=n[++s];r=Jd(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function un(e,n=x.Default){let t=G();if(t===null)return N(e,n);let r=Qe();return Ph(r,t,ke(e),n)}function Lp(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let a,c=null,l=null,u=i_(s);u===null?a=s:[a,c,l]=u,c_(e,n,t,a,i,c,l)}i!==null&&r!==null&&o_(t,r,i)}function o_(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new b(-301,!1);r.push(n[o],i)}}function i_(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&ln(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,s_(s,r,i,o)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,o,i]):null}function s_(e,n,t,r){let o=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[o,n.length-1])}function a_(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function c_(e,n,t,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let d=r[h];!c&&ln(d)&&(c=!0,a_(e,t,h)),aw(Nh(t,n),e,d.type)}p_(t,e.data.length,a);for(let h=0;h<a;h++){let d=r[h];d.providersResolver&&d.providersResolver(d)}let l=!1,u=!1,f=pp(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let d=r[h];if(t.mergedAttrs=Rl(t.mergedAttrs,d.hostAttrs),u_(e,t,n,f,d),h_(f,d,o),s!==null&&s.has(d)){let[y,w]=s.get(d);t.directiveToIndex.set(d.type,[f,y+t.directiveStart,w+t.directiveStart])}else(i===null||!i.has(d))&&t.directiveToIndex.set(d.type,f);d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let g=d.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}l_(e,t,i)}function l_(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))Sf(0,n,o,r),Sf(1,n,o,r),Df(n,r,!1);else{let i=t.get(o);Cf(0,n,i,r),Cf(1,n,i,r),Df(n,r,!0)}}}function Sf(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),jp(n,i)}}function Cf(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),jp(n,s)}}function jp(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Df(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||Bl(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function u_(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=zn(o.type,!0)),s=new Xr(i,ln(o),un);e.blueprint[r]=s,t[r]=s,d_(e,n,r,pp(e,t,o.hostVars,vo),o)}function d_(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;f_(s)!=a&&s.push(a),s.push(t,r,i)}}function f_(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function h_(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;ln(n)&&(t[""]=e)}}function p_(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Fp(e,n,t,r,o,i,s,a){let c=n.consts,l=Qn(c,s),u=nu(n,e,2,r,l);return i&&Lp(n,t,u,Qn(c,a),o),u.mergedAttrs=Rl(u.mergedAttrs,u.attrs),u.attrs!==null&&Ef(u,u.attrs,!1),u.mergedAttrs!==null&&Ef(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function Vp(e,n){Ch(e,n),rh(n)&&e.queries.elementEnd(n)}var fs=class extends Ns{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Gn(n);return new oo(t,this.ngModule)}};function g_(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&Ts.SignalBased)!==0};return o&&(i.transform=o),i})}function m_(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function v_(e,n,t){let r=n instanceof Ce?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new nl(t,r):t}function y_(e){let n=e.get(Jn,null);if(n===null)throw new b(407,!1);let t=e.get(r_,null),r=e.get(an,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function w_(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return up(n,t,t==="svg"?Ry:t==="math"?Ny:null)}var oo=class extends kp{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=g_(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=m_(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=Yw(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o){B(22);let i=R(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:Xw(this.componentDef.selectors[0]),c=zl(0,null,null,1,0,null,null,null,null,[a],null),l=v_(s,o||this.ngModule,n),u=y_(l),f=u.rendererFactory.createRenderer(null,s),h=r?cb(f,r,s.encapsulation,l):w_(s,f),d=ql(null,c,null,512|hp(s),null,null,u,f,l,null,tp(h,l,!0));d[Le]=h,Dl(d);let g=null;try{let y=Fp(Le,c,d,"#host",()=>[this.componentDef],!0,0);h&&(fp(f,h,y),ho(h,d)),Gl(c,d,y),rp(c,y,d),Vp(c,y),t!==void 0&&b_(y,this.ngContentSelectors,t),g=ot(y.index,d),d[te]=g[te],Kl(c,d,null)}catch(y){throw g!==null&&Kc(g),Kc(d),y}finally{B(23),Tl()}return new rl(this.componentType,d)}finally{R(i)}}},rl=class extends t_{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Sl(t[O],Le),this.location=jl(this._tNode,t),this.instance=ot(this._tNode.index,t)[te],this.hostView=this.changeDetectorRef=new ds(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=Zl(r,o[O],o,n,t);this.previousInputValues.set(n,t);let s=ot(r.index,o);tu(s,1)}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function b_(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var ru=(()=>{class e{static __NG_ELEMENT_ID__=__}return e})();function __(){let e=Qe();return E_(e,G())}var I_=ru,$p=class extends I_{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return jl(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){let n=Nl(this._hostTNode,this._hostLView);if(Mh(n)){let t=os(n,this._hostLView),r=rs(n),o=t[O].data[r+8];return new en(o,t)}else return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Tf(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-pe}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=ro(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,to(this._hostTNode,s)),a}createComponent(n,t,r,o,i){let s=n&&!Dy(n),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?n:new oo(Gn(n)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let y=(s?l:this.parentInjector).get(Ce,null);y&&(i=y)}let u=Gn(c.componentType??{}),f=ro(this._lContainer,u?.id??null),h=f?.firstChild??null,d=c.create(l,o,h,i);return this.insertImpl(d.hostView,a,to(this._hostTNode,f)),d}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(Oy(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=o[ge],l=new $p(c,c[Ke],c[ge]);l.detach(l.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return Rs(s,o,i,r),n.attachToViewContainerRef(),Gf(Nc(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Tf(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=no(this._lContainer,t);r&&(Qi(Nc(this._lContainer),t),Ms(r[O],r))}detach(n){let t=this._adjustIndex(n,-1),r=no(this._lContainer,t);return r&&Qi(Nc(this._lContainer),t)!=null?new ds(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Tf(e){return e[Xi]}function Nc(e){return e[Xi]||(e[Xi]=[])}function E_(e,n){let t,r=n[e.index];return Dt(r)?t=r:(t=Rp(r,n,null,e),n[e.index]=t,Wl(n,t)),C_(t,n,e,r),new $p(t,e,n)}function S_(e,n){let t=e[ue],r=t.createComment(""),o=st(n,e),i=t.parentNode(o);return ls(t,i,r,t.nextSibling(o),!1),r}var C_=M_,D_=()=>!1;function T_(e,n,t){return D_(e,n,t)}function M_(e,n,t,r){if(e[rn])return;let o;t.type&8?o=rt(r):o=S_(n,t),e[rn]=o}var io=class{},ou=class{};var ol=class extends io{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fs(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=Qf(n);this._bootstrapComponents=cp(i.bootstrap),this._r3Injector=Vh(n,t,[{provide:io,useValue:this},{provide:Ns,useValue:this.componentFactoryResolver},...r],Se(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},il=class extends ou{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ol(this.moduleType,n,[])}};var hs=class extends io{injector;componentFactoryResolver=new fs(this);instance=null;constructor(n){super();let t=new Qr([...n.providers,{provide:io,useValue:this},{provide:Ns,useValue:this.componentFactoryResolver}],n.parent||Il(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function As(e,n,t=null){return new hs({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var x_=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Jf(!1,t.type),o=r.length>0?As([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(N(Ce))})}return e})();function Fe(e){return vl(()=>{let n=Up(e),t=k(v({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(x_).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||it.Emulated,styles:e.styles||Wn,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&go("NgStandalone"),Hp(t);let r=e.dependencies;return t.directiveDefs=Mf(r,!1),t.pipeDefs=Mf(r,!0),t.id=k_(t),t})}function R_(e){return Gn(e)||py(e)}function N_(e){return e!==null}function A_(e,n){if(e==null)return qn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Ts.None,c=null),t[i]=[r,a,c],n[i]=s}return t}function O_(e){if(e==null)return qn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Os(e){return vl(()=>{let n=Up(e);return Hp(n),n})}function Up(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||qn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Wn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A_(e.inputs,n),outputs:O_(e.outputs),debugInfo:null}}function Hp(e){e.features?.forEach(n=>n(e))}function Mf(e,n){if(!e)return null;let t=n?gy:R_;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(N_)}function k_(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function yo(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function P_(e,n,t,r,o,i,s,a,c){let l=n.consts,u=nu(n,e,4,s||null,a||null);hh()&&Lp(n,t,u,Qn(l,c),yp),u.mergedAttrs=Rl(u.mergedAttrs,u.attrs),Ch(n,u);let f=u.tView=zl(2,u,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,u),f.queries=n.queries.embeddedTView(u)),u}function sl(e,n,t,r,o,i,s,a,c,l){let u=t+Le,f=n.firstCreatePass?P_(u,n,e,r,o,i,s,a,c):n.data[u];lo(f,!1);let h=L_(n,e,f,t);Ml()&&Xl(n,e,h,f),ho(h,e);let d=Rp(h,e,h,f);return e[u]=d,Wl(e,d),T_(d,f,e),El(f)&&Gl(n,e,f),c!=null&&vp(e,f,l),f}function or(e,n,t,r,o,i,s,a){let c=G(),l=Tt(),u=Qn(l.consts,i);return sl(c,l,e,n,t,r,o,u,s,a),or}var L_=j_;function j_(e,n,t,r){return xl(!0),n[ue].createComment("")}var Bp=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var zp=new S("");var qp=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>new al})}return e})(),al=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function ks(e){return!!e&&typeof e.then=="function"}function F_(e){return!!e&&typeof e.subscribe=="function"}var V_=new S("");var Wp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=m(V_,{optional:!0})??[];injector=m(me);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=Ze(this.injector,o);if(ks(i))t.push(i);else if(F_(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iu=new S("");function $_(){sc(()=>{throw new b(600,!1)})}function U_(e){return e.isBoundToModule}var H_=10;var cn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(Iw);afterRenderManager=m(Pw);zonelessEnabled=m(Ol);rootEffectScheduler=m(qp);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new K;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(nr).hasPendingTasks.pipe(I(t=>!t));constructor(){m(Ds,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=m(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=me.NULL){B(10);let i=t instanceof kp;if(!this._injector.get(Wp).done){let d="";throw new b(405,d)}let a;i?a=t:a=this._injector.get(Ns).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=U_(a)?void 0:this._injector.get(io),l=r||a.selector,u=a.create(o,[],l,c),f=u.location.nativeElement,h=u.injector.get(zp,null);return h?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),qi(this.components,u),h?.unregisterApplication(f)}),this._loadComponent(u),B(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){B(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Xh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new b(101,!1);let t=R(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,R(t),this.afterTick.next(),B(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Jn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<H_;)B(14),this.synchronizeOnce(),B(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)B_(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Es(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;qi(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(iu,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>qi(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new b(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qi(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function B_(e,n,t,r){if(!t&&!Es(e))return;Dp(e,n,t&&!r?0:1)}function su(e,n,t,r){let o=G(),i=uo();if(yo(o,i,n)){let s=Tt(),a=Eh();vb(a,o,e,n,t,r)}return su}function z_(e,n,t,r){return yo(e,uo(),t)?n+ys(t)+r:vo}function ir(e,n,t){let r=G(),o=uo();if(yo(r,o,n)){let i=Tt(),s=Eh();fb(i,s,r,e,n,r[ue],t,!1)}return ir}function xf(e,n,t,r,o){Zl(n,e,t,o?"class":"style",r)}var cl=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),o=Math.max(n,t),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(n,t){this.attach(t,this.detach(n))}};function Ac(e,n,t,r,o){return e===t&&Object.is(n,r)?1:Object.is(o(e,n),o(t,r))?-1:0}function q_(e,n,t){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let c=n.length-1;for(;i<=s&&i<=c;){let l=e.at(i),u=n[i],f=Ac(i,l,i,u,t);if(f!==0){f<0&&e.updateValue(i,u),i++;continue}let h=e.at(s),d=n[c],g=Ac(s,h,c,d,t);if(g!==0){g<0&&e.updateValue(s,d),s--,c--;continue}let y=t(i,l),w=t(s,h),C=t(i,u);if(Object.is(C,w)){let re=t(c,d);Object.is(re,y)?(e.swap(i,s),e.updateValue(s,d),c--,s--):e.move(s,i),e.updateValue(i,u),i++;continue}if(r??=new ps,o??=Nf(e,i,s,t),ll(e,r,i,C))e.updateValue(i,u),i++,s++;else if(o.has(C))r.set(y,e.detach(i)),s--;else{let re=e.create(i,n[i]);e.attach(i,re),i++,s++}}for(;i<=c;)Rf(e,r,t,i,n[i]),i++}else if(n!=null){let c=n[Symbol.iterator](),l=c.next();for(;!l.done&&i<=s;){let u=e.at(i),f=l.value,h=Ac(i,u,i,f,t);if(h!==0)h<0&&e.updateValue(i,f),i++,l=c.next();else{r??=new ps,o??=Nf(e,i,s,t);let d=t(i,f);if(ll(e,r,i,d))e.updateValue(i,f),i++,s++,l=c.next();else if(!o.has(d))e.attach(i,e.create(i,f)),i++,s++,l=c.next();else{let g=t(i,u);r.set(g,e.detach(i)),s--}}}for(;!l.done;)Rf(e,r,t,e.length,l.value),l=c.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function ll(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function Rf(e,n,t,r,o){if(ll(e,n,r,t(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Nf(e,n,t,r){let o=new Set;for(let i=n;i<=t;i++)o.add(r(i,e.at(i)));return o}var ps=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),n(r,t)}}};function wo(e,n){go("NgControlFlow");let t=G(),r=uo(),o=t[r]!==vo?t[r]:-1,i=o!==-1?gs(t,Le+o):void 0,s=0;if(yo(t,r,e)){let a=R(null);try{if(i!==void 0&&Ap(i,s),e!==-1){let c=Le+e,l=gs(t,c),u=hl(t[O],c),f=ro(l,u.tView.ssrId),h=Ql(t,u,n,{dehydratedView:f});Rs(l,h,s,to(u,f))}}finally{R(a)}}else if(i!==void 0){let a=Np(i,s);a!==void 0&&(a[te]=n)}}var ul=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-pe}};function Ps(e){return e}var dl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function Ls(e,n,t,r,o,i,s,a,c,l,u,f,h){go("NgControlFlow");let d=G(),g=Tt(),y=c!==void 0,w=G(),C=a?s.bind(w[Ge][te]):s,re=new dl(y,C);w[Le+e]=re,sl(d,g,e+1,n,t,r,o,Qn(g.consts,i)),y&&sl(d,g,e+2,c,l,u,f,Qn(g.consts,h))}var fl=class extends cl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-pe}at(n){return this.getLView(n)[te].$implicit}attach(n,t){let r=t[Jr];this.needsIndexUpdate||=n!==this.length,Rs(this.lContainer,t,n,to(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,W_(this.lContainer,n)}create(n,t){let r=ro(this.lContainer,this.templateTNode.tView.ssrId),o=Ql(this.hostLView,this.templateTNode,new ul(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(n){Ms(n[O],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[te].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[te].$index=n}getLView(n){return G_(this.lContainer,n)}};function js(e){let n=R(null),t=Ss();try{let r=G(),o=r[O],i=r[t],s=t+1,a=gs(r,s);if(i.liveCollection===void 0){let l=hl(o,s);i.liveCollection=new fl(a,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(q_(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=uo(),u=c.length===0;if(yo(r,l,u)){let f=t+2,h=gs(r,f);if(u){let d=hl(o,f),g=ro(h,d.tView.ssrId),y=Ql(r,d,void 0,{dehydratedView:g});Rs(h,y,0,to(d,g))}else Ap(h,0)}}}finally{R(n)}}function gs(e,n){return e[n]}function W_(e,n){return no(e,n)}function G_(e,n){return Np(e,n)}function hl(e,n){return Sl(e,n)}function q(e,n,t,r){let o=G(),i=Tt(),s=Le+e,a=o[ue],c=i.firstCreatePass?Fp(s,i,o,n,yp,hh(),t,r):i.data[s],l=Z_(i,o,c,a,n,e);o[s]=l;let u=El(c);return lo(c,!0),fp(a,l,c),!wp(c)&&Ml()&&Xl(i,o,l,c),(Ly()===0||u)&&ho(l,o),jy(),u&&(Gl(i,o,c),rp(i,c,o)),r!==null&&vp(o,c),q}function Z(){let e=Qe();gh()?By():(e=e.parent,lo(e,!1));let n=e;$y(n)&&Uy(),Fy();let t=Tt();return t.firstCreatePass&&Vp(t,n),n.classesWithoutHost!=null&&Xy(n)&&xf(t,n,G(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&ew(n)&&xf(t,n,G(),n.stylesWithoutHost,!1),Z}function Te(e,n,t,r){return q(e,n,t,r),Z(),Te}var Z_=(e,n,t,r,o,i)=>(xl(!0),up(r,o,Qy()));function bo(){return G()}var ms="en-US";var K_=ms;function Q_(e){typeof e=="string"&&(K_=e.toLowerCase().replace(/_/g,"-"))}function Af(e,n,t){return function r(o){if(o===Function)return t;let i=er(e)?ot(e.index,n):n;tu(i,5);let s=n[te],a=Of(n,s,t,o),c=r.__ngNextListenerFn__;for(;c;)a=Of(n,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Of(e,n,t,r){let o=R(null);try{return B(6,n,t),t(r)!==!1}catch(i){return J_(e,i),!1}finally{B(7,n,t),R(o)}}function J_(e,n){let t=e[tn],r=t?t.get(St,null):null;r&&r.handleError(n)}function kf(e,n,t,r,o,i){let s=n[t],a=n[O],l=a.data[t].outputs[r],u=s[l],f=a.firstCreatePass?fh(a):null,h=dh(n),d=u.subscribe(i),g=h.length;h.push(i,d),f&&f.push(o,e.index,g,-(g+1))}var Y_=new Map;function Je(e,n,t,r){let o=G(),i=Tt(),s=Qe();return eI(i,o,o[ue],s,e,n,r),Je}function X_(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=n[Yi],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function eI(e,n,t,r,o,i,s){let a=El(r),l=e.firstCreatePass?fh(e):null,u=dh(n),f=!0;if(r.type&3||s){let h=st(r,n),d=s?s(h):h,g=u.length,y=s?C=>s(rt(C[r.index])):r.index,w=null;if(!s&&a&&(w=X_(e,n,o,r.index)),w!==null){let C=w.__ngLastListenerFn__||w;C.__ngNextListenerFn__=i,w.__ngLastListenerFn__=i,f=!1}else{i=Af(r,n,i);let C=n[tn].get(Cs);Y_.get(C)?.(d,o,i);let le=t.listen(d,o,i);u.push(i,le),l&&l.push(o,y,g,g+1)}}else i=Af(r,n,i);if(f){let h=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let g=0;g<d.length;g+=2){let y=d[g],w=d[g+1];kf(r,n,y,w,o,i)}if(h&&h.length)for(let g of h)kf(r,n,g,o,o,i)}}function at(e=1){return Ky(e)}function de(e,n=""){let t=G(),r=Tt(),o=e+Le,i=r.firstCreatePass?nu(r,o,1,n,null):r.data[o],s=tI(r,t,i,n,e);t[o]=s,Ml()&&Xl(r,t,s,i),lo(i,!1)}var tI=(e,n,t,r,o)=>(xl(!0),eb(n[ue],r));function sr(e){return Gp("",e,""),sr}function Gp(e,n,t){let r=G(),o=z_(r,e,n,t);return o!==vo&&nI(r,Ss(),o),Gp}function nI(e,n,t){let r=Ay(n,e);tb(e[ue],r,t)}var pl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Zp=(()=>{class e{compileModuleSync(t){return new il(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=Qf(t),i=cp(o.declarations).reduce((s,a)=>{let c=Gn(a);return c&&s.push(new oo(c)),s},[]);return new pl(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rI=(()=>{class e{zone=m(ie);changeDetectionScheduler=m(an);applicationRef=m(cn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oI({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ie(k(v({},iI()),{scheduleInRootZone:t})),[{provide:ie,useFactory:e},{provide:Kr,multi:!0,useFactory:()=>{let r=m(rI,{optional:!0});return()=>r.initialize()}},{provide:Kr,multi:!0,useFactory:()=>{let r=m(sI);return()=>{r.initialize()}}},n===!0?{provide:Uh,useValue:!0}:[],{provide:kl,useValue:t??$h}]}function iI(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var sI=(()=>{class e{subscription=new Q;initialized=!1;zone=m(ie);pendingTasks=m(nr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Kp=(()=>{class e{appRef=m(cn);taskService=m(nr);ngZone=m(ie);zonelessEnabled=m(Ol);tracing=m(Ds,{optional:!0});disableScheduling=m(Uh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Q;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ss):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(kl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof as||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?hf:Hh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ss+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qp(){return go("NgZoneless"),bl([{provide:an,useExisting:Kp},{provide:ie,useClass:as},{provide:Ol,useValue:!0},{provide:kl,useValue:!1},[]])}function aI(){return typeof $localize<"u"&&$localize.locale||ms}var Jp=new S("",{providedIn:"root",factory:()=>m(Jp,x.Optional|x.SkipSelf)||aI()});var gl=new S(""),cI=new S("");function qr(e){return!e.moduleRef}function lI(e){let n=qr(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ie);return t.run(()=>{qr(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(St,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),qr(e)){let i=()=>n.destroy(),s=e.platformInjector.get(gl);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(gl);s.add(i),e.moduleRef.onDestroy(()=>{qi(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return dI(r,t,()=>{let i=n.get(Wp);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(Jp,ms);if(Q_(s||ms),!n.get(cI,!0))return qr(e)?n.get(cn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(qr(e)){let c=n.get(cn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return uI(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function uI(e,n){let t=e.injector.get(cn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new b(-403,!1);n.push(e)}function dI(e,n,t){try{let r=t();return ks(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var Wi=null;function fI(e=[],n){return me.create({name:n,providers:[{provide:bs,useValue:"platform"},{provide:gl,useValue:new Set([()=>Wi=null])},...e]})}function hI(e=[]){if(Wi)return Wi;let n=fI(e);return Wi=n,$_(),pI(n),n}function pI(e){let n=e.get($l,null);Ze(e,()=>{n?.forEach(t=>t())})}var au=(()=>{class e{static __NG_ELEMENT_ID__=gI}return e})();function gI(e){return mI(Qe(),G(),(e&16)===16)}function mI(e,n,t){if(er(e)&&!t){let r=ot(e.index,n);return new ds(r,r)}else if(e.type&175){let r=n[Ge];return new ds(r,n)}return null}function Yp(e){B(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,o=hI(r),i=[oI({}),{provide:an,useExisting:Kp},...t||[]],s=new hs({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return lI({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}finally{B(9)}}function Fs(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function $t(e){return lc(e)}function Ve(e,n){return ic(e,n?.equal)}var ml=class{[Ae];constructor(n){this[Ae]=n}destroy(){this[Ae].destroy()}};function ar(e,n){!n?.injector&&Yn(ar);let t=n?.injector??m(me),r=n?.manualCleanup!==!0?t.get(je):null,o,i=t.get(ep,null,{optional:!0}),s=t.get(an);return i!==null&&!n?.forceRoot?(o=wI(i.view,s,e),r instanceof is&&r._lView===i.view&&(r=null)):o=bI(e,t.get(qp),s),o.injector=t,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new ml(o)}var Xp=k(v({},Mn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:eo,run(){if(this.dirty=!1,this.hasRun&&!mi(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),n=jr(this),t=ns(!1);try{this.maybeCleanup(),this.fn(e)}finally{ns(t),gi(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),vI=k(v({},Xp),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Fr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),yI=k(v({},Xp),{consumerMarkedDirty(){this.view[T]|=8192,so(this.view),this.notifier.notify(13)},destroy(){Fr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[nn]?.delete(this)}});function wI(e,n,t){let r=Object.create(yI);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=t,e[nn]??=new Set,e[nn].add(r),r.consumerMarkedDirty(r),r}function bI(e,n,t){let r=Object.create(vI);return r.fn=e,r.scheduler=n,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var fe=new S("");var ng=null;function Mt(){return ng}function cu(e){ng??=e}var _o=class{},lu=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(rg),providedIn:"platform"})}return e})();var rg=(()=>{class e extends lu{_location;_history;_doc=m(fe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mt().getBaseHref(this._doc)}onPopState(t){let r=Mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function og(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function eg(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Ut(e){return e&&e[0]!=="?"?`?${e}`:e}var cr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(sg),providedIn:"root"})}return e})(),ig=new S(""),sg=(()=>{class e extends cr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return og(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ut(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Ut(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Ut(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(N(lu),N(ig,8))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lr=(()=>{class e{_subject=new K;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=EI(eg(tg(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ut(r))}normalize(t){return e.stripTrailingSlash(II(this._basePath,tg(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ut(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ut(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Ut;static joinWithSlash=og;static stripTrailingSlash=eg;static \u0275fac=function(r){return new(r||e)(N(cr))};static \u0275prov=_({token:e,factory:()=>_I(),providedIn:"root"})}return e})();function _I(){return new lr(N(cr))}function II(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function tg(e){return e.replace(/\/index.html$/,"")}function EI(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}function uu(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var du="browser",ag="server";function Vs(e){return e===ag}var Io=class{};var Hs=new S(""),gu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(N(Hs),N(ie))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Eo=class{_doc;constructor(n){this._doc=n}manager},$s="ng-app-id";function cg(e){for(let n of e)n.remove()}function lg(e,n){let t=n.createElement("style");return t.textContent=e,t}function CI(e,n,t,r){let o=e.head?.querySelectorAll(`style[${$s}="${n}"],link[${$s}="${n}"]`);if(o)for(let i of o)i.removeAttribute($s),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function hu(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var mu=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=Vs(i),CI(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,lg);r?.forEach(o=>this.addUsage(o,this.external,hu))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(cg(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])cg(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,lg(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,hu(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute($s,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(N(fe),N(Cs),N(Ul,8),N(po))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vu=/%COMP%/g;var dg="%COMP%",DI=`_nghost-${dg}`,TI=`_ngcontent-${dg}`,MI=!0,xI=new S("",{providedIn:"root",factory:()=>MI});function RI(e){return TI.replace(vu,e)}function NI(e){return DI.replace(vu,e)}function fg(e,n){return n.map(t=>t.replace(vu,e))}var yu=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Vs(a),this.defaultRenderer=new So(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===it.ShadowDom&&(r=k(v({},r),{encapsulation:it.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof Us?o.applyToHost(t):o instanceof Co&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case it.Emulated:i=new Us(c,l,r,this.appId,u,s,a,f,h);break;case it.ShadowDom:return new pu(c,l,t,r,s,a,this.nonce,f,h);default:i=new Co(c,l,r,u,s,a,f,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(N(gu),N(mu),N(Cs),N(xI),N(fe),N(po),N(ie),N(Ul),N(Ds,8))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),So=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(fu[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(ug(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(ug(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new b(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=fu[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=fu[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(rr.DashCase|rr.Important)?n.style.setProperty(t,r,o&rr.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&rr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=Mt().getGlobalEventTarget(this.doc,n),!n))throw new b(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function ug(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var pu=class extends So{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,a,c,l){super(n,i,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=fg(o.id,u);for(let h of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=h,this.shadowRoot.appendChild(d)}let f=o.getExternalStyles?.();if(f)for(let h of f){let d=hu(h,i);a&&d.setAttribute("nonce",a),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Co=class extends So{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,a,c,l){super(n,i,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?fg(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Us=class extends Co{contentAttr;hostAttr;constructor(n,t,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(n,t,r,i,s,a,c,l,u),this.contentAttr=RI(u),this.hostAttr=NI(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Bs=class e extends _o{supportsDOMEvents=!0;static makeCurrent(){cu(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=AI();return t==null?null:OI(t)}resetBaseElement(){Do=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return uu(document.cookie,n)}},Do=null;function AI(){return Do=Do||document.querySelector("base"),Do?Do.getAttribute("href"):null}function OI(e){return new URL(e,document.baseURI).pathname}var kI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),mg=(()=>{class e extends Eo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(N(fe))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),hg=["alt","control","meta","shift"],PI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},vg=(()=>{class e extends Eo{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mt().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hg.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=PI[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),hg.forEach(s=>{if(s!==o){let a=LI[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(N(fe))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function wu(e,n){return Yp(v({rootComponent:e},jI(n)))}function jI(e){return{appProviders:[...HI,...e?.providers??[]],platformProviders:UI}}function FI(){Bs.makeCurrent()}function VI(){return new St}function $I(){return Jh(document),document}var UI=[{provide:po,useValue:du},{provide:$l,useValue:FI,multi:!0},{provide:fe,useFactory:$I}];var HI=[{provide:bs,useValue:"root"},{provide:St,useFactory:VI},{provide:Hs,useClass:mg,multi:!0,deps:[fe]},{provide:Hs,useClass:vg,multi:!0,deps:[fe]},yu,mu,gu,{provide:Jn,useExisting:yu},{provide:Io,useClass:kI},[]];var yg=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(N(fe))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var M="primary",$o=Symbol("RouteTitle"),Su=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function hn(e){return new Su(e)}function Dg(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function zI(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ct(e[t],n[t]))return!1;return!0}function ct(e,n){let t=e?Cu(e):void 0,r=n?Cu(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Tg(e[o],n[o]))return!1;return!0}function Cu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Tg(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function Mg(e){return e.length>0?e[e.length-1]:null}function zt(e){return Br(e)?e:ks(e)?U(Promise.resolve(e)):E(e)}var qI={exact:Rg,subset:Ng},xg={exact:WI,subset:GI,ignored:()=>!0};function wg(e,n,t){return qI[t.paths](e.root,n.root,t.matrixParams)&&xg[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function WI(e,n){return ct(e,n)}function Rg(e,n,t){if(!dn(e.segments,n.segments)||!Ws(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Rg(e.children[r],n.children[r],t))return!1;return!0}function GI(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Tg(e[t],n[t]))}function Ng(e,n,t){return Ag(e,n,n.segments,t)}function Ag(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!dn(o,t)||n.hasChildren()||!Ws(o,t,r))}else if(e.segments.length===t.length){if(!dn(e.segments,t)||!Ws(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!Ng(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!dn(e.segments,o)||!Ws(e.segments,o,r)||!e.children[M]?!1:Ag(e.children[M],n,i,r)}}function Ws(e,n,t){return n.every((r,o)=>xg[t](e[o].parameters,r.parameters))}var ut=class{root;queryParams;fragment;_queryParamMap;constructor(n=new V([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return QI.serialize(this)}},V=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gs(this)}},Ht=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return kg(this)}};function ZI(e,n){return dn(e,n)&&e.every((t,r)=>ct(t.parameters,n[r].parameters))}function dn(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function KI(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===M&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==M&&(t=t.concat(n(o,r)))}),t}var Uo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new pn,providedIn:"root"})}return e})(),pn=class{parse(n){let t=new Tu(n);return new ut(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${To(n.root,!0)}`,r=XI(n.queryParams),o=typeof n.fragment=="string"?`#${JI(n.fragment)}`:"";return`${t}${r}${o}`}},QI=new pn;function Gs(e){return e.segments.map(n=>kg(n)).join("/")}function To(e,n){if(!e.hasChildren())return Gs(e);if(n){let t=e.children[M]?To(e.children[M],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==M&&r.push(`${o}:${To(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=KI(e,(r,o)=>o===M?[To(e.children[M],!1)]:[`${o}:${To(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[M]!=null?`${Gs(e)}/${t[0]}`:`${Gs(e)}/(${t.join("//")})`}}function Og(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zs(e){return Og(e).replace(/%3B/gi,";")}function JI(e){return encodeURI(e)}function Du(e){return Og(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zs(e){return decodeURIComponent(e)}function bg(e){return Zs(e.replace(/\+/g,"%20"))}function kg(e){return`${Du(e.path)}${YI(e.parameters)}`}function YI(e){return Object.entries(e).map(([n,t])=>`;${Du(n)}=${Du(t)}`).join("")}function XI(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${zs(t)}=${zs(o)}`).join("&"):`${zs(t)}=${zs(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var eE=/^[^\/()?;#]+/;function bu(e){let n=e.match(eE);return n?n[0]:""}var tE=/^[^\/()?;=#]+/;function nE(e){let n=e.match(tE);return n?n[0]:""}var rE=/^[^=?&#]+/;function oE(e){let n=e.match(rE);return n?n[0]:""}var iE=/^[^&#]+/;function sE(e){let n=e.match(iE);return n?n[0]:""}var Tu=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[M]=new V(n,t)),r}parseSegment(){let n=bu(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(n),new Ht(Zs(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=nE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=bu(this.remaining);o&&(r=o,this.capture(r))}n[Zs(t)]=Zs(r)}parseQueryParam(n){let t=oE(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=sE(this.remaining);s&&(r=s,this.capture(r))}let o=bg(t),i=bg(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bu(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new b(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=M);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[M]:new V([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new b(4011,!1)}};function Pg(e){return e.segments.length>0?new V([],{[M]:e}):e}function Lg(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=Lg(o);if(r===M&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new V(e.segments,n);return aE(t)}function aE(e){if(e.numberOfChildren===1&&e.children[M]){let n=e.children[M];return new V(e.segments.concat(n.segments),n.children)}return e}function Bt(e){return e instanceof ut}function jg(e,n,t=null,r=null){let o=Fg(e);return Vg(o,n,t,r)}function Fg(e){let n;function t(i){let s={};for(let c of i.children){let l=t(c);s[c.outlet]=l}let a=new V(i.url,s);return i===e&&(n=a),a}let r=t(e.root),o=Pg(r);return n??o}function Vg(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return _u(o,o,o,t,r);let i=cE(n);if(i.toRoot())return _u(o,o,new V([],{}),t,r);let s=lE(i,o,e),a=s.processChildren?xo(s.segmentGroup,s.index,i.commands):Ug(s.segmentGroup,s.index,i.commands);return _u(o,s.segmentGroup,a,t,r)}function Qs(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function No(e){return typeof e=="object"&&e!=null&&e.outlets}function _u(e,n,t,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===n?s=t:s=$g(e,n,t);let a=Pg(Lg(s));return new ut(a,i,o)}function $g(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=$g(i,n,t)}),new V(e.segments,r)}var Js=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Qs(r[0]))throw new b(4003,!1);let o=r.find(No);if(o&&o!==Mg(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cE(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Js(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Js(t,n,r)}var fr=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function lE(e,n,t){if(e.isAbsolute)return new fr(n,!0,0);if(!t)return new fr(n,!1,NaN);if(t.parent===null)return new fr(t,!0,0);let r=Qs(e.commands[0])?0:1,o=t.segments.length-1+r;return uE(t,o,e.numberOfDoubleDots)}function uE(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new b(4005,!1);o=r.segments.length}return new fr(r,!1,o-i)}function dE(e){return No(e[0])?e[0].outlets:{[M]:e}}function Ug(e,n,t){if(e??=new V([],{}),e.segments.length===0&&e.hasChildren())return xo(e,n,t);let r=fE(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new V(e.segments.slice(0,r.pathIndex),{});return i.children[M]=new V(e.segments.slice(r.pathIndex),e.children),xo(i,0,o)}else return r.match&&o.length===0?new V(e.segments,{}):r.match&&!e.hasChildren()?Mu(e,n,t):r.match?xo(e,0,o):Mu(e,n,t)}function xo(e,n,t){if(t.length===0)return new V(e.segments,{});{let r=dE(t),o={};if(Object.keys(r).some(i=>i!==M)&&e.children[M]&&e.numberOfChildren===1&&e.children[M].segments.length===0){let i=xo(e.children[M],n,t);return new V(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Ug(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new V(e.segments,o)}}function fE(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],a=t[r];if(No(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Ig(c,l,s))return i;r+=2}else{if(!Ig(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Mu(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(No(i)){let c=hE(i.outlets);return new V(r,c)}if(o===0&&Qs(t[0])){let c=e.segments[n];r.push(new Ht(c.path,_g(t[0]))),o++;continue}let s=No(i)?i.outlets[M]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Qs(a)?(r.push(new Ht(s,_g(a))),o+=2):(r.push(new Ht(s,{})),o++)}return new V(r,{})}function hE(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Mu(new V([],{}),0,r))}),n}function _g(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function Ig(e,n,t){return e==t.path&&ct(n,t.parameters)}var Ks="imperative",se=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(se||{}),xe=class{id;url;constructor(n,t){this.id=n,this.url=t}},gn=class extends xe{type=se.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dt=class extends xe{urlAfterRedirects;type=se.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_e=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(_e||{}),Ao=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ao||{}),lt=class extends xe{reason;code;type=se.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xt=class extends xe{reason;code;type=se.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},pr=class extends xe{error;target;type=se.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Oo=class extends xe{urlAfterRedirects;state;type=se.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ys=class extends xe{urlAfterRedirects;state;type=se.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xs=class extends xe{urlAfterRedirects;state;shouldActivate;type=se.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ea=class extends xe{urlAfterRedirects;state;type=se.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ta=class extends xe{urlAfterRedirects;state;type=se.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},na=class{route;type=se.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ra=class{route;type=se.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},oa=class{snapshot;type=se.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ia=class{snapshot;type=se.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sa=class{snapshot;type=se.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aa=class{snapshot;type=se.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ko=class{},gr=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function pE(e,n){return e.providers&&!e._injector&&(e._injector=As(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Ye(e){return e.outlet||M}function gE(e,n){let t=e.filter(r=>Ye(r)===n);return t.push(...e.filter(r=>Ye(r)!==n)),t}function Ho(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ca=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ho(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new yr(this.rootInjector)}},yr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ca(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(N(Ce))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),la=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=xu(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=xu(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Ru(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Ru(n,this._root).map(t=>t.value)}};function xu(e,n){if(e===n.value)return n;for(let t of n.children){let r=xu(e,t);if(r)return r}return null}function Ru(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Ru(e,t);if(r.length)return r.unshift(n),r}return[]}var Me=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function dr(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Po=class extends la{snapshot;constructor(n,t){super(n),this.snapshot=t,Fu(this,n)}toString(){return this.snapshot.toString()}};function Hg(e){let n=mE(e),t=new ae([new Ht("",{})]),r=new ae({}),o=new ae({}),i=new ae({}),s=new ae(""),a=new Rt(t,r,i,s,o,M,e,n.root);return a.snapshot=n.root,new Po(new Me(a,[]),n)}function mE(e){let n={},t={},r={},o="",i=new fn([],n,r,o,t,M,e,null,{});return new Lo("",new Me(i,[]))}var Rt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(I(l=>l[$o]))??E(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(I(n=>hn(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(I(n=>hn(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ua(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:v(v({},n.params),e.params),data:v(v({},n.data),e.data),resolve:v(v(v(v({},e.data),n.data),o?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},o&&zg(o)&&(r.resolve[$o]=o.title),r}var fn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$o]}constructor(n,t,r,o,i,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Lo=class extends la{url;constructor(n,t){super(t),this.url=n,Fu(this,t)}toString(){return Bg(this._root)}};function Fu(e,n){n.value._routerState=e,n.children.forEach(t=>Fu(e,t))}function Bg(e){let n=e.children.length>0?` { ${e.children.map(Bg).join(", ")} } `:"";return`${e.value}${n}`}function Iu(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ct(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ct(n.params,t.params)||e.paramsSubject.next(t.params),zI(n.url,t.url)||e.urlSubject.next(t.url),ct(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Nu(e,n){let t=ct(e.params,n.params)&&ZI(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Nu(e.parent,n.parent))}function zg(e){return typeof e.title=="string"||e.title===null}var qg=new S(""),Bo=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=M;activateEvents=new we;deactivateEvents=new we;attachEvents=new we;detachEvents=new we;routerOutletData=zh(void 0);parentContexts=m(yr);location=m(ru);changeDetector=m(au);inputBinder=m(pa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Au(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Os({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Is]})}return e})(),Au=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===Rt?this.route:n===yr?this.childContexts:n===qg?this.outletData:this.parent.get(n,t)}},pa=new S("");function vE(e,n,t){let r=jo(e,n._root,t?t._root:void 0);return new Po(r,n)}function jo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=yE(e,n,t);return new Me(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>jo(e,a)),s}}let r=wE(n.value),o=n.children.map(i=>jo(e,i));return new Me(r,o)}}function yE(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return jo(e,r,o);return jo(e,r)})}function wE(e){return new Rt(new ae(e.url),new ae(e.params),new ae(e.queryParams),new ae(e.fragment),new ae(e.data),e.outlet,e.component,e)}var mr=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Wg="ngNavigationCancelingError";function da(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Bt(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=Gg(!1,_e.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function Gg(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Wg]=!0,t.cancellationCode=n,t}function bE(e){return Zg(e)&&Bt(e.url)}function Zg(e){return!!e&&e[Wg]}var _E=(e,n,t,r)=>I(o=>(new Ou(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),Ou=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Iu(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=dr(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=dr(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=dr(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=dr(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new aa(i.value.snapshot))}),n.children.length&&this.forwardEvent(new ia(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(Iu(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iu(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},fa=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},hr=class{component;route;constructor(n,t){this.component=n,this.route=t}};function IE(e,n,t){let r=e._root,o=n?n._root:null;return Mo(r,o,t,[r.value])}function EE(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function wr(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!$f(e)?e:n.get(e):r}function Mo(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=dr(n);return e.children.forEach(s=>{SE(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ro(a,t.getContext(s),o)),o}function SE(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=CE(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new fa(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Mo(e,n,a?a.children:null,r,o):Mo(e,n,t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new hr(a.outlet.component,s))}else s&&Ro(n,a,o),o.canActivateChecks.push(new fa(r)),i.component?Mo(e,null,a?a.children:null,r,o):Mo(e,null,t,r,o);return o}function CE(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!dn(e.url,n.url);case"pathParamsOrQueryParamsChange":return!dn(e.url,n.url)||!ct(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nu(e,n)||!ct(e.queryParams,n.queryParams);case"paramsChange":default:return!Nu(e,n)}}function Ro(e,n,t){let r=dr(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?Ro(s,n.children.getContext(i),t):Ro(s,null,t):Ro(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new hr(n.outlet.component,o)):t.canDeactivateChecks.push(new hr(null,o)):t.canDeactivateChecks.push(new hr(null,o))}function zo(e){return typeof e=="function"}function DE(e){return typeof e=="boolean"}function TE(e){return e&&zo(e.canLoad)}function ME(e){return e&&zo(e.canActivate)}function xE(e){return e&&zo(e.canActivateChild)}function RE(e){return e&&zo(e.canDeactivate)}function NE(e){return e&&zo(e.canMatch)}function Kg(e){return e instanceof bt||e?.name==="EmptyError"}var qs=Symbol("INITIAL_VALUE");function vr(){return ee(e=>Fi(e.map(n=>n.pipe(_t(1),Ic(qs)))).pipe(I(n=>{for(let t of n)if(t!==!0){if(t===qs)return qs;if(t===!1||AE(t))return t}return!0}),ze(n=>n!==qs),_t(1)))}function AE(e){return Bt(e)||e instanceof mr}function OE(e,n){return X(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?E(k(v({},t),{guardsResult:!0})):kE(s,r,o,e).pipe(X(a=>a&&DE(a)?PE(r,i,e,n):E(a)),I(a=>k(v({},t),{guardsResult:a})))})}function kE(e,n,t,r){return U(e).pipe(X(o=>$E(o.component,o.route,t,n,r)),It(o=>o!==!0,!0))}function PE(e,n,t,r){return U(n).pipe(Fn(o=>jn(jE(o.route.parent,r),LE(o.route,r),VE(e,o.path,t),FE(e,o.route,t))),It(o=>o!==!0,!0))}function LE(e,n){return e!==null&&n&&n(new sa(e)),E(!0)}function jE(e,n){return e!==null&&n&&n(new oa(e)),E(!0)}function FE(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return E(!0);let o=r.map(i=>Vi(()=>{let s=Ho(n)??t,a=wr(i,s),c=ME(a)?a.canActivate(n,e):Ze(s,()=>a(n,e));return zt(c).pipe(It())}));return E(o).pipe(vr())}function VE(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>EE(s)).filter(s=>s!==null).map(s=>Vi(()=>{let a=s.guards.map(c=>{let l=Ho(s.node)??t,u=wr(c,l),f=xE(u)?u.canActivateChild(r,e):Ze(l,()=>u(r,e));return zt(f).pipe(It())});return E(a).pipe(vr())}));return E(i).pipe(vr())}function $E(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return E(!0);let s=i.map(a=>{let c=Ho(n)??o,l=wr(a,c),u=RE(l)?l.canDeactivate(e,n,t,r):Ze(c,()=>l(e,n,t,r));return zt(u).pipe(It())});return E(s).pipe(vr())}function UE(e,n,t,r){let o=n.canLoad;if(o===void 0||o.length===0)return E(!0);let i=o.map(s=>{let a=wr(s,e),c=TE(a)?a.canLoad(n,t):Ze(e,()=>a(n,t));return zt(c)});return E(i).pipe(vr(),Qg(r))}function Qg(e){return tt(z(n=>{if(typeof n!="boolean")throw da(e,n)}),I(n=>n===!0))}function HE(e,n,t,r){let o=n.canMatch;if(!o||o.length===0)return E(!0);let i=o.map(s=>{let a=wr(s,e),c=NE(a)?a.canMatch(n,t):Ze(e,()=>a(n,t));return zt(c)});return E(i).pipe(vr(),Qg(r))}var Fo=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Vo=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function ur(e){return Ln(new Fo(e))}function BE(e){return Ln(new b(4e3,!1))}function zE(e){return Ln(Gg(!1,_e.GuardRejected))}var ku=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return E(r);if(o.numberOfChildren>1||!o.children[M])return BE(`${n.redirectTo}`);o=o.children[M]}}applyRedirectCommands(n,t,r,o,i){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,params:d,data:g,title:y}=o,w=Ze(i,()=>a({params:d,data:g,queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,title:y}));if(w instanceof ut)throw new Vo(w);t=w}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Vo(s);return s}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new ut(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new V(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new b(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}},Pu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qE(e,n,t,r,o){let i=Jg(e,n,t);return i.matched?(r=pE(n,r),HE(r,n,t,o).pipe(I(s=>s===!0?i:v({},Pu)))):E(i)}function Jg(e,n,t){if(n.path==="**")return WE(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?v({},Pu):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||Dg)(t,e,n);if(!o)return v({},Pu);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?v(v({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function WE(e){return{matched:!0,parameters:e.length>0?Mg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Eg(e,n,t,r){return t.length>0&&KE(e,t,r)?{segmentGroup:new V(n,ZE(r,new V(t,e.children))),slicedSegments:[]}:t.length===0&&QE(e,t,r)?{segmentGroup:new V(e.segments,GE(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new V(e.segments,e.children),slicedSegments:t}}function GE(e,n,t,r){let o={};for(let i of t)if(ga(e,n,i)&&!r[Ye(i)]){let s=new V([],{});o[Ye(i)]=s}return v(v({},r),o)}function ZE(e,n){let t={};t[M]=n;for(let r of e)if(r.path===""&&Ye(r)!==M){let o=new V([],{});t[Ye(r)]=o}return t}function KE(e,n,t){return t.some(r=>ga(e,n,r)&&Ye(r)!==M)}function QE(e,n,t){return t.some(r=>ga(e,n,r))}function ga(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function JE(e,n,t){return n.length===0&&!e.children[t]}var Lu=class{};function YE(e,n,t,r,o,i,s="emptyOnly"){return new ju(e,n,t,r,o,s,i).recognize()}var XE=31,ju=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ku(this.urlSerializer,this.urlTree)}noMatchError(n){return new b(4002,`'${n.segmentGroup}'`)}recognize(){let n=Eg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(I(({children:t,rootSnapshot:r})=>{let o=new Me(r,t),i=new Lo("",o),s=jg(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let t=new fn([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),M,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,M,t).pipe(I(r=>({children:r,rootSnapshot:t})),Lt(r=>{if(r instanceof Vo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fo?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(I(s=>s instanceof Me?[s]:[]))}processChildren(n,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return U(i).pipe(Fn(s=>{let a=r.children[s],c=gE(t,s);return this.processSegmentGroup(n,c,a,s,o)}),_c((s,a)=>(s.push(...a),s)),jt(null),bc(),X(s=>{if(s===null)return ur(r);let a=Yg(s);return eS(a),E(a)}))}processSegment(n,t,r,o,i,s,a){return U(t).pipe(Fn(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,o,i,s,a).pipe(Lt(l=>{if(l instanceof Fo)return E(null);throw l}))),It(c=>!!c),Lt(c=>{if(Kg(c))return JE(r,o,i)?E(new Lu):ur(r);throw c}))}processSegmentAgainstRoute(n,t,r,o,i,s,a,c){return Ye(r)!==s&&(s===M||!ga(o,i,r))?ur(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,c):ur(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:h}=Jg(t,o,i);if(!c)return ur(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XE&&(this.allowRedirects=!1));let d=new fn(i,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Sg(o),Ye(o),o.component??o._loadedComponent??null,o,Cg(o)),g=ua(d,a,this.paramsInheritanceStrategy);d.params=Object.freeze(g.params),d.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,f,d,n);return this.applyRedirects.lineralizeSegments(o,y).pipe(X(w=>this.processSegment(n,r,t,w.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,o,i,s){let a=qE(t,r,o,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ee(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(ee(({routes:l})=>{let u=r._loadedInjector??n,{parameters:f,consumedSegments:h,remainingSegments:d}=c,g=new fn(h,f,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Sg(r),Ye(r),r.component??r._loadedComponent??null,r,Cg(r)),y=ua(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:w,slicedSegments:C}=Eg(t,h,d,l);if(C.length===0&&w.hasChildren())return this.processChildren(u,l,w,g).pipe(I(le=>new Me(g,le)));if(l.length===0&&C.length===0)return E(new Me(g,[]));let re=Ye(r)===i;return this.processSegment(u,l,w,C,re?M:i,!0,g).pipe(I(le=>new Me(g,le instanceof Me?[le]:[])))}))):ur(t)))}getChildConfig(n,t,r){return t.children?E({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?E({routes:t._loadedRoutes,injector:t._loadedInjector}):UE(n,t,r,this.urlSerializer).pipe(X(o=>o?this.configLoader.loadChildren(n,t).pipe(z(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):zE(t))):E({routes:[],injector:n})}};function eS(e){e.sort((n,t)=>n.value.outlet===M?-1:t.value.outlet===M?1:n.value.outlet.localeCompare(t.value.outlet))}function tS(e){let n=e.value.routeConfig;return n&&n.path===""}function Yg(e){let n=[],t=new Set;for(let r of e){if(!tS(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=Yg(r.children);n.push(new Me(r.value,o))}return n.filter(r=>!t.has(r))}function Sg(e){return e.data||{}}function Cg(e){return e.resolve||{}}function nS(e,n,t,r,o,i){return X(s=>YE(e,n,t,r,s.extractedUrl,o,i).pipe(I(({state:a,tree:c})=>k(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function rS(e,n){return X(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return E(t);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of Xg(c))s.add(l);let a=0;return U(s).pipe(Fn(c=>i.has(c)?oS(c,r,e,n):(c.data=ua(c,c.parent,e).resolve,E(void 0))),z(()=>a++),Vn(1),X(c=>a===s.size?E(t):ve))})}function Xg(e){let n=e.children.map(t=>Xg(t)).flat();return[e,...n]}function oS(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!zg(o)&&(i[$o]=o.title),iS(i,e,n,r).pipe(I(s=>(e._resolvedData=s,e.data=ua(e,e.parent,t).resolve,null)))}function iS(e,n,t,r){let o=Cu(e);if(o.length===0)return E({});let i={};return U(o).pipe(X(s=>sS(e[s],n,t,r).pipe(It(),z(a=>{if(a instanceof mr)throw da(new pn,a);i[s]=a}))),Vn(1),I(()=>i),Lt(s=>Kg(s)?ve:Ln(s)))}function sS(e,n,t,r){let o=Ho(n)??r,i=wr(e,o),s=i.resolve?i.resolve(n,t):Ze(o,()=>i(n,t));return zt(s)}function Eu(e){return ee(n=>{let t=e(n);return t?U(t).pipe(I(()=>n)):E(n)})}var Vu=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===M);return r}getResolvedTitleForRoute(t){return t.data[$o]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(em),providedIn:"root"})}return e})(),em=(()=>{class e extends Vu{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(N(yg))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qo=new S("",{providedIn:"root",factory:()=>({})}),$u=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Fe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Te(0,"router-outlet")},dependencies:[Bo],encapsulation:2})}return e})();function Uu(e){let n=e.children&&e.children.map(Uu),t=n?k(v({},e),{children:n}):v({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==M&&(t.component=$u),t}var Wo=new S(""),tm=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(Zp);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return E(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=zt(t.loadComponent()).pipe(I(rm),z(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),zr(()=>{this.componentLoaders.delete(t)})),o=new Pn(r,()=>new K).pipe(kn());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return E({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=nm(r,this.compiler,t,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(r)})),s=new Pn(i,()=>new K).pipe(kn());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nm(e,n,t,r){return zt(e.loadChildren()).pipe(I(rm),X(o=>o instanceof ou||Array.isArray(o)?E(o):U(n.compileModuleAsync(o))),I(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(Wo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uu),injector:i}}))}function aS(e){return e&&typeof e=="object"&&"default"in e}function rm(e){return aS(e)?e.default:e}var ma=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(cS),providedIn:"root"})}return e})(),cS=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),om=new S("");var im=new S(""),sm=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new K;transitionAbortSubject=new K;configLoader=m(tm);environmentInjector=m(Ce);destroyRef=m(je);urlSerializer=m(Uo);rootContexts=m(yr);location=m(lr);inputBindingEnabled=m(pa,{optional:!0})!==null;titleStrategy=m(Vu);options=m(qo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(ma);createViewTransition=m(om,{optional:!0});navigationErrorHandler=m(im,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>E(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new na(o)),r=o=>this.events.next(new ra(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(k(v({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ae(null),this.transitions.pipe(ze(r=>r!==null),ee(r=>{let o=!1,i=!1;return E(r).pipe(ee(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_e.SupersededByNewNavigation),ve;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?k(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new xt(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ao.IgnoredSameUrlNavigation)),s.resolve(!1),ve}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return E(s).pipe(ee(l=>(this.events.next(new gn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ve:Promise.resolve(l))),nS(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),z(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=k(v({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Oo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:f,restoredState:h,extras:d}=s,g=new gn(l,this.urlSerializer.serialize(u),f,h);this.events.next(g);let y=Hg(this.rootComponentType).snapshot;return this.currentTransition=r=k(v({},s),{targetSnapshot:y,urlAfterRedirects:u,extras:k(v({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,E(r)}else{let l="";return this.events.next(new xt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ao.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ve}}),z(s=>{let a=new Ys(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),I(s=>(this.currentTransition=r=k(v({},s),{guards:IE(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),OE(this.environmentInjector,s=>this.events.next(s)),z(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw da(this.urlSerializer,s.guardsResult);let a=new Xs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ze(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",_e.GuardRejected),!1)),Eu(s=>{if(s.guards.canActivateChecks.length!==0)return E(s).pipe(z(a=>{let c=new ea(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),ee(a=>{let c=!1;return E(a).pipe(rS(this.paramsInheritanceStrategy,this.environmentInjector),z({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",_e.NoDataFromResolver)}}))}),z(a=>{let c=new ta(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Eu(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(z(u=>{c.component=u}),I(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Fi(a(s.targetSnapshot.root)).pipe(jt(null),_t(1))}),Eu(()=>this.afterPreactivation()),ee(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?U(c).pipe(I(()=>r)):E(r)}),I(s=>{let a=vE(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=k(v({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),z(()=>{this.events.next(new ko)}),_E(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),_t(1),z({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Ec(this.transitionAbortSubject.pipe(z(s=>{throw s}))),zr(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",_e.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lt(s=>{if(this.destroyed)return r.resolve(!1),ve;if(i=!0,Zg(s))this.events.next(new lt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),bE(s)?this.events.next(new gr(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new pr(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof mr){let{message:l,cancellationCode:u}=da(this.urlSerializer,c);this.events.next(new lt(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new gr(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ve}))}))}cancelNavigationTransition(t,r,o){let i=new lt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lS(e){return e!==Ks}var am=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(uS),providedIn:"root"})}return e})(),ha=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},uS=(()=>{class e extends ha{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Al(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cm=(()=>{class e{urlSerializer=m(Uo);options=m(qo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(lr);urlHandlingStrategy=m(ma);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ut;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof ut?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=Hg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(dS),providedIn:"root"})}return e})(),dS=(()=>{class e extends cm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof gn?this.updateStateMemento():t instanceof xt?this.commitTransition(r):t instanceof Oo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ko?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof lt&&(t.code===_e.GuardRejected||t.code===_e.NoDataFromResolver)?this.restoreHistory(r):t instanceof pr?this.restoreHistory(r,!0):t instanceof dt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(o,a));this.location.replaceState(t,"",c)}else{let a=v(v({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Al(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hu(e,n){e.events.pipe(ze(t=>t instanceof dt||t instanceof lt||t instanceof pr||t instanceof xt),I(t=>t instanceof dt||t instanceof xt?0:(t instanceof lt?t.code===_e.Redirect||t.code===_e.SupersededByNewNavigation:!1)?2:1),ze(t=>t!==2),_t(1)).subscribe(()=>{n()})}var fS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(Bp);stateManager=m(cm);options=m(qo,{optional:!0})||{};pendingTasks=m(nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(sm);urlSerializer=m(Uo);location=m(lr);urlHandlingStrategy=m(ma);_events=new K;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(am);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Wo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(pa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Q;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof lt&&r.code!==_e.Redirect&&r.code!==_e.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof dt)this.navigated=!0;else if(r instanceof gr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=v({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lS(o.source)},s);this.scheduleNavigation(a,Ks,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}gS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ks,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=v({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Uu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=Fg(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Vg(f,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Bt(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ks,null,r)}navigate(t,r={skipLocationChange:!1}){return pS(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=v({},fS):r===!1?o=v({},hS):o=r,Bt(t))return wg(this.currentUrlTree,t,o);let i=this.parseUrl(t);return wg(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,h)=>{a=f,c=h});let u=this.pendingTasks.add();return Hu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pS(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new b(4008,!1)}function gS(e){return!(e instanceof ko)&&!(e instanceof gr)}var va=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new K;constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof dt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Bt(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:sp(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Bt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(un(Xe),un(Rt),Fh("tabindex"),un(Pp),un(Fl),un(cr))};static \u0275dir=Os({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Je("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&su("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fs],replaceUrl:[2,"replaceUrl","replaceUrl",Fs],routerLink:"routerLink"},features:[Is]})}return e})();var vS=new S("");function Bu(e,...n){return bl([{provide:Wo,multi:!0,useValue:e},[],{provide:Rt,useFactory:yS,deps:[Xe]},{provide:iu,multi:!0,useFactory:wS},n.map(t=>t.\u0275providers)])}function yS(e){return e.routerState.root}function wS(){let e=m(me);return n=>{let t=e.get(cn);if(n!==t.components[0])return;let r=e.get(Xe),o=e.get(bS);e.get(_S)===1&&r.initialNavigation(),e.get(IS,null,x.Optional)?.setUpPreloading(),e.get(vS,null,x.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var bS=new S("",{factory:()=>new K}),_S=new S("",{providedIn:"root",factory:()=>1});var IS=new S("");var ya=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Te(0,"router-outlet")},dependencies:[Bo],encapsulation:2,changeDetection:0})};var lm=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var Go=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},ba=class extends Go{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},_a=class extends Go{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Ia=class extends Go{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},zu=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(zu||{});var ES=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},Zo=class{constructor(n,{headers:t={},customFetch:r,region:o=zu.Any}={}){this.url=n,this.headers=t,this.region=o,this.fetch=lm(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return ES(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=t,a={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:l}).catch(g=>{throw new ba(g)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new _a(u);if(!u.ok)throw new Ia(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),d;return h==="application/json"?d=yield u.json():h==="application/octet-stream"?d=yield u.blob():h==="text/event-stream"?d=u:h==="multipart/form-data"?d=yield u.formData():d=yield u.text(),{data:d,error:null}}catch(o){return{data:null,error:o}}})}};var Im=mv(_m(),1),{PostgrestClient:Em,PostgrestQueryBuilder:uO,PostgrestFilterBuilder:dO,PostgrestTransformBuilder:fO,PostgrestBuilder:hO,PostgrestError:PS}=Im.default;var Sm="2.11.2";var Cm={"X-Client-Info":`realtime-js/${Sm}`},Dm="1.0.0",Da=1e4,Tm=1e3,_r=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(_r||{}),Re=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Re||{}),$e=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}($e||{}),nd=function(e){return e.websocket="websocket",e}(nd||{}),mn=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(mn||{});var Ta=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let o=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+o));s=s+o;let c=r.decode(n.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var Ir=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var W=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(W||{}),od=(e,n,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((i,s)=>(i[s]=LS(s,e,n,o),i),{})},LS=(e,n,t,r)=>{let o=n.find(a=>a.name===e),i=o?.type,s=t[e];return i&&!r.includes(i)?Mm(i,s):rd(s)},Mm=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return $S(n,t)}switch(e){case W.bool:return jS(n);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return FS(n);case W.json:case W.jsonb:return VS(n);case W.timestamp:return US(n);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return rd(n);default:return rd(n)}},rd=e=>e,jS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FS=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},VS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},$S=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Mm(n,a))}return e},US=e=>typeof e=="string"?e.replace(" ","T"):e,Ma=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var Er=class{constructor(n,t,r={},o=Da){this.channel=n,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var ti=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,o){let i=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let f=i[l];if(f){let h=u.map(w=>w.presence_ref),d=f.map(w=>w.presence_ref),g=u.filter(w=>d.indexOf(w.presence_ref)<0),y=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(a[l]=g),y.length>0&&(c[l]=y)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(n,t,r,o){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=n[a])!==null&&l!==void 0?l:[];if(n[a]=this.cloneDeep(c),u.length>0){let f=n[a].map(d=>d.presence_ref),h=u.filter(d=>f.indexOf(d.presence_ref)<0);n[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=n[a];if(!l)return;let u=c.map(f=>f.presence_ref);l=l.filter(f=>u.indexOf(f.presence_ref)<0),n[a]=l,o(a,l,c),l.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let o=n[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Nt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Nt||{});var ni=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Er(this,$e.join,this.params,this.timeout),this.rejoinTimer=new Ir(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on($e.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new ti(this),this.broadcastEndpointURL=Ma(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>n?.(Nt.CHANNEL_ERROR,u)),this._onClose(()=>n?.(Nt.CLOSED));let c={},l={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",f=>p(this,[f],function*({postgres_changes:u}){var h;if(this.socket.setAuth(),u===void 0){n?.(Nt.SUBSCRIBED);return}else{let d=this.bindings.postgres_changes,g=(h=d?.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<g;w++){let C=d[w],{filter:{event:re,schema:le,table:He,filter:vt}}=C,Tn=u&&u[w];if(Tn&&Tn.event===re&&Tn.schema===le&&Tn.table===He&&Tn.filter===vt)y.push(Object.assign(Object.assign({},C),{id:Tn.id}));else{this.unsubscribe(),n?.(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,n&&n(Nt.SUBSCRIBED);return}})).receive("error",u=>{n?.(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return p(this,arguments,function*(n,t={}){var o,i;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Re.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($e.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Er(this,$e.leave,{},n);o.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_fetchWithTimeout(n,t,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Er(this,n,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var o,i;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=$e;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(d=>{var g,y,w;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=d.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(d=>d.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(d=>{var g,y,w,C,re,le;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){let He=d.id,vt=(g=d.filter)===null||g===void 0?void 0:g.event;return He&&((y=t.ids)===null||y===void 0?void 0:y.includes(He))&&(vt==="*"||vt?.toLocaleLowerCase()===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let He=(re=(C=d?.filter)===null||C===void 0?void 0:C.event)===null||re===void 0?void 0:re.toLocaleLowerCase();return He==="*"||He===((le=t?.event)===null||le===void 0?void 0:le.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:y,table:w,commit_timestamp:C,type:re,errors:le}=g;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:C,eventType:re,new:{},old:{},errors:le}),this._getPayloadRecords(g))}d.callback(h,r)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let o=n.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on($e.close,{},n)}_onError(n){this._on($e.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=od(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=od(n.columns,n.old_record)),t}};var BS=()=>{},zS=typeof WebSocket<"u",qS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ri=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Cm,this.params={},this.timeout=Da,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=BS,this.conn=null,this.sendBuffer=[],this.serializer=new Ta,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${nd.websocket}`,this.httpEndpoint=Ma(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let o=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t?.encode?t.encode:(i,s)=>s(JSON.stringify(i)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ir(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(zS){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new id(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-266KHGQI.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dm}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return p(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return p(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return mn.Connecting;case _r.open:return mn.Open;case _r.closing:return mn.Closing;default:return mn.Closed}}isConnected(){return this.connectionState()===mn.Open}channel(n,t={config:{}}){let r=new ni(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){let{topic:t,event:r,payload:o,ref:i}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return p(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(o=>{t&&o.updateJoinPayload({access_token:t}),o.joinedOnce&&o._isJoined()&&o._push($e.access_token,{access_token:t})})}})}sendHeartbeat(){return p(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Tm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:o,payload:i,ref:s}=t;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){return p(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger($e.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${n}${r}${o}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([qS],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var id=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_r.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Sr=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function J(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var xa=class extends Sr{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},vn=class extends Sr{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var WS=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},Na=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},xm=()=>WS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),Ra=e=>{if(Array.isArray(e))return e.map(t=>Ra(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));n[o]=Ra(r)}),n};var yn=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},sd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GS=(e,n,t)=>yn(void 0,void 0,void 0,function*(){let r=yield xm();e instanceof r&&!t?.noResolveJson?e.json().then(o=>{n(new xa(sd(o),e.status||500))}).catch(o=>{n(new vn(sd(o),o))}):n(new vn(sd(e),e))}),ZS=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),t))};function oi(e,n,t,r,o,i){return yn(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,ZS(n,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>GS(c,a,r))})})}function Cr(e,n,t,r){return yn(this,void 0,void 0,function*(){return oi(e,"GET",n,t,r)})}function ft(e,n,t,r,o){return yn(this,void 0,void 0,function*(){return oi(e,"POST",n,r,o,t)})}function Rm(e,n,t,r,o){return yn(this,void 0,void 0,function*(){return oi(e,"PUT",n,r,o,t)})}function Nm(e,n,t,r){return yn(this,void 0,void 0,function*(){return oi(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Aa(e,n,t,r,o){return yn(this,void 0,void 0,function*(){return oi(e,"DELETE",n,r,o,t)})}var Ie=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},KS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Oa=class{constructor(n,t={},r,o){this.url=n,this.headers=t,this.bucketId=r,this.fetch=Na(o)}uploadOrUpdate(n,t,r,o){return Ie(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Am),o),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(J(i))return{data:null,error:i};throw i}})}upload(n,t,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,o){return Ie(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(n),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=Object.assign({upsert:Am.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(J(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return Ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Sr("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}update(n,t,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Ie(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(J(o))return{data:null,error:o};throw o}})}copy(n,t,r){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(J(o))return{data:null,error:o};throw o}})}createSignedUrl(n,t,r){return Ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),i=yield ft(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(J(o))return{data:null,error:o};throw o}})}createSignedUrls(n,t,r){return Ie(this,void 0,void 0,function*(){try{let o=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(J(o))return{data:null,error:o};throw o}})}download(n,t){return Ie(this,void 0,void 0,function*(){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield Cr(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}})}info(n){return Ie(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield Cr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ra(r),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}exists(n){return Ie(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield Nm(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(J(r)&&r instanceof vn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(n){return Ie(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}})}list(n,t,r){return Ie(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},KS),t),{prefix:n||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(J(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var Om="2.7.1";var km={"X-Client-Info":`storage-js/${Om}`};var Dr=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},ka=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},km),t),this.fetch=Na(r)}listBuckets(){return Dr(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}})}getBucket(n){return Dr(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Dr(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return Dr(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Dr(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Dr(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}})}};var ii=class extends ka{constructor(n,t={},r){super(n,t,r)}from(n){return new Oa(this.url,this.headers,n,this.fetch)}};var Pm="2.49.4";var si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";var QS={"X-Client-Info":`supabase-js-${si}/${Pm}`},Lm={headers:QS},jm={schema:"public"},Fm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vm={};gd();var JS=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},YS=e=>{let n;return e?n=e:typeof fetch>"u"?n=hd:n=fetch,(...t)=>n(...t)},XS=()=>typeof Headers>"u"?pd:Headers,$m=(e,n,t)=>{let r=YS(t),o=XS();return(i,s)=>JS(void 0,void 0,void 0,function*(){var a;let c=(a=yield n())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var eC=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})};function Um(e){return e.replace(/\/$/,"")}function Hm(e,n){let{db:t,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:c,global:l}=n,u={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),i),accessToken:()=>eC(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function Bm(e){return Math.round(Date.now()/1e3)+e}function zm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var et=()=>typeof document<"u",wn={tested:!1,writable:!1},qt=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function Pa(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{n[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{n[o]=r}),n}var La=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},qm=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wt=(e,n,t)=>p(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),ci=(e,n)=>p(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),ja=(e,n)=>p(null,null,function*(){yield e.removeItem(n)});function tC(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",r,o,i,s,a,c,l,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=n.indexOf(e.charAt(u++)),a=n.indexOf(e.charAt(u++)),c=n.indexOf(e.charAt(u++)),l=n.indexOf(e.charAt(u++)),r=s<<2|a>>4,o=(a&15)<<4|c>>2,i=(c&3)<<6|l,t=t+String.fromCharCode(r),c!=64&&o!=0&&(t=t+String.fromCharCode(o)),l!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}var ai=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};ai.promiseConstructor=Promise;function ad(e){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(tC(r))}function Wm(e){return p(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function Gm(e,n){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!n(i,null,s)){r(s);return}}catch(s){if(!n(i,s)){o(s);return}}})})}function nC(e){return("0"+e.toString(16)).substr(-2)}function bn(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,nC).join("")}function rC(e){return p(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function oC(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function _n(e){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield rC(e);return oC(t)})}var li=class extends Error{constructor(n,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Fa=class extends li{constructor(n,t){super(n,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function Zm(e){return A(e)&&e.name==="AuthApiError"}var Tr=class extends li{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},At=class extends li{constructor(n,t,r){super(n),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ot=class extends At{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Mr=class extends At{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},In=class extends At{constructor(n){super(n,"AuthInvalidCredentialsError",400)}},En=class extends At{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ui=class extends At{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},xr=class extends At{constructor(n,t){super(n,"AuthRetryableFetchError",t)}};function $a(e){return A(e)&&e.name==="AuthRetryableFetchError"}var Va=class extends At{constructor(n,t,r){super(n,"AuthWeakPasswordError",t),this.reasons=r}};var iC=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},Rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sC=[502,503,504];function Km(e){return p(this,null,function*(){if(!qm(e))throw new xr(Rr(e),0);if(sC.includes(e.status))throw new xr(Rr(e),e.status);let n;try{n=yield e.json()}catch(t){throw new Tr(Rr(t),t)}throw typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)?new Va(Rr(n),e.status,n.weak_password.reasons):new Fa(Rr(n),e.status||500)})}var aC=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function P(e,n,t,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield cC(e,n,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function cC(e,n,t,r,o,i){return p(this,null,function*(){let s=aC(n,r,o,i),a;try{a=yield e(t,s)}catch(c){throw console.error(c),new xr(Rr(c),0)}if(a.ok||(yield Km(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Km(c)}})}function Gt(e){var n;let t=null;lC(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Bm(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function cd(e){let n=Gt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function ht(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Qm(e){return{data:e,error:null}}function Jm(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=e,s=iC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Ym(e){return e}function lC(e){return e.access_token&&e.refresh_token&&e.expires_in}var uC=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},Nr=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=La(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(n,t={}){try{return yield P(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ht})}catch(o){if(A(o))return{data:{user:null},error:o};throw o}})}generateLink(n){return p(this,null,function*(){try{let{options:t}=n,r=uC(n,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Jm,redirectTo:t?.redirectTo})}catch(t){if(A(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ht})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return p(this,null,function*(){var t,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Ym});if(u.error)throw u.error;let f=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return d.length>0&&(d.forEach(g=>{let y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);l[`${w}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(A(l))return{data:{users:[]},error:l};throw l}})}getUserById(n){return p(this,null,function*(){try{return yield P(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ht})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return p(this,null,function*(){try{return yield P(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:ht})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return p(this,null,function*(){try{return yield P(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:ht})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return p(this,null,function*(){try{let{data:t,error:r}=yield P(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(A(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return p(this,null,function*(){try{return{data:yield P(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}})}};var Ua="2.61.0";var Xm="http://localhost:9999",ev="supabase.auth.token";var tv={"X-Client-Info":`gotrue-js/${Ua}`},ld=10;var nv={getItem:e=>qt()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{qt()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{qt()&&globalThis.localStorage.removeItem(e)}};function ud(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function rv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var dC={debug:!!(globalThis&&qt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ha=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}};rv();var fC={url:Xm,storageKey:ev,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tv,flowType:"implicit",debug:!1},di=30*1e3,ov=3;function hC(e,n,t){return p(this,null,function*(){return yield t()})}var dd=(()=>{class e{constructor(t){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},fC),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Nr({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=La(o.fetch),this.lock=o.lock||hC,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:qt()?this.storage=nv:(this.memoryStorage={},this.storage=ud(this.memoryStorage)):(this.memoryStorage={},this.storage=ud(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",i=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ua}) ${new Date().toISOString()}`,...t),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let t=et()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(t);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),yield this._saveSession(i),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return A(t)?{error:t}:{error:new Tr("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(t){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s;if("email"in t){let{email:f,password:h,options:d}=t,g=null,y=null;if(this.flowType==="pkce"){let w=bn();yield Wt(this.storage,`${this.storageKey}-code-verifier`,w),g=yield _n(w),y=w===g?"plain":"s256"}s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:f,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:y},xform:Gt})}else if("phone"in t){let{phone:f,password:h,options:d}=t;s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(o=d?.data)!==null&&o!==void 0?o:{},channel:(i=d?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Gt})}else throw new In("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in t){let{email:s,password:a,options:c}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cd})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:cd})}else throw new In("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Mr}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return p(this,null,function*(){var r,o,i,s;return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(t)}))})}_exchangeCodeForSession(t){return p(this,null,function*(){let r=yield ci(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/"),{data:s,error:a}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Gt});return yield ja(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Mr}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})})}signInWithIdToken(t){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=t,c=yield P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Gt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return p(this,null,function*(){var r,o,i,s,a;try{if(yield this._removeSession(),"email"in t){let{email:c,options:l}=t,u=null,f=null;if(this.flowType==="pkce"){let d=bn();yield Wt(this.storage,`${this.storageKey}-code-verifier`,d),u=yield _n(d),f=d===u?"plain":"s256"}let{error:h}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:f}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new In("You must provide either an email or phone number.")}catch(c){if(A(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return p(this,null,function*(){var r,o;try{t.type!=="email_change"&&t.type!=="phone_change"&&(yield this._removeSession());let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Gt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=bn();yield Wt(this.storage,`${this.storageKey}-code-verifier`,c),s=yield _n(c),a=c===s?"plain":"s256"}return yield P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Qm})}catch(s){if(A(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new Ot;let{error:i}=yield P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return p(this,null,function*(){try{t.type!="email_change"&&t.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:s}=t,{error:a}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:o,type:i,options:s}=t,{data:a,error:c}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new In("You must provide either an email or phone number and a type")}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(t=>p(this,null,function*(){return t}))}))})}_acquireLock(t,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o)return{data:{session:t},error:null};let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return p(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return p(this,null,function*(){try{return t?yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ht}):yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:ht})}))}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return p(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Ot;let c=s.session,l=null,u=null;if(this.flowType==="pkce"&&t.email!=null){let d=bn();yield Wt(this.storage,`${this.storageKey}-code-verifier`,d),l=yield _n(d),u=d===l?"plain":"s256"}let{data:f,error:h}=yield P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:ht});if(h)throw h;return c.user=f.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(A(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(t){return ad(t)}setSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return p(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Ot;let r=Date.now()/1e3,o=r,i=!0,s=null,a=ad(t.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(A(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(o=a.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Ot;let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t){return p(this,null,function*(){try{if(!et())throw new En("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new En("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new ui("Not a valid PKCE flow url.");let r=Pa(window.location.href);if(t){if(!r.code)throw new ui("No code detected.");let{data:le,error:He}=yield this._exchangeCodeForSession(r.code);if(He)throw He;let vt=new URL(window.location.href);return vt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",vt.toString()),{data:{session:le.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new En(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=r;if(!s||!c||!a||!u)throw new En("No session defined in URL");let f=Math.round(Date.now()/1e3),h=parseInt(c),d=f+h;l&&(d=parseInt(l));let g=d-f;g*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let y=d-h;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",y,d,f);let{data:w,error:C}=yield this._getUser(s);if(C)throw C;let re={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:re,redirectType:r.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let t=Pa(window.location.href);return!!(et()&&(t.access_token||t.error_description))}_isPKCEFlow(){return p(this,null,function*(){let t=Pa(window.location.href),r=yield ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return p(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return p(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,t);if(c&&!(Zm(c)&&(c.status===404||c.status===401)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield ja(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(t){let r=zm(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(t,r={}){let i=null,s=null;if(this.flowType==="pkce"){let a=bn();yield Wt(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),i=yield _n(a),s=a===i?"plain":"s256"}try{return yield P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(A(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}})}linkIdentity(t){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,f;let{data:h,error:d}=s;if(d)throw d;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield P(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})}));if(i)throw i;return et()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(A(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}unlinkIdentity(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(A(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return p(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Gm(i=>p(this,null,function*(){return yield Wm(i*200),this._debug(r,"refreshing attempt",i),yield P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})}),(i,s,a)=>a&&a.error&&$a(a.error)&&Date.now()+(i+1)*200-o<di)}catch(o){if(this._debug(r,"error",o),A(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),et()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield ci(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=Math.round(Date.now()/1e3),s=((t=o.expires_at)!==null&&t!==void 0?t:1/0)<i+ld;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ld}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),$a(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return p(this,null,function*(){var r,o;if(!t)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ai;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Ot;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),A(s)){let a={session:null,error:s};return $a(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(t,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return p(this,null,function*(){this._debug("#_saveSession()",t),yield Wt(this.storage,this.storageKey,t)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield ja(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${di}ms, refresh threshold is ${ov} ticks`),i<=ov&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Ha)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return p(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let s=bn();yield Wt(this.storage,`${this.storageKey}-code-verifier`,s);let a=yield _n(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(l.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(A(r))return{data:null,error:r};throw r}})}_enroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:l}=yield P(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(!((i=c?.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(A(r))return{data:null,error:r};throw r}})}_verify(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(A(r))return{data:null,error:r};throw r}}))})}_challenge(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(A(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=t?.factors||[],i=o.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:o,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(t=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let f=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}))})}}return e.nextInstanceID=0,e})();var pC=dd,fd=pC;var Ba=class extends fd{constructor(n){super(n)}};var gC=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(f){s(f)}}function c(u){try{l(r.throw(u))}catch(f){s(f)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},za=class{constructor(n,t,r){var o,i,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=Um(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:jm,realtime:Vm,auth:Object.assign(Object.assign({},Fm),{storageKey:c}),global:Lm},u=Hm(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=$m(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Em(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Zo(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ii(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return gC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},l,u){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ba({url:this.authUrl,headers:Object.assign(Object.assign({},f),l),storageKey:i,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new ri(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var iv=(e,n,t)=>new za(e,n,t);var he=class e{supabaseClient;_supabaseUrl="https://xtyvhhxafahoksyzzsdn.supabase.co";_supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0eXZoaHhhZmFob2tzeXp6c2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyNDUzNDYsImV4cCI6MjA2MjgyMTM0Nn0.ubzn5M0fjRsn9uMtA4uJJPAx-ekSzk6HyE7DUCG0mrw";supabasePhotoUrl=`${this._supabaseUrl}/storage/v1/object/public/photos/`;constructor(){this.supabaseClient=iv(this._supabaseUrl,this._supabaseKey)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};function sv(e){let n=$t(()=>e());return vC(n)?new Proxy(e,{get(t,r){return r in n?(fo(t[r])||Object.defineProperty(t,r,{value:Ve(()=>t()[r]),configurable:!0}),sv(t[r])):t[r]}}):e}var mC=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function vC(e){if(e===null||typeof e!="object"||yC(e))return!1;let n=Object.getPrototypeOf(e);if(n===Object.prototype)return!0;for(;n&&n!==Object.prototype;){if(mC.includes(n.constructor))return!1;n=Object.getPrototypeOf(n)}return n===Object.prototype}function yC(e){return typeof e?.[Symbol.iterator]=="function"}var wC=new WeakMap,Ue=Symbol("STATE_SOURCE");function ne(e,...n){e[Ue].update(t=>n.reduce((r,o)=>v(v({},r),typeof o=="function"?o(r):o),t)),IC(e)}function bC(e){return e[Ue]()}function _C(e){return wC.get(e[Ue])||[]}function IC(e){let n=_C(e);for(let t of n){let r=$t(()=>bC(e));t(r)}}function qa(...e){let n=[...e],t=typeof n[0]=="function"?{}:n.shift(),r=n;return(()=>{class i{constructor(){let a=r.reduce((y,w)=>w(y),EC()),{stateSignals:c,props:l,methods:u,hooks:f}=a,h=v(v(v({},c),l),u);this[Ue]=a[Ue];for(let y of Reflect.ownKeys(h))this[y]=h[y];let{onInit:d,onDestroy:g}=f;d&&d(),g&&m(je).onDestroy(g)}static \u0275fac=function(c){return new(c||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:t.providedIn||null})}return i})()}function EC(){return{[Ue]:Vl({}),stateSignals:{},props:{},methods:{},hooks:{}}}function Ar(e,...n){let t=typeof e=="function"?[e,...n]:n;return r=>t.reduce((o,i)=>i(o),r)}function SC(e){return n=>{let t=e(v(v(v({[Ue]:n[Ue]},n.stateSignals),n.props),n.methods));return Reflect.ownKeys(t),k(v({},n),{props:v(v({},n.props),t)})}}function Wa(e){return SC(e)}function Zt(e){return n=>{let t=e(v(v(v({[Ue]:n[Ue]},n.stateSignals),n.props),n.methods));return Reflect.ownKeys(t),k(v({},n),{methods:v(v({},n.methods),t)})}}function pt(e){return n=>{let t=typeof e=="function"?e():e,r=Reflect.ownKeys(t);n[Ue].update(i=>v(v({},i),t));let o=r.reduce((i,s)=>{let a=Ve(()=>n[Ue]()[s]);return k(v({},i),{[s]:sv(a)})},{});return k(v({},n),{stateSignals:v(v({},n.stateSignals),o)})}}var Sn=function(e){return e[e.None=0]="None",e[e.Entities=1]="Entities",e[e.Both=2]="Both",e}(Sn||{}),CC=e=>e.id;function DC(e){return e?.selectId??CC}function av(e){let n=e?.collection,t=n===void 0?"entityMap":`${n}EntityMap`,r=n===void 0?"ids":`${n}Ids`,o=n===void 0?"entities":`${n}Entities`;return{entityMapKey:t,idsKey:r,entitiesKey:o}}function TC(e,n){return{entityMap:v({},e[n.entityMapKey]),ids:[...e[n.idsKey]]}}function MC(e,n,t){switch(t){case Sn.Both:return{[n.entityMapKey]:e.entityMap,[n.idsKey]:e.ids};case Sn.Entities:return{[n.entityMapKey]:e.entityMap};default:return{}}}function xC(e,n,t,r=!1){let o=t(n);return e.entityMap[o]?Sn.None:(e.entityMap[o]=n,r?e.ids.unshift(o):e.ids.push(o),Sn.Both)}function RC(e,n,t,r=!1){let o=Sn.None;for(let i of n){let s=xC(e,i,t,r);s===Sn.Both&&(o=s)}return o}function Cn(e,n){let t=DC(n),r=av(n);return o=>{let i=TC(o,r),s=RC(i,e,t);return MC(i,r,s)}}function Or(e){let{entityMapKey:n,idsKey:t,entitiesKey:r}=av(e);return Ar(pt({[n]:{},[t]:[]}),Wa(o=>({[r]:Ve(()=>{let i=o[n]();return o[t]().map(a=>i[a])})})))}function Kt(e,n){n?.injector||Yn(Kt);let t=n?.injector??m(me),r=new K,o=e(r).subscribe();t.get(je).onDestroy(()=>o.unsubscribe());let i=(s,a)=>{if(NC(s))return r.next(s),{destroy:kt};let c=AC(),l=a?.injector??c??t;if(fo(s)){let f=ar(()=>{let h=s();$t(()=>r.next(h))},{injector:l});return o.add({unsubscribe:()=>f.destroy()}),f}let u=s.subscribe(f=>r.next(f));return o.add(u),l!==t&&l.get(je).onDestroy(()=>u.unsubscribe()),{destroy:()=>u.unsubscribe()}};return i.destroy=o.unsubscribe.bind(o),i}function NC(e){return!fo(e)&&!Br(e)}function AC(){try{return m(me)}catch{return}}var cv=e=>e.id,gt=qa(pt({votesAreLoading:"initial"}),Or({entity:void 0,collection:"votes"}),Zt(e=>{let n=m(he).supabaseClient,t=Kt(tt(z(()=>ne(e,{votesAreLoading:"loading"})),ee(()=>U(n.from("Votes").select("*").eq("user",localStorage.getItem("user_id"))).pipe(I(i=>{i.data!=null&&(ne(e,Cn(i.data,{collection:"votes",selectId:cv})),ne(e,{votesAreLoading:"loaded"}))}))))),r=Kt(tt(z(()=>ne(e,{votesAreLoading:"loading"})),ee(({votingArticleId:i,candidatePhotoId:s})=>U(n.from("Votes").insert({voting_article_id:i,user:localStorage.getItem("user_id"),candidate_photo_id:s,voted:!0}).select()).pipe(I(a=>{a.data!=null&&(ne(e,Cn(a.data,{collection:"votes",selectId:cv})),ne(e,{votesAreLoading:"loaded"}))})))));return{loadVotes:t,vote:r,invalidate:()=>{ne(e,{votesAreLoading:"initial"})}}}));var OC=e=>e.id,uv=()=>Ar(pt({photoStorageIsLoading:"initial"}),Or({entity:void 0,collection:"storage"}),Zt(e=>{let n=m(he).supabaseClient;return{loadPhotoStorage:Kt(tt(z(()=>ne(e,{photoStorageIsLoading:"loading"})),ee(()=>U(n.storage.from("photos").list()).pipe(I(r=>{r.data!=null&&(ne(e,Cn(r.data,{collection:"storage",selectId:OC})),ne(e,{photoStorageIsLoading:"loaded"}))})))))}}));var kC=e=>e.id,dv=()=>Ar(pt({votingArticlesAreLoading:"initial"}),Or({entity:void 0,collection:"votingArticle"}),Zt(e=>{let n=m(he).supabaseClient;return{loadVotingArticles:Kt(tt(z(()=>ne(e,{votingArticlesAreLoading:"loading"})),ee(()=>U(n.from("Voting Article").select("*")).pipe(I(r=>{r.data!=null&&(ne(e,Cn(r.data,{collection:"votingArticle",selectId:kC})),ne(e,{votingArticlesAreLoading:"loaded"}))})))))}}));var Ne=qa(pt({paramVotingArticleId:null}),dv(),uv(),Zt(e=>({setVotingArticleId:r=>{ne(e,{paramVotingArticleId:r.params.votingArticleId})},invalidate:()=>{ne(e,{photoStorageIsLoading:"initial",votingArticlesAreLoading:"initial"})}})),Wa((e,n=m(gt),t=m(he))=>{let r=Ve(()=>{let s=e.votingArticleEntities(),a=e.storageEntityMap(),c=n.votesEntities(),l=[];return s?.forEach(u=>{let f=u.main_photo?a[u.main_photo]:null,h=[];u.candidate_photos?.forEach(d=>{let g=a[d];h.push({candidatePhotoId:d,candidatePhotoUrl:g?t.supabasePhotoUrl+g.name:null,isVoted:!!c.find(y=>y.candidate_photo_id===d)})}),l.push(k(v({},u),{mainPhotoUrl:f?t.supabasePhotoUrl+f.name:null,candidatePhotoViews:h}))}),l}),o=Ve(()=>{let s=r(),a=[];return s.forEach(c=>{let l=c.candidatePhotoViews.length>0?c.candidatePhotoViews.find(u=>u.isVoted):!0;a.push(!!l)}),console.log("allAreVoted",a),!a.some(c=>c===!1)}),i=Ve(()=>r().find(a=>a.id==e.paramVotingArticleId()));return{votingArticlesWithPhoto:r,paramVotingArticle:i,allArticleAreVoted:o}}));var mt=class e{_supabaseClient=m(he).supabaseClient;votesStore=m(gt);votingArticleStore=m(Ne);_router=m(Xe);_userIdKey="user_id";get isAuthenticated(){return!!localStorage.getItem(this._userIdKey)}get userId(){return localStorage.getItem(this._userIdKey)}login(){return p(this,null,function*(){let n=yield this._supabaseClient.from("Users").insert({}).select();if(n.error){console.error("Error logging in user",n.error);return}this._router.navigate(["/voting"]),localStorage.setItem(this._userIdKey,`${n.data[0].id}`)})}logout(){localStorage.removeItem(this._userIdKey),this.votesStore.invalidate(),this.votingArticleStore.invalidate()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var fv=()=>m(mt).isAuthenticated?E(!0):E(!1);var Ga=class e{authService=m(mt);onSubmit(){this.authService.login()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-login"]],decls:10,vars:0,consts:[[1,"page"],[1,"header"],[1,"app-title__block"],[1,"container"],[1,"login-container"],[1,"field"],["type","text","placeholder","Escribe su number",1,"field__input"],[1,"field__button","button",3,"click"],[1,"navigation"]],template:function(t,r){t&1&&(q(0,"div",0)(1,"header",1),Te(2,"div",2),Z(),q(3,"main",3)(4,"div",4)(5,"div",5),Te(6,"input",6),q(7,"button",7),Je("click",function(){return r.onSubmit()}),de(8," Entrar "),Z()()()(),Te(9,"footer",8),Z())},encapsulation:2,changeDetection:0})};var fi=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-manager"]],decls:4,vars:0,template:function(t,r){t&1&&(q(0,"h1"),de(1,"Manager"),Z(),q(2,"p"),de(3,"Welcome to the Manager component!"),Z())},encapsulation:2,changeDetection:0})};function Dn(e,n){!n?.injector&&Yn(Dn);let t=n?.injector??m(me),r=new Hr(1),o=ar(()=>{let i;try{i=e()}catch(s){$t(()=>r.error(s));return}$t(()=>r.next(i))},{injector:t,manualCleanup:!0});return t.get(je).onDestroy(()=>{o.destroy(),r.complete()}),r.asObservable()}var hv=()=>{let e=m(Ne);return Dn(e.photoStorageIsLoading).pipe(I(n=>(n==="initial"&&e.loadPhotoStorage(),!0)))};var pv=()=>{let e=m(gt);return Dn(e.votesAreLoading).pipe(I(n=>(n==="initial"&&e.loadVotes(),!0)))};var gv=()=>{let e=m(Ne);return Dn(e.votingArticlesAreLoading).pipe(I(n=>(n==="initial"&&e.loadVotingArticles(),!0)))};function PC(e,n){if(e&1){let t=bo();q(0,"button",13),Je("click",function(){ao(t);let o=at().$implicit,i=at(),s=at();return co(s.onVote(i.id,o.candidatePhotoId))}),de(1," Votar "),Z()}}function LC(e,n){if(e&1){let t=bo();q(0,"button",14),Je("click",function(){ao(t);let o=at().$implicit,i=at(),s=at();return co(s.onVote(i.id,o.candidatePhotoId))}),de(1," Votado "),Z()}}function jC(e,n){if(e&1&&(q(0,"div",9),Te(1,"img",10),or(2,PC,2,0,"button",11)(3,LC,2,0,"button",12),Z()),e&2){let t=n.$implicit,r=at(2);De(),ir("src",t.candidatePhotoUrl,mo),De(),wo(r.showVoteButton()?2:t.isVoted?3:-1)}}function FC(e,n){if(e&1&&(q(0,"main",4)(1,"div",7)(2,"p"),de(3),Z(),q(4,"p"),de(5),Z()(),q(6,"div",8),Ls(7,jC,4,2,"div",9,Ps),Z()()),e&2){let t=n;De(3),sr(t.title),De(2),sr(t.vote_criteria),De(2),js(t.candidatePhotoViews)}}var Za=class e{votingArticleStore=m(Ne);votesStore=m(gt);router=m(Xe);showVoteButton=Ve(()=>!this.votingArticleStore.paramVotingArticle()?.candidatePhotoViews.find(n=>n.isVoted===!0));onBack(){this.router.navigate(["/voting"])}onVote(n,t){this.votesStore.vote({votingArticleId:n,candidatePhotoId:t})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-voting-article"]],decls:9,vars:1,consts:[[1,"page"],[1,"header"],[1,"app-title__block"],[1,"app-title__item"],[1,"container"],[1,"navigation"],[1,"button",3,"click"],[1,"candidate-title"],[1,"candidate-container"],[1,"candidate__item"],["alt","Image",1,"candidate__img",3,"src"],[1,"button","button--vote"],["disabled","",1,"button","button--vote"],[1,"button","button--vote",3,"click"],["disabled","",1,"button","button--vote",3,"click"]],template:function(t,r){if(t&1&&(q(0,"div",0)(1,"header",1)(2,"div",2)(3,"h2",3),de(4,"Art Department Challenge"),Z()()(),or(5,FC,9,2,"main",4),q(6,"footer",5)(7,"button",6),Je("click",function(){return r.onBack()}),de(8,"Atras"),Z()()()),t&2){let o;De(5),wo((o=r.votingArticleStore.paramVotingArticle())?5:-1,o)}},encapsulation:2,changeDetection:0})};function VC(e,n){if(e&1&&(q(0,"div",6)(1,"a",9),Te(2,"img",10),q(3,"span",11),de(4),Z()()()),e&2){let t=n.$implicit;De(),ir("routerLink","item/"+t.id),De(),ir("src",t.mainPhotoUrl,mo),De(2),sr(t.title)}}function $C(e,n){if(e&1){let t=bo();q(0,"button",12),Je("click",function(){ao(t);let o=at();return co(o.onSend())}),de(1,"Enviar resultados"),Z()}}var Ka=class e{authService=m(mt);router=m(Xe);supabaseClient=m(he).supabaseClient;votingArticlesStore=m(Ne);onSend(){this.authService.logout(),this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-voting"]],decls:11,vars:1,consts:[[1,"page"],[1,"header"],[1,"app-title__block"],[1,"app-title__item"],[1,"container"],[1,"articles-container"],[1,"article__item"],[1,"navigation"],[1,"button"],[1,"article__link",3,"routerLink"],["alt","Image",1,"article__img",3,"src"],[1,"article__title"],[1,"button",3,"click"]],template:function(t,r){t&1&&(q(0,"div",0)(1,"header",1)(2,"div",2)(3,"h2",3),de(4,"Art Department Challenge"),Z()()(),q(5,"main",4)(6,"div",5),Ls(7,VC,5,3,"div",6,Ps),Z()(),q(9,"footer",7),or(10,$C,2,0,"button",8),Z()()),t&2&&(De(7),js(r.votingArticlesStore.votingArticlesWithPhoto()),De(3),wo(r.votingArticlesStore.allArticleAreVoted()?10:-1))},dependencies:[va],encapsulation:2,changeDetection:0})};var UC=[{path:"",providers:[he,mt,gt,Ne],children:[{path:"",component:Ga},{path:"voting",canActivate:[fv,gv,hv,pv],children:[{path:"",component:Ka},{path:"item/:votingArticleId",component:Za,resolve:{loader:e=>(m(Ne).setVotingArticleId(e),!0)}},{path:"manager",providers:[fi],component:fi}]}]},{path:"**",redirectTo:""}];wu(ya,{providers:[Qp(),Bu(UC)]}).catch(e=>console.error(e));export{UC as routes};
