import{b as kd,c as Od,f as Bv,g as Pd}from"./chunk-LJ5XHLMQ.js";import{a as v,b as L,d as bt,f as Uv,g as Hv,h as p}from"./chunk-FK42CRUA.js";var hd=bt(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});var dd=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};fd.default=dd});var gd=bt(ii=>{"use strict";var Pm=ii&&ii.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ii,"__esModule",{value:!0});var SC=Pm((Pd(),Hv(Bv))),CC=Pm(hd()),pd=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=SC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c;let l=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let S=yield i.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=S:u=JSON.parse(S))}let y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let y=yield i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,f="OK")}catch{i.status===404&&y===""?(h=204,f="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,f="OK"),l&&this.shouldThrowOnError)throw new CC.default(l)}return{error:l,data:u,count:d,status:h,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}};ii.default=pd});var vd=bt(si=>{"use strict";var DC=si&&si.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(si,"__esModule",{value:!0});var TC=DC(gd()),md=class extends TC.default{select(n){let t=!1,r=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};si.default=md});var Oa=bt(ai=>{"use strict";var MC=ai&&ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ai,"__esModule",{value:!0});var xC=MC(vd()),yd=class extends xC.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${i}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};ai.default=yd});var bd=bt(li=>{"use strict";var RC=li&&li.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(li,"__esModule",{value:!0});var ci=RC(Oa()),wd=class{constructor(n,{headers:t={},schema:r,fetch:o}){this.url=n,this.headers=t,this.schema=r,this.fetch=o}select(n,{head:t=!1,count:r}={}){let o=t?"HEAD":"GET",i=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ci.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(n)){let s=n.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ci.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let c=n.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ci.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),this.headers.Prefer=o.join(","),new ci.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ci.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};li.default=wd});var Lm=bt(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.version=void 0;Pa.version="0.0.0-automated"});var jm=bt(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.DEFAULT_HEADERS=void 0;var NC=Lm();La.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${NC.version}`}});var Vm=bt(ui=>{"use strict";var Fm=ui&&ui.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ui,"__esModule",{value:!0});var AC=Fm(bd()),kC=Fm(Oa()),OC=jm(),_d=class e{constructor(n,{headers:t={},schema:r,fetch:o}={}){this.url=n,this.headers=Object.assign(Object.assign({},OC.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=o}from(n){let t=new URL(`${this.url}/${n}`);return new AC.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${n}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",c=t);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new kC.default({method:s,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ui.default=_d});var Wm=bt(de=>{"use strict";var Nr=de&&de.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(de,"__esModule",{value:!0});de.PostgrestError=de.PostgrestBuilder=de.PostgrestTransformBuilder=de.PostgrestFilterBuilder=de.PostgrestQueryBuilder=de.PostgrestClient=void 0;var $m=Nr(Vm());de.PostgrestClient=$m.default;var Um=Nr(bd());de.PostgrestQueryBuilder=Um.default;var Hm=Nr(Oa());de.PostgrestFilterBuilder=Hm.default;var Bm=Nr(vd());de.PostgrestTransformBuilder=Bm.default;var zm=Nr(gd());de.PostgrestBuilder=zm.default;var qm=Nr(hd());de.PostgrestError=qm.default;de.default={PostgrestClient:$m.default,PostgrestQueryBuilder:Um.default,PostgrestFilterBuilder:Hm.default,PostgrestTransformBuilder:Bm.default,PostgrestBuilder:zm.default,PostgrestError:qm.default}});function uc(e,n){return Object.is(e,n)}var X=null,Ei=!1,dc=1,ke=Symbol("SIGNAL");function R(e){let n=X;return X=e,n}function fc(){return X}var Fn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gr(e){if(Ei)throw new Error("");if(X===null)return;X.consumerOnSignalRead(e);let n=X.nextProducerIndex++;if(Mi(X),n<X.producerNode.length&&X.producerNode[n]!==e&&Wr(X)){let t=X.producerNode[n];Ti(t,X.producerIndexOfThis[n])}X.producerNode[n]!==e&&(X.producerNode[n]=e,X.producerIndexOfThis[n]=Wr(X)?jd(e,X,n):0),X.producerLastReadVersion[n]=e.version}function Ld(){dc++}function hc(e){if(!(Wr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===dc)){if(!e.producerMustRecompute(e)&&!Di(e)){lc(e);return}e.producerRecomputeValue(e),lc(e)}}function pc(e){if(e.liveConsumerNode===void 0)return;let n=Ei;Ei=!0;try{for(let t of e.liveConsumerNode)t.dirty||zv(t)}finally{Ei=n}}function gc(){return X?.consumerAllowSignalWrites!==!1}function zv(e){e.dirty=!0,pc(e),e.consumerMarkedDirty?.(e)}function lc(e){e.dirty=!1,e.lastCleanEpoch=dc}function Zr(e){return e&&(e.nextProducerIndex=0),R(e)}function Ci(e,n){if(R(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Wr(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Ti(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Di(e){Mi(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(hc(t),r!==t.version))return!0}return!1}function Kr(e){if(Mi(e),Wr(e))for(let n=0;n<e.producerNode.length;n++)Ti(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function jd(e,n,t){if(Fd(e),e.liveConsumerNode.length===0&&Vd(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=jd(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Ti(e,n){if(Fd(e),e.liveConsumerNode.length===1&&Vd(e))for(let r=0;r<e.producerNode.length;r++)Ti(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];Mi(o),o.producerIndexOfThis[r]=n}}function Wr(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Mi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Fd(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Vd(e){return e.producerNode!==void 0}function mc(e,n){let t=Object.create(qv);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(hc(t),Gr(t),t.value===Si)throw t.error;return t.value};return r[ke]=t,r}var ac=Symbol("UNSET"),cc=Symbol("COMPUTING"),Si=Symbol("ERRORED"),qv=L(v({},Fn),{value:ac,dirty:!0,error:null,equal:uc,kind:"computed",producerMustRecompute(e){return e.value===ac||e.value===cc},producerRecomputeValue(e){if(e.value===cc)throw new Error("Detected cycle in computations.");let n=e.value;e.value=cc;let t=Zr(e),r,o=!1;try{r=e.computation(),R(null),o=n!==ac&&n!==Si&&r!==Si&&e.equal(n,r)}catch(i){r=Si,e.error=i}finally{Ci(e,t)}if(o){e.value=n;return}e.value=r,e.version++}});function Wv(){throw new Error}var $d=Wv;function Ud(e){$d(e)}function vc(e){$d=e}var Gv=null;function yc(e,n){let t=Object.create(xi);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(Gr(t),t.value);return r[ke]=t,r}function Qr(e,n){gc()||Ud(e),e.equal(e.value,n)||(e.value=n,Zv(e))}function wc(e,n){gc()||Ud(e),Qr(e,n(e.value))}var xi=L(v({},Fn),{equal:uc,value:void 0,kind:"signal"});function Zv(e){e.version++,Ld(),pc(e),Gv?.()}function bc(e){let n=R(null);try{return e()}finally{R(n)}}var _c;function Jr(){return _c}function _t(e){let n=_c;return _c=e,n}var Ri=Symbol("NotFound");function C(e){return typeof e=="function"}function Vn(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ni=Vn(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Yr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var J=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(C(r))try{r()}catch(i){n=i instanceof Ni?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Hd(i)}catch(s){n=n??[],s instanceof Ni?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ni(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Hd(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Yr(t,n)}remove(n){let{_finalizers:t}=this;t&&Yr(t,n),n instanceof e&&n._removeParent(this)}};J.EMPTY=(()=>{let e=new J;return e.closed=!0,e})();var Ic=J.EMPTY;function Ai(e){return e instanceof J||e&&"closed"in e&&C(e.remove)&&C(e.add)&&C(e.unsubscribe)}function Hd(e){C(e)?e():e.unsubscribe()}var qe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $n={setTimeout(e,n,...t){let{delegate:r}=$n;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=$n;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ki(e){$n.setTimeout(()=>{let{onUnhandledError:n}=qe;if(n)n(e);else throw e})}function jt(){}var Bd=Ec("C",void 0,void 0);function zd(e){return Ec("E",void 0,e)}function qd(e){return Ec("N",e,void 0)}function Ec(e,n,t){return{kind:e,value:n,error:t}}var tn=null;function Un(e){if(qe.useDeprecatedSynchronousErrorHandling){let n=!tn;if(n&&(tn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=tn;if(tn=null,t)throw r}}else e()}function Wd(e){qe.useDeprecatedSynchronousErrorHandling&&tn&&(tn.errorThrown=!0,tn.error=e)}var nn=class extends J{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ai(n)&&n.add(this)):this.destination=ey}static create(n,t,r){return new Hn(n,t,r)}next(n){this.isStopped?Cc(qd(n),this):this._next(n)}error(n){this.isStopped?Cc(zd(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Cc(Bd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Yv=Function.prototype.bind;function Sc(e,n){return Yv.call(e,n)}var Dc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Oi(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Oi(r)}else Oi(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Oi(t)}}},Hn=class extends nn{constructor(n,t,r){super();let o;if(C(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&qe.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Sc(n.next,i),error:n.error&&Sc(n.error,i),complete:n.complete&&Sc(n.complete,i)}):o=n}this.destination=new Dc(o)}};function Oi(e){qe.useDeprecatedSynchronousErrorHandling?Wd(e):ki(e)}function Xv(e){throw e}function Cc(e,n){let{onStoppedNotification:t}=qe;t&&$n.setTimeout(()=>t(e,n))}var ey={closed:!0,next:jt,error:Xv,complete:jt};var Bn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function De(e){return e}function rt(...e){return Tc(e)}function Tc(e){return e.length===0?De:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var H=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=ny(t)?t:new Hn(t,r,o);return Un(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Gd(r),new r((o,i)=>{let s=new Hn({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Bn](){return this}pipe(...t){return Tc(t)(this)}toPromise(t){return t=Gd(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function Gd(e){var n;return(n=e??qe.Promise)!==null&&n!==void 0?n:Promise}function ty(e){return e&&C(e.next)&&C(e.error)&&C(e.complete)}function ny(e){return e&&e instanceof nn||ty(e)&&Ai(e)}function Mc(e){return C(e?.lift)}function F(e){return n=>{if(Mc(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(e,n,t,r,o){return new xc(e,n,t,r,o)}var xc=class extends nn{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function zn(){return F((e,n)=>{let t=null;e._refCount++;let r=V(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var qn=class extends H{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new J;let t=this.getSubject();n.add(this.source.subscribe(V(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=J.EMPTY)}return n}refCount(){return zn()(this)}};var Zd=Vn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=(()=>{class e extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Pi(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Zd}next(t){Un(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Un(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Un(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Ic:(this.currentObservers=null,i.push(t),new J(()=>{this.currentObservers=null,Yr(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new H;return t.source=this,t}}return e.create=(n,t)=>new Pi(n,t),e})(),Pi=class extends K{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Ic}};var le=class extends K{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Rc={now(){return(Rc.delegate||Date).now()},delegate:void 0};var Xr=class extends K{constructor(n=1/0,t=1/0,r=Rc){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var be=new H(e=>e.complete());function Kd(e){return e&&C(e.schedule)}function Qd(e){return e[e.length-1]}function Jd(e){return C(Qd(e))?e.pop():void 0}function Ft(e){return Kd(Qd(e))?e.pop():void 0}function Xd(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}function Yd(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function rn(e){return this instanceof rn?(this.v=e,this):new rn(e)}function ef(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(y){return new Promise(function(w,S){i.push([f,y,w,S])>1||c(f,y)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(y){h(i[0][3],y)}}function l(f){f.value instanceof rn?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function tf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Yd=="function"?Yd(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Li=e=>e&&typeof e.length=="number"&&typeof e!="function";function ji(e){return C(e?.then)}function Fi(e){return C(e[Bn])}function Vi(e){return Symbol.asyncIterator&&C(e?.[Symbol.asyncIterator])}function $i(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ry(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ui=ry();function Hi(e){return C(e?.[Ui])}function Bi(e){return ef(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield rn(t.read());if(o)return yield rn(void 0);yield yield rn(r)}}finally{t.releaseLock()}})}function zi(e){return C(e?.getReader)}function se(e){if(e instanceof H)return e;if(e!=null){if(Fi(e))return oy(e);if(Li(e))return iy(e);if(ji(e))return sy(e);if(Vi(e))return nf(e);if(Hi(e))return ay(e);if(zi(e))return cy(e)}throw $i(e)}function oy(e){return new H(n=>{let t=e[Bn]();if(C(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iy(e){return new H(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function sy(e){return new H(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ki)})}function ay(e){return new H(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function nf(e){return new H(n=>{ly(e,n).catch(t=>n.error(t))})}function cy(e){return nf(Bi(e))}function ly(e,n){var t,r,o,i;return Xd(this,void 0,void 0,function*(){try{for(t=tf(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function _e(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function qi(e,n=0){return F((t,r)=>{t.subscribe(V(r,o=>_e(r,e,()=>r.next(o),n),()=>_e(r,e,()=>r.complete(),n),o=>_e(r,e,()=>r.error(o),n)))})}function Wi(e,n=0){return F((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function rf(e,n){return se(e).pipe(Wi(n),qi(n))}function of(e,n){return se(e).pipe(Wi(n),qi(n))}function sf(e,n){return new H(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function af(e,n){return new H(t=>{let r;return _e(t,n,()=>{r=e[Ui](),_e(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>C(r?.return)&&r.return()})}function Gi(e,n){if(!e)throw new Error("Iterable cannot be null");return new H(t=>{_e(t,n,()=>{let r=e[Symbol.asyncIterator]();_e(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function cf(e,n){return Gi(Bi(e),n)}function lf(e,n){if(e!=null){if(Fi(e))return rf(e,n);if(Li(e))return sf(e,n);if(ji(e))return of(e,n);if(Vi(e))return Gi(e,n);if(Hi(e))return af(e,n);if(zi(e))return cf(e,n)}throw $i(e)}function B(e,n){return n?lf(e,n):se(e)}function D(...e){let n=Ft(e);return B(e,n)}function Wn(e,n){let t=C(e)?e:()=>e,r=o=>o.error(t());return new H(n?o=>n.schedule(r,0,o):r)}function eo(e){return!!e&&(e instanceof H||C(e.lift)&&C(e.subscribe))}var It=Vn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function I(e,n){return F((t,r)=>{let o=0;t.subscribe(V(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:uy}=Array;function dy(e,n){return uy(n)?e(...n):e(n)}function uf(e){return I(n=>dy(e,n))}var{isArray:fy}=Array,{getPrototypeOf:hy,prototype:py,keys:gy}=Object;function df(e){if(e.length===1){let n=e[0];if(fy(n))return{args:n,keys:null};if(my(n)){let t=gy(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function my(e){return e&&typeof e=="object"&&hy(e)===py}function ff(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function Zi(...e){let n=Ft(e),t=Jd(e),{args:r,keys:o}=df(e);if(r.length===0)return B([],n);let i=new H(vy(r,n,o?s=>ff(o,s):De));return t?i.pipe(uf(t)):i}function vy(e,n,t=De){return r=>{hf(n,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)hf(n,()=>{let l=B(e[c],n),u=!1;l.subscribe(V(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hf(e,n,t){e?_e(t,e,n):n()}function pf(e,n,t,r,o,i,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&n.complete()},f=y=>l<r?g(y):c.push(y),g=y=>{i&&n.next(y),l++;let w=!1;se(t(y,u++)).subscribe(V(n,S=>{o?.(S),i?f(S):n.next(S)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let S=c.shift();s?_e(n,s,()=>g(S)):g(S)}h()}catch(S){n.error(S)}}))};return e.subscribe(V(n,f,()=>{d=!0,h()})),()=>{a?.()}}function ee(e,n,t=1/0){return C(n)?ee((r,o)=>I((i,s)=>n(r,i,o,s))(se(e(r,o))),t):(typeof n=="number"&&(t=n),F((r,o)=>pf(r,o,e,t)))}function gf(e=1/0){return ee(De,e)}function mf(){return gf(1)}function Gn(...e){return mf()(B(e,Ft(e)))}function Ki(e){return new H(n=>{se(e()).subscribe(n)})}function We(e,n){return F((t,r)=>{let o=0;t.subscribe(V(r,i=>e.call(n,i,o++)&&r.next(i)))})}function Vt(e){return F((n,t)=>{let r=null,o=!1,i;r=n.subscribe(V(t,void 0,void 0,s=>{i=se(e(s,Vt(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function vf(e,n,t,r,o){return(i,s)=>{let a=t,c=n,l=0;i.subscribe(V(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Zn(e,n){return C(n)?ee(e,n,1):ee(e,1)}function $t(e){return F((n,t)=>{let r=!1;n.subscribe(V(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function Et(e){return e<=0?()=>be:F((n,t)=>{let r=0;n.subscribe(V(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function Qi(e=yy){return F((n,t)=>{let r=!1;n.subscribe(V(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function yy(){return new It}function to(e){return F((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function St(e,n){let t=arguments.length>=2;return r=>r.pipe(e?We((o,i)=>e(o,i,r)):De,Et(1),t?$t(n):Qi(()=>new It))}function Kn(e){return e<=0?()=>be:F((n,t)=>{let r=[];n.subscribe(V(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Nc(e,n){let t=arguments.length>=2;return r=>r.pipe(e?We((o,i)=>e(o,i,r)):De,Kn(1),t?$t(n):Qi(()=>new It))}function Ac(e,n){return F(vf(e,n,arguments.length>=2,!0))}function kc(...e){let n=Ft(e);return F((t,r)=>{(n?Gn(e,t,n):Gn(e,t)).subscribe(r)})}function te(e,n){return F((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(V(r,c=>{o?.unsubscribe();let l=0,u=i++;se(e(c,u)).subscribe(o=V(r,d=>r.next(n?n(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Oc(e){return F((n,t)=>{se(e).subscribe(V(t,()=>t.complete(),jt)),!t.closed&&n.subscribe(t)})}function G(e,n,t){let r=C(e)||n||t?{next:e,error:n,complete:t}:e;return r?F((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(V(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):De}var th="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(n,t){super(by(n,t)),this.code=n}};function wy(e){return`NG0${Math.abs(e)}`}function by(e,n){return`${wy(e)}${n?": "+n:""}`}var nh=Symbol("InputSignalNode#UNSET"),_y=L(v({},xi),{transformFn:void 0,applyValueToInputSignal(e,n){Qr(e,n)}});function rh(e,n){let t=Object.create(_y);t.value=e,t.transformFn=n?.transform;function r(){if(Gr(t),t.value===nh){let o=null;throw new b(-950,o)}return t.value}return r[ke]=t,r}function Pl(e){return{toString:e}.toString()}var Gc=globalThis;function z(e){for(let n in e)if(e[n]===z)return n;throw Error("Could not find renamed property on target object.")}function Te(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Te).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Zc(e,n){return e?n?`${e} ${n}`:e:n||""}var Iy=z({__forward_ref__:z});function oh(e){return e.__forward_ref__=oh,e.toString=function(){return Te(this())},e}function Pe(e){return ih(e)?e():e}function ih(e){return typeof e=="function"&&e.hasOwnProperty(Iy)&&e.__forward_ref__===oh}function _(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function xs(e){return yf(e,ah)||yf(e,ch)}function sh(e){return xs(e)!==null}function yf(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ey(e){let n=e&&(e[ah]||e[ch]);return n||null}function wf(e){return e&&(e.hasOwnProperty(bf)||e.hasOwnProperty(Sy))?e[bf]:null}var ah=z({\u0275prov:z}),bf=z({\u0275inj:z}),ch=z({ngInjectableDef:z}),Sy=z({ngInjectorDef:z}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=_({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lh(e){return e&&!!e.\u0275providers}var Cy=z({\u0275cmp:z}),Dy=z({\u0275dir:z}),Ty=z({\u0275pipe:z}),My=z({\u0275mod:z}),os=z({\u0275fac:z}),io=z({__NG_ELEMENT_ID__:z}),_f=z({__NG_ENV_ID__:z});function Rs(e){return typeof e=="string"?e:e==null?"":String(e)}function xy(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Rs(e)}function uh(e,n){throw new b(-200,e)}function Ll(e,n){throw new b(-201,!1)}var x=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(x||{}),Kc;function dh(){return Kc}function Oe(e){let n=Kc;return Kc=e,n}function fh(e,n,t){let r=xs(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&x.Optional)return null;if(n!==void 0)return n;Ll(e,"Injector")}var Ry={},on=Ry,Ny="__NG_DI_FLAG__",is=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?Ri:on,r)}},ss="ngTempTokenPath",Ay="ngTokenPath",ky=/\n/gm,Oy="\u0275",If="__source";function Py(e,n=x.Default){if(Jr()===void 0)throw new b(-203,!1);if(Jr()===null)return fh(e,void 0,n);{let t=Jr(),r;return t instanceof is?r=t.injector:r=t,r.get(e,n&x.Optional?null:void 0,n)}}function N(e,n=x.Default){return(dh()||Py)(Pe(e),n)}function m(e,n=x.Default){return N(e,Ns(n))}function Ns(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Qc(e){let n=[];for(let t=0;t<e.length;t++){let r=Pe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let o,i=x.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Ly(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}n.push(N(o,i))}else n.push(N(r))}return n}function Ly(e){return e[Ny]}function jy(e,n,t,r){let o=e[ss];throw n[If]&&o.unshift(n[If]),e.message=Fy(`
`+e.message,o,t,r),e[Ay]=o,e[ss]=null,e}function Fy(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Oy?e.slice(2):e;let o=Te(n);if(Array.isArray(n))o=n.map(Te).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Te(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(ky,`
  `)}`}function er(e,n){let t=e.hasOwnProperty(os);return t?e[os]:null}function jl(e,n){e.forEach(t=>Array.isArray(t)?jl(t,n):n(t))}function hh(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function as(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Vy(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(o===1)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let i=o-2;e[o]=e[i],o--}e[n]=t,e[n+1]=r}}function Fl(e,n,t){let r=wo(e,n);return r>=0?e[r|1]=t:(r=~r,Vy(e,r,n,t)),r}function Pc(e,n){let t=wo(e,n);if(t>=0)return e[t|1]}function wo(e,n){return $y(e,n,1)}function $y(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}var tr={},Ct=[],so=new E(""),ph=new E("",-1),gh=new E(""),cs=class{get(n,t=on){if(t===on){let r=new Error(`NullInjectorError: No provider for ${Te(n)}!`);throw r.name="NullInjectorError",r}return t}};function mh(e,n){let t=e[My]||null;if(!t&&n===!0)throw new Error(`Type ${Te(e)} does not have '\u0275mod' property.`);return t}function nr(e){return e[Cy]||null}function Uy(e){return e[Dy]||null}function Hy(e){return e[Ty]||null}function Vl(e){return{\u0275providers:e}}function By(...e){return{\u0275providers:vh(!0,e),\u0275fromNgModule:!0}}function vh(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return jl(n,s=>{let a=s;Jc(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&yh(o,i),t}function yh(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];$l(o,i=>{n(i,r)})}}function Jc(e,n,t,r){if(e=Pe(e),!e)return!1;let o=null,i=wf(e),s=!i&&nr(e);if(!i&&!s){let c=e.ngModule;if(i=wf(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Jc(l,n,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{jl(i.imports,u=>{Jc(u,n,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&yh(l,n)}if(!a){let l=er(o)||(()=>new o);n({provide:o,useFactory:l,deps:Ct},o),n({provide:gh,useValue:o,multi:!0},o),n({provide:so,useValue:()=>N(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;$l(c,u=>{n(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function $l(e,n){for(let t of e)lh(t)&&(t=t.\u0275providers),Array.isArray(t)?$l(t,n):n(t)}var zy=z({provide:String,useValue:z});function wh(e){return e!==null&&typeof e=="object"&&zy in e}function qy(e){return!!(e&&e.useExisting)}function Wy(e){return!!(e&&e.useFactory)}function Yc(e){return typeof e=="function"}var As=new E(""),Xi={},Ef={},Lc;function Ul(){return Lc===void 0&&(Lc=new cs),Lc}var Me=class{},ao=class extends Me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,el(n,s=>this.processProvider(s)),this.records.set(ph,Qn(void 0,this)),o.has("environment")&&this.records.set(Me,Qn(void 0,this));let i=this.records.get(As);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gh,Ct,x.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?Ri:on,r)}destroy(){ro(this),this._destroyed=!0;let n=R(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(n)}}onDestroy(n){return ro(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ro(this);let t=_t(this),r=Oe(void 0),o;try{return n()}finally{_t(t),Oe(r)}}get(n,t=on,r=x.Default){if(ro(this),n.hasOwnProperty(_f))return n[_f](this);r=Ns(r);let o,i=_t(this),s=Oe(void 0);try{if(!(r&x.SkipSelf)){let c=this.records.get(n);if(c===void 0){let l=Yy(n)&&xs(n);l&&this.injectableDefInScope(l)?c=Qn(Xc(n),Xi):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,r)}let a=r&x.Self?Ul():this.parent;return t=r&x.Optional&&t===on?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ss]=a[ss]||[]).unshift(Te(n)),i)throw a;return jy(a,n,"R3InjectorError",this.source)}else throw a}finally{Oe(s),_t(i)}}resolveInjectorInitializers(){let n=R(null),t=_t(this),r=Oe(void 0),o;try{let i=this.get(so,Ct,x.Self);for(let s of i)s()}finally{_t(t),Oe(r),R(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Te(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Pe(n);let t=Yc(n)?n:Pe(n&&n.provide),r=Zy(n);if(!Yc(n)&&n.multi===!0){let o=this.records.get(t);o||(o=Qn(void 0,Xi,!0),o.factory=()=>Qc(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let o=R(null);try{return t.value===Ef?uh(Te(n)):t.value===Xi&&(t.value=Ef,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Jy(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{R(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Pe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xc(e){let n=xs(e),t=n!==null?n.factory:er(e);if(t!==null)return t;if(e instanceof E)throw new b(204,!1);if(e instanceof Function)return Gy(e);throw new b(204,!1)}function Gy(e){if(e.length>0)throw new b(204,!1);let t=Ey(e);return t!==null?()=>t.factory(e):()=>new e}function Zy(e){if(wh(e))return Qn(void 0,e.useValue);{let n=Ky(e);return Qn(n,Xi)}}function Ky(e,n,t){let r;if(Yc(e)){let o=Pe(e);return er(o)||Xc(o)}else if(wh(e))r=()=>Pe(e.useValue);else if(Wy(e))r=()=>e.useFactory(...Qc(e.deps||[]));else if(qy(e))r=(o,i)=>N(Pe(e.useExisting),i!==void 0&&i&x.Optional?x.Optional:void 0);else{let o=Pe(e&&(e.useClass||e.provide));if(Qy(e))r=()=>new o(...Qc(e.deps));else return er(o)||Xc(o)}return r}function ro(e){if(e.destroyed)throw new b(205,!1)}function Qn(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Qy(e){return!!e.deps}function Jy(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Yy(e){return typeof e=="function"||typeof e=="object"&&e instanceof E}function el(e,n){for(let t of e)Array.isArray(t)?el(t,n):t&&lh(t)?el(t.\u0275providers,n):n(t)}function Je(e,n){let t;e instanceof ao?(ro(e),t=e):t=new is(e);let r,o=_t(t),i=Oe(void 0);try{return n()}finally{_t(o),Oe(i)}}function bh(){return dh()!==void 0||Jr()!=null}function cr(e){if(!bh())throw new b(-203,!1)}function Xy(e){return typeof e=="function"}var Mt=0,P=1,T=2,ye=3,Ke=4,Ye=5,co=6,ls=7,ne=8,an=9,Dt=10,ue=11,lo=12,Sf=13,lr=14,Qe=15,rr=16,Jn=17,or=18,ks=19,_h=20,Ut=21,jc=22,cn=23,Le=24,Fc=25,je=26,Ih=1;var ln=7,us=8,ds=9,ve=10;function Ht(e){return Array.isArray(e)&&typeof e[Ih]=="object"}function xt(e){return Array.isArray(e)&&e[Ih]===!0}function Eh(e){return(e.flags&4)!==0}function ur(e){return e.componentOffset>-1}function Hl(e){return(e.flags&1)===1}function gn(e){return!!e.template}function fs(e){return(e[T]&512)!==0}function dr(e){return(e[T]&256)===256}var tl=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Sh(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Os=(()=>{let e=()=>Ch;return e.ngInherit=!0,e})();function Ch(e){return e.type.prototype.ngOnChanges&&(e.setInput=tw),ew}function ew(){let e=Th(this),n=e?.current;if(n){let t=e.previous;if(t===tr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function tw(e,n,t,r,o){let i=this.declaredInputs[r],s=Th(e)||nw(e,{previous:tr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new tl(l&&l.currentValue,t,c===tr),Sh(e,n,o,t)}var Dh="__ngSimpleChanges__";function Th(e){return e[Dh]||null}function nw(e,n){return e[Dh]=n}var Cf=null;var q=function(e,n=null,t){Cf?.(e,n,t)},Mh="svg",rw="math";function it(e){for(;Array.isArray(e);)e=e[Mt];return e}function xh(e,n){return it(n[e])}function ct(e,n){return it(n[e.index])}function Bl(e,n){return e.data[n]}function st(e,n){let t=n[e];return Ht(t)?t:t[Mt]}function zl(e){return(e[T]&128)===128}function ow(e){return xt(e[ye])}function ir(e,n){return n==null?null:e[n]}function Rh(e){e[Jn]=0}function Nh(e){e[T]&1024||(e[T]|=1024,zl(e)&&bo(e))}function iw(e,n){for(;e>0;)n=n[lr],e--;return n}function Ps(e){return!!(e[T]&9216||e[Le]?.dirty)}function nl(e){e[Dt].changeDetectionScheduler?.notify(8),e[T]&64&&(e[T]|=1024),Ps(e)&&bo(e)}function bo(e){e[Dt].changeDetectionScheduler?.notify(0);let n=un(e);for(;n!==null&&!(n[T]&8192||(n[T]|=8192,!zl(n)));)n=un(n)}function Ah(e,n){if(dr(e))throw new b(911,!1);e[Ut]===null&&(e[Ut]=[]),e[Ut].push(n)}function sw(e,n){if(e[Ut]===null)return;let t=e[Ut].indexOf(n);t!==-1&&e[Ut].splice(t,1)}function un(e){let n=e[ye];return xt(n)?n[ye]:n}function kh(e){return e[ls]??=[]}function Oh(e){return e.cleanup??=[]}var A={lFrame:Hh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rl=!1;function aw(){return A.lFrame.elementDepthCount}function cw(){A.lFrame.elementDepthCount++}function lw(){A.lFrame.elementDepthCount--}function Ph(){return A.bindingsEnabled}function uw(){return A.skipHydrationRootTNode!==null}function dw(e){return A.skipHydrationRootTNode===e}function fw(){A.skipHydrationRootTNode=null}function W(){return A.lFrame.lView}function lt(){return A.lFrame.tView}function fr(e){return A.lFrame.contextLView=e,e[ne]}function hr(e){return A.lFrame.contextLView=null,e}function Xe(){let e=Lh();for(;e!==null&&e.type===64;)e=e.parent;return e}function Lh(){return A.lFrame.currentTNode}function hw(){let e=A.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function _o(e,n){let t=A.lFrame;t.currentTNode=e,t.isParent=n}function jh(){return A.lFrame.isParent}function pw(){A.lFrame.isParent=!1}function Fh(){return rl}function hs(e){let n=rl;return rl=e,n}function gw(){let e=A.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function mw(e){return A.lFrame.bindingIndex=e}function Io(){return A.lFrame.bindingIndex++}function vw(e){let n=A.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function yw(){return A.lFrame.inI18n}function ww(e,n){let t=A.lFrame;t.bindingIndex=t.bindingRootIndex=e,ol(n)}function bw(){return A.lFrame.currentDirectiveIndex}function ol(e){A.lFrame.currentDirectiveIndex=e}function _w(e){let n=A.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Vh(e){A.lFrame.currentQueryIndex=e}function Iw(e){let n=e[P];return n.type===2?n.declTNode:n.type===1?e[Ye]:null}function $h(e,n,t){if(t&x.SkipSelf){let o=n,i=e;for(;o=o.parent,o===null&&!(t&x.Host);)if(o=Iw(i),o===null||(i=i[lr],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=A.lFrame=Uh();return r.currentTNode=n,r.lView=e,!0}function ql(e){let n=Uh(),t=e[P];A.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Uh(){let e=A.lFrame,n=e===null?null:e.child;return n===null?Hh(e):n}function Hh(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Bh(){let e=A.lFrame;return A.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var zh=Bh;function Wl(){let e=Bh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ew(e){return(A.lFrame.contextLView=iw(e,A.lFrame.contextLView))[ne]}function mn(){return A.lFrame.selectedIndex}function dn(e){A.lFrame.selectedIndex=e}function qh(){let e=A.lFrame;return Bl(e.tView,e.selectedIndex)}function vn(){A.lFrame.currentNamespace=Mh}function Eo(){Sw()}function Sw(){A.lFrame.currentNamespace=null}function Cw(){return A.lFrame.currentNamespace}var Wh=!0;function Gl(){return Wh}function Zl(e){Wh=e}function Dw(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=Ch(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function Gh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function es(e,n,t){Zh(e,n,3,t)}function ts(e,n,t,r){(e[T]&3)===t&&Zh(e,n,t,r)}function Vc(e,n){let t=e[T];(t&3)===n&&(t&=16383,t+=1,e[T]=t)}function Zh(e,n,t,r){let o=r!==void 0?e[Jn]&65535:0,i=r??-1,s=n.length-1,a=0;for(let c=o;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[Jn]+=65536),(a<i||i==-1)&&(Tw(e,t,n,c),e[Jn]=(e[Jn]&4294901760)+c+2),c++}function Df(e,n){q(4,e,n);let t=R(null);try{n.call(e)}finally{R(t),q(5,e,n)}}function Tw(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=e[s];o?e[T]>>14<e[Jn]>>16&&(e[T]&3)===n&&(e[T]+=16384,Df(a,i)):Df(a,i)}var Xn=-1,uo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Mw(e){return(e.flags&8)!==0}function xw(e){return(e.flags&16)!==0}function Rw(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{let i=o,s=t[++r];Nw(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function Kh(e){return e===3||e===4||e===6}function Nw(e){return e.charCodeAt(0)===64}function Kl(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?Tf(e,t,o,null,n[++r]):Tf(e,t,o,null,null))}}return e}function Tf(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function Qh(e){return e!==Xn}function ps(e){return e&32767}function Aw(e){return e>>16}function gs(e,n){let t=Aw(e),r=n;for(;t>0;)r=r[lr],t--;return r}var il=!0;function Mf(e){let n=il;return il=e,n}var kw=256,Jh=kw-1,Yh=5,Ow=0,ot={};function Pw(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(io)&&(r=t[io]),r==null&&(r=t[io]=Ow++);let o=r&Jh,i=1<<o;n.data[e+(o>>Yh)]|=i}function Xh(e,n){let t=ep(e,n);if(t!==-1)return t;let r=n[P];r.firstCreatePass&&(e.injectorIndex=n.length,$c(r.data,e),$c(n,null),$c(r.blueprint,null));let o=Ql(e,n),i=e.injectorIndex;if(Qh(o)){let s=ps(o),a=gs(o,n),c=a[P].data;for(let l=0;l<8;l++)n[i+l]=a[s+l]|c[s+l]}return n[i+8]=o,i}function $c(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ep(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Ql(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=ip(o),r===null)return Xn;if(t++,o=o[lr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Xn}function Lw(e,n,t){Pw(e,n,t)}function jw(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(Kh(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===n)return t[o+1];o=o+2}}}return null}function tp(e,n,t){if(t&x.Optional||e!==void 0)return e;Ll(n,"NodeInjector")}function np(e,n,t,r){if(t&x.Optional&&r===void 0&&(r=null),(t&(x.Self|x.Host))===0){let o=e[an],i=Oe(void 0);try{return o?o.get(n,r,t&x.Optional):fh(n,r,t&x.Optional)}finally{Oe(i)}}return tp(r,n,t)}function rp(e,n,t,r=x.Default,o){if(e!==null){if(n[T]&2048&&!(r&x.Self)){let s=Hw(e,n,t,r,ot);if(s!==ot)return s}let i=op(e,n,t,r,ot);if(i!==ot)return i}return np(n,t,r,o)}function op(e,n,t,r,o){let i=$w(t);if(typeof i=="function"){if(!$h(n,e,r))return r&x.Host?tp(o,t,r):np(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&x.Optional))Ll(t);else return s}finally{zh()}}else if(typeof i=="number"){let s=null,a=ep(e,n),c=Xn,l=r&x.Host?n[Qe][Ye]:null;for((a===-1||r&x.SkipSelf)&&(c=a===-1?Ql(e,n):n[a+8],c===Xn||!Rf(r,!1)?a=-1:(s=n[P],a=ps(c),n=gs(c,n)));a!==-1;){let u=n[P];if(xf(i,a,u.data)){let d=Fw(a,n,t,s,r,l);if(d!==ot)return d}c=n[a+8],c!==Xn&&Rf(r,n[P].data[a+8]===l)&&xf(i,a,n)?(s=u,a=ps(c),n=gs(c,n)):a=-1}}return o}function Fw(e,n,t,r,o,i){let s=n[P],a=s.data[e+8],c=r==null?ur(a)&&il:r!=s&&(a.type&3)!==0,l=o&x.Host&&i===a,u=Vw(a,s,t,c,l);return u!==null?sl(n,s,u,a,o):ot}function Vw(e,n,t,r,o){let i=e.providerIndexes,s=n.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&t===g||f>=c&&g.type===t)return f}if(o){let f=s[c];if(f&&gn(f)&&f.type===t)return c}return null}function sl(e,n,t,r,o){let i=e[t],s=n.data;if(i instanceof uo){let a=i;a.resolving&&uh(xy(s[t]));let c=Mf(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Oe(a.injectImpl):null,d=$h(e,r,x.Default);try{i=e[t]=a.factory(void 0,o,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&Dw(t,s[t],n)}finally{u!==null&&Oe(u),Mf(c),a.resolving=!1,zh()}}return i}function $w(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(io)?e[io]:void 0;return typeof n=="number"?n>=0?n&Jh:Uw:n}function xf(e,n,t){let r=1<<e;return!!(t[n+(e>>Yh)]&r)}function Rf(e,n){return!(e&x.Self)&&!(e&x.Host&&n)}var sn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return rp(this._tNode,this._lView,n,Ns(r),t)}};function Uw(){return new sn(Xe(),W())}function Jl(e){return Pl(()=>{let n=e.prototype.constructor,t=n[os]||al(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[os]||al(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function al(e){return ih(e)?()=>{let n=al(Pe(e));return n&&n()}:er(e)}function Hw(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[T]&2048&&!fs(s);){let a=op(i,s,t,r|x.Self,ot);if(a!==ot)return a;let c=i.parent;if(!c){let l=s[_h];if(l){let u=l.get(t,ot,r);if(u!==ot)return u}c=ip(s),s=s[lr]}i=c}return o}function ip(e){let n=e[P],t=n.type;return t===2?n.declTNode:t===1?e[Ye]:null}function sp(e){return jw(Xe(),e)}function Nf(e,n=null,t=null,r){let o=ap(e,n,t,r);return o.resolveInjectorInitializers(),o}function ap(e,n=null,t=null,r,o=new Set){let i=[t||Ct,By(e)];return r=r||(typeof e=="object"?void 0:Te(e)),new ao(i,n||Ul(),r||null,o)}var we=class e{static THROW_IF_NOT_FOUND=on;static NULL=new cs;static create(n,t){if(Array.isArray(n))return Nf({name:""},t,n,"");{let r=n.name??"";return Nf({name:r},n.parent,n.providers,r)}}static \u0275prov=_({token:e,providedIn:"any",factory:()=>N(ph)});static __NG_ELEMENT_ID__=-1};var Bw=new E("");Bw.__NG_ELEMENT_ID__=e=>{let n=Xe();if(n===null)throw new b(204,!1);if(n.type&2)return n.value;if(e&x.Optional)return null;throw new b(204,!1)};var cp=!1,Fe=(()=>{class e{static __NG_ELEMENT_ID__=zw;static __NG_ENV_ID__=t=>t}return e})(),ms=class extends Fe{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return dr(t)?(n(),()=>{}):(Ah(t,n),()=>sw(t,n))}};function zw(){return new ms(W())}var fn=class{},Yl=new E("",{providedIn:"root",factory:()=>!1});var lp=new E(""),Xl=new E(""),pr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new le(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})();var cl=class extends K{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,bh()&&(this.destroyRef=m(Fe,{optional:!0})??void 0,this.pendingTasks=m(pr,{optional:!0})??void 0)}emit(n){let t=R(null);try{super.next(n)}finally{R(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof J&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ie=cl;function fo(...e){}function up(e){let n,t;function r(){e=fo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Af(e){return queueMicrotask(()=>e()),()=>{e=fo}}var eu="isAngularZone",vs=eu+"_ID",qw=0,ae=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ie(!1);onMicrotaskEmpty=new Ie(!1);onStable=new Ie(!1);onError=new Ie(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=cp}=n;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,Zw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(eu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,Ww,fo,fo);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},Ww={};function tu(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Gw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){up(()=>{e.callbackScheduled=!1,ll(e),e.isCheckStableRunning=!0,tu(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),ll(e)}function Zw(e){let n=()=>{Gw(e)},t=qw++;e._inner=e._inner.fork({name:"angular",properties:{[eu]:!0,[vs]:t,[vs+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(Kw(c))return r.invokeTask(i,s,a,c);try{return kf(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Of(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return kf(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Qw(c)&&n(),Of(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ll(e),tu(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ll(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function kf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Of(e){e._nesting--,tu(e)}var ys=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ie;onMicrotaskEmpty=new Ie;onStable=new Ie;onError=new Ie;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function Kw(e){return dp(e,"__ignore_ng_zone__")}function Qw(e){return dp(e,"__scheduler_tick__")}function dp(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Tt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Jw=new E("",{providedIn:"root",factory:()=>{let e=m(ae),n=m(Tt);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function Pf(e,n){return rh(e,n)}function Yw(e){return rh(nh,e)}var fp=(Pf.required=Yw,Pf);function Xw(){return nu(Xe(),W())}function nu(e,n){return new ru(ct(e,n))}var ru=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Xw}return e})();function So(e){return typeof e=="function"&&e[ke]!==void 0}function ou(e,n){let t=yc(e,n?.equal),r=t[ke];return t.set=o=>Qr(r,o),t.update=o=>wc(r,o),t.asReadonly=eb.bind(t),t}function eb(){let e=this[ke];if(e.readonlyFn===void 0){let n=()=>this();n[ke]=e,e.readonlyFn=n}return e.readonlyFn}function hp(e){return(e.flags&128)===128}var pp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(pp||{}),gp=new Map,tb=0;function nb(){return tb++}function rb(e){gp.set(e[ks],e)}function ul(e){gp.delete(e[ks])}var Lf="__ngContext__";function Co(e,n){Ht(n)?(e[Lf]=n[ks],rb(n)):e[Lf]=n}function mp(e){return yp(e[lo])}function vp(e){return yp(e[Ke])}function yp(e){for(;e!==null&&!xt(e);)e=e[Ke];return e}var dl;function wp(e){dl=e}function ob(){if(dl!==void 0)return dl;if(typeof document<"u")return document;throw new b(210,!1)}var Ls=new E("",{providedIn:"root",factory:()=>ib}),ib="ng",iu=new E(""),Do=new E("",{providedIn:"platform",factory:()=>"unknown"});var su=new E("",{providedIn:"root",factory:()=>ob().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sb="h",ab="b";var bp=!1,cb=new E("",{providedIn:"root",factory:()=>bp});var _p=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(_p||{}),js=new E(""),jf=new Set;function To(e){jf.has(e)||(jf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ip=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=lb}return e})();function lb(){return new Ip(W(),Xe())}var ub=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=_({token:e,providedIn:"root",factory:()=>new e})}return e})();var db=()=>null;function Ep(e,n,t=!1){return db(e,n,t)}function Sp(e,n){let t=e.contentQueries;if(t!==null){let r=R(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=e.data[s];Vh(i),a.contentQueries(2,n[s],s)}}}finally{R(r)}}}function fl(e,n,t){Vh(0);let r=R(null);try{n(e,t)}finally{R(r)}}function Cp(e,n,t){if(Eh(n)){let r=R(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{R(r)}}}var at=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(at||{});var Ji;function fb(){if(Ji===void 0&&(Ji=null,Gc.trustedTypes))try{Ji=Gc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ji}function Ff(e){return fb()?.createScriptURL(e)||e}var ws=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${th})`}};function au(e){return e instanceof ws?e.changingThisBreaksApplicationSecurity:e}function Dp(e,n){let t=hb(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${th})`)}return t===n}function hb(e){return e instanceof ws&&e.getTypeName()||null}var pb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gb(e){return e=String(e),e.match(pb)?e:"unsafe:"+e}var cu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(cu||{});function gr(e){let n=Mp();return n?n.sanitize(cu.URL,e)||"":Dp(e,"URL")?au(e):gb(Rs(e))}function mb(e){let n=Mp();if(n)return Ff(n.sanitize(cu.RESOURCE_URL,e)||"");if(Dp(e,"ResourceURL"))return Ff(au(e));throw new b(904,!1)}function vb(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?mb:gr}function Tp(e,n,t){return vb(n,t)(e)}function Mp(){let e=W();return e&&e[Dt].sanitizer}function xp(e){return e instanceof Function?e():e}function yb(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var Rp="ng-template";function wb(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&yb(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(lu(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function lu(e){return e.type===4&&e.value!==Rp}function bb(e,n,t){let r=e.type===4&&!t?Rp:e.value;return n===r}function _b(e,n,t){let r=4,o=e.attrs,i=o!==null?Sb(o):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!Ge(r)&&!Ge(c))return!1;if(s&&Ge(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!bb(e,c,t)||c===""&&n.length===1){if(Ge(r))return!1;s=!0}}else if(r&8){if(o===null||!wb(e,o,c,t)){if(Ge(r))return!1;s=!0}}else{let l=n[++a],u=Ib(c,o,lu(e),t);if(u===-1){if(Ge(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(Ge(r))return!1;s=!0}}}}return Ge(r)||s}function Ge(e){return(e&1)===0}function Ib(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Cb(n,e)}function Eb(e,n,t=!1){for(let r=0;r<n.length;r++)if(_b(e,n[r],t))return!0;return!1}function Sb(e){for(let n=0;n<e.length;n++){let t=e[n];if(Kh(t))return n}return e.length}function Cb(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Vf(e,n){return e?":not("+n.trim()+")":n}function Db(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ge(s)&&(n+=Vf(i,o),o=""),r=s,i=i||!Ge(r);t++}return o!==""&&(n+=Vf(i,o)),n}function Tb(e){return e.map(Db).join(",")}function Mb(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!Ge(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var Rt={};function xb(e,n){return e.createText(n)}function Rb(e,n,t){e.setValue(n,t)}function Np(e,n,t){return e.createElement(n,t)}function bs(e,n,t,r,o){e.insertBefore(n,t,r,o)}function Ap(e,n,t){e.appendChild(n,t)}function $f(e,n,t,r,o){r!==null?bs(e,n,t,r,o):Ap(e,n,t)}function Nb(e,n,t){e.removeChild(null,n,t)}function Ab(e,n,t){e.setAttribute(n,"style",t)}function kb(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function kp(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&Rw(e,n,r),o!==null&&kb(e,n,o),i!==null&&Ab(e,n,i)}function uu(e,n,t,r,o,i,s,a,c,l,u){let d=je+r,h=d+o,f=Ob(d,h),g=typeof l=="function"?l():l;return f[P]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Ob(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Rt);return t}function Pb(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=uu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function du(e,n,t,r,o,i,s,a,c,l,u){let d=n.blueprint.slice();return d[Mt]=o,d[T]=r|4|128|8|64|1024,(l!==null||e&&e[T]&2048)&&(d[T]|=2048),Rh(d),d[ye]=d[lr]=e,d[ne]=t,d[Dt]=s||e&&e[Dt],d[ue]=a||e&&e[ue],d[an]=c||e&&e[an]||null,d[Ye]=i,d[ks]=nb(),d[co]=u,d[_h]=l,d[Qe]=n.type==2?e[Qe]:d,d}function Lb(e,n,t){let r=ct(n,e),o=Pb(t),i=e[Dt].rendererFactory,s=fu(e,du(e,o,null,Op(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function Op(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Pp(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function fu(e,n){return e[lo]?e[Sf][Ke]=n:e[lo]=n,e[Sf]=n,n}function he(e=1){Lp(lt(),W(),mn()+e,!1)}function Lp(e,n,t,r){if(!r)if((n[T]&3)===3){let i=e.preOrderCheckHooks;i!==null&&es(n,i,t)}else{let i=e.preOrderHooks;i!==null&&ts(n,i,0,t)}dn(t)}var Fs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Fs||{});function hl(e,n,t,r){let o=R(null);try{let[i,s,a]=e.inputs[t],c=null;(s&Fs.SignalBased)!==0&&(c=n[i][ke]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,i):Sh(n,c,i,r)}finally{R(o)}}function jp(e,n,t,r,o){let i=mn(),s=r&2;try{dn(-1),s&&n.length>je&&Lp(e,n,je,!1),q(s?2:0,o),t(r,o)}finally{dn(i),q(s?3:1,o)}}function hu(e,n,t){Bb(e,n,t),(t.flags&64)===64&&zb(e,n,t)}function Fp(e,n,t=ct){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(n,e):e[s];e[o++]=a}}}function jb(e,n,t,r){let i=r.get(cb,bp)||t===at.ShadowDom,s=e.selectRootElement(n,i);return Fb(s),s}function Fb(e){Vb(e)}var Vb=()=>null;function $b(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ub(e,n,t,r,o,i,s,a){if(!a&&pu(n,e,t,r,o)){ur(n)&&Hb(t,n.index);return}if(n.type&3){let c=ct(n,t);r=$b(r),o=s!=null?s(o,n.value||"",r):o,i.setProperty(c,r,o)}else n.type&12}function Hb(e,n){let t=st(n,e);t[T]&16||(t[T]|=64)}function Bb(e,n,t){let r=t.directiveStart,o=t.directiveEnd;ur(t)&&Lb(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Xh(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=sl(n,e,s,t);if(Co(c,n),i!==null&&Zb(n,s-r,c,a,t,i),gn(a)){let l=st(t.index,n);l[ne]=sl(n,e,s,t)}}}function zb(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=bw();try{dn(i);for(let a=r;a<o;a++){let c=e.data[a],l=n[a];ol(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qb(c,l)}}finally{dn(-1),ol(s)}}function qb(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Vp(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];Eb(n,i.selectors,!1)&&(r??=[],gn(i)?r.unshift(i):r.push(i))}return r}function Wb(e,n,t,r,o,i){let s=ct(e,n);Gb(n[ue],s,i,e.value,t,r,o)}function Gb(e,n,t,r,o,i,s){if(i==null)e.removeAttribute(n,o,t);else{let a=s==null?Rs(i):s(i,r||"",o);e.setAttribute(n,o,a,t)}}function Zb(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];hl(r,t,c,l)}}function Kb(e,n){let t=e[an],r=t?t.get(Tt,null):null;r&&r.handleError(n)}function pu(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];hl(d,t[l],u,o),a=!0}if(i)for(let c of i){let l=t[c],u=n.data[c];hl(u,l,r,o),a=!0}return a}function Qb(e,n){let t=st(n,e),r=t[P];Jb(r,t);let o=t[Mt];o!==null&&t[co]===null&&(t[co]=Ep(o,t[an])),q(18),gu(r,t,t[ne]),q(19,t[ne])}function Jb(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function gu(e,n,t){ql(n);try{let r=e.viewQuery;r!==null&&fl(1,r,t);let o=e.template;o!==null&&jp(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[or]?.finishViewCreation(e),e.staticContentQueries&&Sp(e,n),e.staticViewQueries&&fl(2,e.viewQuery,t);let i=e.components;i!==null&&Yb(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[T]&=-5,Wl()}}function Yb(e,n){for(let t=0;t<n.length;t++)Qb(e,n[t])}function mu(e,n,t,r){let o=R(null);try{let i=n.tView,a=e[T]&4096?4096:16,c=du(e,i,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[rr]=l;let u=e[or];return u!==null&&(c[or]=u.createEmbeddedView(i)),gu(i,c,t),c}finally{R(o)}}function ho(e,n){return!n||n.firstChild===null||hp(e)}var Xb;function vu(e,n){return Xb(e,n)}var Bt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bt||{});function $p(e){return(e.flags&32)===32}function Yn(e,n,t,r,o){if(r!=null){let i,s=!1;xt(r)?i=r:Ht(r)&&(s=!0,r=r[Mt]);let a=it(r);e===0&&t!==null?o==null?Ap(n,t,a):bs(n,t,a,o||null,!0):e===1&&t!==null?bs(n,t,a,o||null,!0):e===2?Nb(n,a,s):e===3&&n.destroyNode(a),i!=null&&d_(n,e,i,t,o)}}function e_(e,n){Up(e,n),n[Mt]=null,n[Ye]=null}function t_(e,n,t,r,o,i){r[Mt]=o,r[Ye]=n,$s(e,r,t,1,o,i)}function Up(e,n){n[Dt].changeDetectionScheduler?.notify(9),$s(e,n,n[ue],2,null,null)}function n_(e){let n=e[lo];if(!n)return Uc(e[P],e);for(;n;){let t=null;if(Ht(n))t=n[lo];else{let r=n[ve];r&&(t=r)}if(!t){for(;n&&!n[Ke]&&n!==e;)Ht(n)&&Uc(n[P],n),n=n[ye];n===null&&(n=e),Ht(n)&&Uc(n[P],n),t=n&&n[Ke]}n=t}}function yu(e,n){let t=e[ds],r=t.indexOf(n);t.splice(r,1)}function Vs(e,n){if(dr(n))return;let t=n[ue];t.destroyNode&&$s(e,n,t,3,null,null),n_(n)}function Uc(e,n){if(dr(n))return;let t=R(null);try{n[T]&=-129,n[T]|=256,n[Le]&&Kr(n[Le]),o_(e,n),r_(e,n),n[P].type===1&&n[ue].destroy();let r=n[rr];if(r!==null&&xt(n[ye])){r!==n[ye]&&yu(r,n);let o=n[or];o!==null&&o.detachView(e)}ul(n)}finally{R(t)}}function r_(e,n){let t=e.cleanup,r=n[ls];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[ls]=null);let o=n[Ut];if(o!==null){n[Ut]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[cn];if(i!==null){n[cn]=null;for(let s of i)s.destroy()}}function o_(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof uo)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];q(4,a,c);try{c.call(a)}finally{q(5,a,c)}}else{q(4,o,i);try{i.call(o)}finally{q(5,o,i)}}}}}function i_(e,n,t){return s_(e,n.parent,t)}function s_(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Mt];if(ur(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===at.None||o===at.Emulated)return null}return ct(r,t)}function a_(e,n,t){return l_(e,n,t)}function c_(e,n,t){return e.type&40?ct(e,t):null}var l_=c_,Uf;function wu(e,n,t,r){let o=i_(e,r,n),i=n[ue],s=r.parent||n[Ye],a=a_(s,r,n);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)$f(i,o,t[c],a,!1);else $f(i,o,t,a,!1);Uf!==void 0&&Uf(i,r,n,t,o)}function oo(e,n){if(n!==null){let t=n.type;if(t&3)return ct(n,e);if(t&4)return pl(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return oo(e,r);{let o=e[n.index];return xt(o)?pl(-1,o):it(o)}}else{if(t&128)return oo(e,n.next);if(t&32)return vu(n,e)()||it(e[n.index]);{let r=Hp(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=un(e[Qe]);return oo(o,r)}else return oo(e,n.next)}}}return null}function Hp(e,n){if(n!==null){let r=e[Qe][Ye],o=n.projection;return r.projection[o]}return null}function pl(e,n){let t=ve+e+1;if(t<n.length){let r=n[t],o=r[P].firstChild;if(o!==null)return oo(r,o)}return n[ln]}function bu(e,n,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&n===0&&(a&&Co(it(a),r),t.flags|=2),!$p(t))if(c&8)bu(e,n,t.child,r,o,i,!1),Yn(n,e,o,a,i);else if(c&32){let l=vu(t,r),u;for(;u=l();)Yn(n,e,o,u,i);Yn(n,e,o,a,i)}else c&16?u_(e,n,r,t,o,i):Yn(n,e,o,a,i);t=s?t.projectionNext:t.next}}function $s(e,n,t,r,o,i){bu(t,r,e.firstChild,n,o,i,!1)}function u_(e,n,t,r,o,i){let s=t[Qe],c=s[Ye].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Yn(n,e,o,u,i)}else{let l=c,u=s[ye];hp(r)&&(l.flags|=128),bu(e,n,l,u,o,i,!0)}}function d_(e,n,t,r,o){let i=t[ln],s=it(t);i!==s&&Yn(n,e,r,i,o);for(let a=ve;a<t.length;a++){let c=t[a];$s(c[P],c,e,n,r,i)}}function f_(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Bt.DashCase;o==null?e.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Bt.Important),e.setStyle(t,r,o,i))}}function _s(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(it(i)),xt(i)&&h_(i,r);let s=t.type;if(s&8)_s(e,n,t.child,r);else if(s&32){let a=vu(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=Hp(n,t);if(Array.isArray(a))r.push(...a);else{let c=un(n[Qe]);_s(c[P],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function h_(e,n){for(let t=ve;t<e.length;t++){let r=e[t],o=r[P].firstChild;o!==null&&_s(r[P],r,o,n)}e[ln]!==e[Mt]&&n.push(e[ln])}function Bp(e){if(e[Fc]!==null){for(let n of e[Fc])n.impl.addSequence(n);e[Fc].length=0}}var zp=[];function p_(e){return e[Le]??g_(e)}function g_(e){let n=zp.pop()??Object.create(v_);return n.lView=e,n}function m_(e){e.lView[Le]!==e&&(e.lView=null,zp.push(e))}var v_=L(v({},Fn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{bo(e.lView)},consumerOnSignalRead(){this.lView[Le]=this}});function y_(e){let n=e[Le]??Object.create(w_);return n.lView=e,n}var w_=L(v({},Fn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=un(e.lView);for(;n&&!qp(n[P]);)n=un(n);n&&Nh(n)},consumerOnSignalRead(){this.lView[Le]=this}});function qp(e){return e.type!==2}function Wp(e){if(e[cn]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[cn])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[T]&8192)}}var b_=100;function Gp(e,n=!0,t=0){let o=e[Dt].rendererFactory,i=!1;i||o.begin?.();try{__(e,t)}catch(s){throw n&&Kb(e,s),s}finally{i||o.end?.()}}function __(e,n){let t=Fh();try{hs(!0),gl(e,n);let r=0;for(;Ps(e);){if(r===b_)throw new b(103,!1);r++,gl(e,1)}}finally{hs(t)}}function I_(e,n,t,r){if(dr(n))return;let o=n[T],i=!1,s=!1;ql(n);let a=!0,c=null,l=null;i||(qp(e)?(l=p_(n),c=Zr(l)):fc()===null?(a=!1,l=y_(n),c=Zr(l)):n[Le]&&(Kr(n[Le]),n[Le]=null));try{Rh(n),mw(e.bindingStartIndex),t!==null&&jp(e,n,t,2,r);let u=(o&3)===3;if(!i)if(u){let f=e.preOrderCheckHooks;f!==null&&es(n,f,null)}else{let f=e.preOrderHooks;f!==null&&ts(n,f,0,null),Vc(n,0)}if(s||E_(n),Wp(n),Zp(n,0),e.contentQueries!==null&&Sp(e,n),!i)if(u){let f=e.contentCheckHooks;f!==null&&es(n,f)}else{let f=e.contentHooks;f!==null&&ts(n,f,1),Vc(n,1)}C_(e,n);let d=e.components;d!==null&&Qp(n,d,0);let h=e.viewQuery;if(h!==null&&fl(2,h,r),!i)if(u){let f=e.viewCheckHooks;f!==null&&es(n,f)}else{let f=e.viewHooks;f!==null&&ts(n,f,2),Vc(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[jc]){for(let f of n[jc])f();n[jc]=null}i||(Bp(n),n[T]&=-73)}catch(u){throw i||bo(n),u}finally{l!==null&&(Ci(l,c),a&&m_(l)),Wl()}}function Zp(e,n){for(let t=mp(e);t!==null;t=vp(t))for(let r=ve;r<t.length;r++){let o=t[r];Kp(o,n)}}function E_(e){for(let n=mp(e);n!==null;n=vp(n)){if(!(n[T]&2))continue;let t=n[ds];for(let r=0;r<t.length;r++){let o=t[r];Nh(o)}}}function S_(e,n,t){q(18);let r=st(n,e);Kp(r,t),q(19,r[ne])}function Kp(e,n){zl(e)&&gl(e,n)}function gl(e,n){let r=e[P],o=e[T],i=e[Le],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&Di(i)),s||=!1,i&&(i.dirty=!1),e[T]&=-9217,s)I_(r,e,r.template,e[ne]);else if(o&8192){Wp(e),Zp(e,1);let a=r.components;a!==null&&Qp(e,a,1),Bp(e)}}function Qp(e,n,t){for(let r=0;r<n.length;r++)S_(e,n[r],t)}function C_(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)dn(~o);else{let i=o,s=t[++r],a=t[++r];ww(s,i);let c=n[i];q(24,c),a(2,c),q(25,c)}}}finally{dn(-1)}}function _u(e,n){let t=Fh()?64:1088;for(e[Dt].changeDetectionScheduler?.notify(n);e;){e[T]|=t;let r=un(e);if(fs(e)&&!r)return e;e=r}return null}function Jp(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Yp(e,n){let t=ve+n;if(t<e.length)return e[t]}function Us(e,n,t,r=!0){let o=n[P];if(D_(o,n,e,t),r){let s=pl(t,e),a=n[ue],c=a.parentNode(e[ln]);c!==null&&t_(o,e[Ye],a,n,c,s)}let i=n[co];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Xp(e,n){let t=po(e,n);return t!==void 0&&Vs(t[P],t),t}function po(e,n){if(e.length<=ve)return;let t=ve+n,r=e[t];if(r){let o=r[rr];o!==null&&o!==e&&yu(o,r),n>0&&(e[t-1][Ke]=r[Ke]);let i=as(e,ve+n);e_(r[P],r);let s=i[or];s!==null&&s.detachView(i[P]),r[ye]=null,r[Ke]=null,r[T]&=-129}return r}function D_(e,n,t,r){let o=ve+r,i=t.length;r>0&&(t[o-1][Ke]=n),r<i-ve?(n[Ke]=t[o],hh(t,ve+r,n)):(t.push(n),n[Ke]=null),n[ye]=t;let s=n[rr];s!==null&&t!==s&&eg(s,n);let a=n[or];a!==null&&a.insertView(e),nl(n),n[T]|=128}function eg(e,n){let t=e[ds],r=n[ye];if(Ht(r))e[T]|=2;else{let o=r[ye][Qe];n[Qe]!==o&&(e[T]|=2)}t===null?e[ds]=[n]:t.push(n)}var Is=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[P];return _s(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ne]}set context(n){this._lView[ne]=n}get destroyed(){return dr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ye];if(xt(n)){let t=n[us],r=t?t.indexOf(this):-1;r>-1&&(po(n,r),as(t,r))}this._attachedToViewContainer=!1}Vs(this._lView[P],this._lView)}onDestroy(n){Ah(this._lView,n)}markForCheck(){_u(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[T]&=-129}reattach(){nl(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,Gp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=fs(this._lView),t=this._lView[rr];t!==null&&!n&&yu(t,this._lView),Up(this._lView[P],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=n;let t=fs(this._lView),r=this._lView[rr];r!==null&&!t&&eg(r,this._lView),nl(this._lView)}};function Iu(e,n,t,r,o){let i=e.data[n];if(i===null)i=T_(e,n,t,r,o),yw()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=hw();i.injectorIndex=s===null?-1:s.injectorIndex}return _o(i,!0),i}function T_(e,n,t,r,o){let i=Lh(),s=jh(),a=s?i:i&&i.parent,c=e.data[n]=x_(e,a,t,n,r,o);return M_(e,c,i,s),c}function M_(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function x_(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return uw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var BN=new RegExp(`^(\\d+)*(${ab}|${sb})*(.*)`);var R_=()=>null;function go(e,n){return R_(e,n)}var N_=class{},tg=class{},ml=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Te(n)}.`)}},Hs=class{static NULL=new ml},sr=class{},ng=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>A_()}return e})();function A_(){let e=W(),n=Xe(),t=st(n.index,e);return(Ht(t)?t:e)[ue]}var k_=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>null})}return e})();var Hc={},vl=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Ns(r);let o=this.injector.get(n,Hc,r);return o!==Hc||t===Hc?o:this.parentInjector.get(n,t,r)}};function Hf(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=Zc(o,a);else if(i==2){let c=a,l=n[++s];r=Zc(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function yn(e,n=x.Default){let t=W();if(t===null)return N(e,n);let r=Xe();return rp(r,t,Pe(e),n)}function rg(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let a,c=null,l=null,u=P_(s);u===null?a=s:[a,c,l]=u,F_(e,n,t,a,i,c,l)}i!==null&&r!==null&&O_(t,r,i)}function O_(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new b(-301,!1);r.push(n[o],i)}}function P_(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&gn(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,L_(s,r,i,o)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,o,i]):null}function L_(e,n,t,r){let o=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[o,n.length-1])}function j_(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function F_(e,n,t,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&gn(f)&&(c=!0,j_(e,t,h)),Lw(Xh(t,n),e,f.type)}z_(t,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Pp(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=Kl(t.mergedAttrs,f.hostAttrs),$_(e,t,n,d,f),B_(d,f,o),s!==null&&s.has(f)){let[y,w]=s.get(f);t.directiveToIndex.set(f.type,[d,y+t.directiveStart,w+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}V_(e,t,i)}function V_(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))Bf(0,n,o,r),Bf(1,n,o,r),qf(n,r,!1);else{let i=t.get(o);zf(0,n,i,r),zf(1,n,i,r),qf(n,r,!0)}}}function Bf(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),og(n,i)}}function zf(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),og(n,s)}}function og(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function qf(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||lu(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function $_(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=er(o.type,!0)),s=new uo(i,gn(o),yn);e.blueprint[r]=s,t[r]=s,U_(e,n,r,Pp(e,t,o.hostVars,Rt),o)}function U_(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;H_(s)!=a&&s.push(a),s.push(t,r,i)}}function H_(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function B_(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;gn(n)&&(t[""]=e)}}function z_(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function ig(e,n,t,r,o,i,s,a){let c=n.consts,l=ir(c,s),u=Iu(n,e,2,r,l);return i&&rg(n,t,u,ir(c,a),o),u.mergedAttrs=Kl(u.mergedAttrs,u.attrs),u.attrs!==null&&Hf(u,u.attrs,!1),u.mergedAttrs!==null&&Hf(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function sg(e,n){Gh(e,n),Eh(n)&&e.queries.elementEnd(n)}var Es=class extends Hs{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=nr(n);return new mo(t,this.ngModule)}};function q_(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&Fs.SignalBased)!==0};return o&&(i.transform=o),i})}function W_(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function G_(e,n,t){let r=n instanceof Me?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new vl(t,r):t}function Z_(e){let n=e.get(sr,null);if(n===null)throw new b(407,!1);let t=e.get(k_,null),r=e.get(fn,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function K_(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return Np(n,t,t==="svg"?Mh:t==="math"?rw:null)}var mo=class extends tg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=q_(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=W_(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=Tb(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o){q(22);let i=R(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:Mb(this.componentDef.selectors[0]),c=uu(0,null,null,1,0,null,null,null,null,[a],null),l=G_(s,o||this.ngModule,n),u=Z_(l),d=u.rendererFactory.createRenderer(null,s),h=r?jb(d,r,s.encapsulation,l):K_(s,d),f=du(null,c,null,512|Op(s),null,null,u,d,l,null,Ep(h,l,!0));f[je]=h,ql(f);let g=null;try{let y=ig(je,c,f,"#host",()=>[this.componentDef],!0,0);h&&(kp(d,h,y),Co(h,f)),hu(c,f,y),Cp(c,y,f),sg(c,y),t!==void 0&&Q_(y,this.ngContentSelectors,t),g=st(y.index,f),f[ne]=g[ne],gu(c,f,null)}catch(y){throw g!==null&&ul(g),ul(f),y}finally{q(23),Wl()}return new yl(this.componentType,f)}finally{R(i)}}},yl=class extends N_{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Bl(t[P],je),this.location=nu(this._tNode,t),this.instance=st(this._tNode.index,t)[ne],this.hostView=this.changeDetectorRef=new Is(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=pu(r,o[P],o,n,t);this.previousInputValues.set(n,t);let s=st(r.index,o);_u(s,1)}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function Q_(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Eu=(()=>{class e{static __NG_ELEMENT_ID__=J_}return e})();function J_(){let e=Xe();return X_(e,W())}var Y_=Eu,ag=class extends Y_{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){let n=Ql(this._hostTNode,this._hostLView);if(Qh(n)){let t=gs(n,this._hostLView),r=ps(n),o=t[P].data[r+8];return new sn(o,t)}else return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Wf(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-ve}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=go(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,ho(this._hostTNode,s)),a}createComponent(n,t,r,o,i){let s=n&&!Xy(n),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?n:new mo(nr(n)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let y=(s?l:this.parentInjector).get(Me,null);y&&(i=y)}let u=nr(c.componentType??{}),d=go(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,o,h,i);return this.insertImpl(f.hostView,a,ho(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(ow(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=o[ye],l=new ag(c,c[Ye],c[ye]);l.detach(l.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return Us(s,o,i,r),n.attachToViewContainerRef(),hh(Bc(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Wf(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=po(this._lContainer,t);r&&(as(Bc(this._lContainer),t),Vs(r[P],r))}detach(n){let t=this._adjustIndex(n,-1),r=po(this._lContainer,t);return r&&as(Bc(this._lContainer),t)!=null?new Is(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Wf(e){return e[us]}function Bc(e){return e[us]||(e[us]=[])}function X_(e,n){let t,r=n[e.index];return xt(r)?t=r:(t=Jp(r,n,null,e),n[e.index]=t,fu(n,t)),tI(t,n,e,r),new ag(t,e,n)}function eI(e,n){let t=e[ue],r=t.createComment(""),o=ct(n,e),i=t.parentNode(o);return bs(t,i,r,t.nextSibling(o),!1),r}var tI=oI,nI=()=>!1;function rI(e,n,t){return nI(e,n,t)}function oI(e,n,t,r){if(e[ln])return;let o;t.type&8?o=it(r):o=eI(n,t),e[ln]=o}var vo=class{},Su=class{};var wl=class extends vo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Es(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=mh(n);this._bootstrapComponents=xp(i.bootstrap),this._r3Injector=ap(n,t,[{provide:vo,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver},...r],Te(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},bl=class extends Su{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new wl(this.moduleType,n,[])}};var Ss=class extends vo{injector;componentFactoryResolver=new Es(this);instance=null;constructor(n){super();let t=new ao([...n.providers,{provide:vo,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver}],n.parent||Ul(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Bs(e,n,t=null){return new Ss({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var iI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=vh(!1,t.type),o=r.length>0?Bs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(N(Me))})}return e})();function Ve(e){return Pl(()=>{let n=cg(e),t=L(v({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===pp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(iI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||at.Emulated,styles:e.styles||Ct,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&To("NgStandalone"),lg(t);let r=e.dependencies;return t.directiveDefs=Gf(r,!1),t.pipeDefs=Gf(r,!0),t.id=uI(t),t})}function sI(e){return nr(e)||Uy(e)}function aI(e){return e!==null}function cI(e,n){if(e==null)return tr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Fs.None,c=null),t[i]=[r,a,c],n[i]=s}return t}function lI(e){if(e==null)return tr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function zs(e){return Pl(()=>{let n=cg(e);return lg(n),n})}function cg(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||tr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ct,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cI(e.inputs,n),outputs:lI(e.outputs),debugInfo:null}}function lg(e){e.features?.forEach(n=>n(e))}function Gf(e,n){if(!e)return null;let t=n?Hy:sI;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(aI)}function uI(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function dI(e,n,t){return e[n]=t}function wn(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function fI(e,n,t,r,o,i,s,a,c){let l=n.consts,u=Iu(n,e,4,s||null,a||null);Ph()&&rg(n,t,u,ir(l,c),Vp),u.mergedAttrs=Kl(u.mergedAttrs,u.attrs),Gh(n,u);let d=u.tView=uu(2,u,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function _l(e,n,t,r,o,i,s,a,c,l){let u=t+je,d=n.firstCreatePass?fI(u,n,e,r,o,i,s,a,c):n.data[u];_o(d,!1);let h=hI(n,e,d,t);Gl()&&wu(n,e,h,d),Co(h,e);let f=Jp(h,e,h,d);return e[u]=f,fu(e,f),rI(f,d,e),Hl(d)&&hu(n,e,d),c!=null&&Fp(e,d,l),d}function bn(e,n,t,r,o,i,s,a){let c=W(),l=lt(),u=ir(l.consts,i);return _l(c,l,e,n,t,r,o,u,s,a),bn}var hI=pI;function pI(e,n,t,r){return Zl(!0),n[ue].createComment("")}var ug=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var dg=new E("");var fg=(()=>{class e{static \u0275prov=_({token:e,providedIn:"root",factory:()=>new Il})}return e})(),Il=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function qs(e){return!!e&&typeof e.then=="function"}function gI(e){return!!e&&typeof e.subscribe=="function"}var mI=new E("");var hg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=m(mI,{optional:!0})??[];injector=m(we);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=Je(this.injector,o);if(qs(i))t.push(i);else if(gI(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cu=new E("");function vI(){vc(()=>{throw new b(600,!1)})}function yI(e){return e.isBoundToModule}var wI=10;var hn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(Jw);afterRenderManager=m(ub);zonelessEnabled=m(Yl);rootEffectScheduler=m(fg);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new K;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(pr).hasPendingTasks.pipe(I(t=>!t));constructor(){m(js,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=m(Me);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=we.NULL){q(10);let i=t instanceof tg;if(!this._injector.get(hg).done){let f="";throw new b(405,f)}let a;i?a=t:a=this._injector.get(Hs).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=yI(a)?void 0:this._injector.get(vo),l=r||a.selector,u=a.create(o,[],l,c),d=u.location.nativeElement,h=u.injector.get(dg,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ns(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),q(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_p.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new b(101,!1);let t=R(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,R(t),this.afterTick.next(),q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(sr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<wI;)q(14),this.synchronizeOnce(),q(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)bI(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ps(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ns(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Cu,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ns(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new b(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ns(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function bI(e,n,t,r){if(!t&&!Ps(e))return;Gp(e,n,t&&!r?0:1)}function Du(e,n,t,r){let o=W(),i=Io();if(wn(o,i,n)){let s=lt(),a=qh();Wb(a,o,e,n,t,r)}return Du}function _I(e,n,t,r){return wn(e,Io(),t)?n+Rs(t)+r:Rt}function Yi(e,n){return e<<17|n<<2}function pn(e){return e>>17&32767}function II(e){return(e&2)==2}function EI(e,n){return e&131071|n<<17}function El(e){return e|2}function ar(e){return(e&131068)>>2}function zc(e,n){return e&-131069|n<<2}function SI(e){return(e&1)===1}function Sl(e){return e|1}function CI(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,a=pn(s),c=ar(s);e[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||wo(d,u)>0)&&(l=!0)}else u=t;if(o)if(c!==0){let h=pn(e[a+1]);e[r+1]=Yi(h,a),h!==0&&(e[h+1]=zc(e[h+1],r)),e[a+1]=EI(e[a+1],r)}else e[r+1]=Yi(a,0),a!==0&&(e[a+1]=zc(e[a+1],r)),a=r;else e[r+1]=Yi(c,0),a===0?a=r:e[c+1]=zc(e[c+1],r),c=r;l&&(e[r+1]=El(e[r+1])),Zf(e,u,r,!0),Zf(e,u,r,!1),DI(n,u,e,r,i),s=Yi(a,c),i?n.classBindings=s:n.styleBindings=s}function DI(e,n,t,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof n=="string"&&wo(i,n)>=0&&(t[r+1]=Sl(t[r+1]))}function Zf(e,n,t,r){let o=e[t+1],i=n===null,s=r?pn(o):ar(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];TI(c,n)&&(a=!0,e[s+1]=r?Sl(l):El(l)),s=r?pn(l):ar(l)}a&&(e[t+1]=r?El(o):Sl(o))}function TI(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?wo(e,n)>=0:!1}var Ze={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MI(e){return e.substring(Ze.key,Ze.keyEnd)}function xI(e){return RI(e),pg(e,gg(e,0,Ze.textEnd))}function pg(e,n){let t=Ze.textEnd;return t===n?-1:(n=Ze.keyEnd=NI(e,Ze.key=n,t),gg(e,n,t))}function RI(e){Ze.key=0,Ze.keyEnd=0,Ze.value=0,Ze.valueEnd=0,Ze.textEnd=e.length}function gg(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function NI(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function zt(e,n,t){let r=W(),o=Io();if(wn(r,o,n)){let i=lt(),s=qh();Ub(i,s,r,e,n,r[ue],t,!1)}return zt}function Cl(e,n,t,r,o){pu(n,e,t,o?"class":"style",r)}function Mo(e){kI($I,AI,e,!0)}function AI(e,n){for(let t=xI(n);t>=0;t=pg(n,t))Fl(e,MI(n),!0)}function kI(e,n,t,r){let o=lt(),i=vw(2);o.firstUpdatePass&&OI(o,null,i,r);let s=W();if(t!==Rt&&wn(s,i,t)){let a=o.data[mn()];if(vg(a,r)&&!mg(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Zc(c,t||"")),Cl(o,a,s,t,r)}else UI(o,a,s,s[ue],s[i+1],s[i+1]=VI(e,n,t),r,i)}}function mg(e,n){return n>=e.expandoStartIndex}function OI(e,n,t,r){let o=e.data;if(o[t+1]===null){let i=o[mn()],s=mg(e,t);vg(i,r)&&n===null&&!s&&(n=!1),n=PI(o,i,n,r),CI(o,i,n,t,s,r)}}function PI(e,n,t,r){let o=_w(e),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(t=qc(null,e,n,t,r),t=yo(t,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=qc(o,e,n,t,r),i===null){let c=LI(e,n,r);c!==void 0&&Array.isArray(c)&&(c=qc(null,e,n,c[1],r),c=yo(c,n.attrs,r),jI(e,n,r,c))}else i=FI(e,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),t}function LI(e,n,t){let r=t?n.classBindings:n.styleBindings;if(ar(r)!==0)return e[pn(r)]}function jI(e,n,t,r){let o=t?n.classBindings:n.styleBindings;e[pn(o)]=r}function FI(e,n,t){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=yo(r,s,t)}return yo(r,n.attrs,t)}function qc(e,n,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=n[a],r=yo(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function yo(e,n,t){let r=t?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Fl(e,s,t?!0:n[++i]))}return e===void 0?null:e}function VI(e,n,t){if(t==null||t==="")return Ct;let r=[],o=au(t);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&n(r,o);return r}function $I(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&Fl(e,r,t)}function UI(e,n,t,r,o,i,s,a){o===Rt&&(o=Ct);let c=0,l=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;u!==null||d!==null;){let h=c<o.length?o[c+1]:void 0,f=l<i.length?i[l+1]:void 0,g=null,y;u===d?(c+=2,l+=2,h!==f&&(g=d,y=f)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,y=f),g!==null&&HI(e,n,t,r,g,y,s,a),u=c<o.length?o[c]:null,d=l<i.length?i[l]:null}}function HI(e,n,t,r,o,i,s,a){if(!(n.type&3))return;let c=e.data,l=c[a+1],u=SI(l)?Kf(c,n,t,o,ar(l),s):void 0;if(!Cs(u)){Cs(i)||II(l)&&(i=Kf(c,null,t,o,a,s));let d=xh(mn(),t);f_(r,s,d,o,i)}}function Kf(e,n,t,r,o,i){let s=n===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=t[o+1];h===Rt&&(h=d?Ct:void 0);let f=d?Pc(h,r):u===r?h:void 0;if(l&&!Cs(f)&&(f=Pc(c,r)),Cs(f)&&(a=f,s))return a;let g=e[o+1];o=s?pn(g):ar(g)}if(n!==null){let c=i?n.residualClasses:n.residualStyles;c!=null&&(a=Pc(c,r))}return a}function Cs(e){return e!==void 0}function vg(e,n){return(e.flags&(n?8:16))!==0}var Dl=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),o=Math.max(n,t),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(n,t){this.attach(t,this.detach(n))}};function Wc(e,n,t,r,o){return e===t&&Object.is(n,r)?1:Object.is(o(e,n),o(t,r))?-1:0}function BI(e,n,t){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let c=n.length-1;for(;i<=s&&i<=c;){let l=e.at(i),u=n[i],d=Wc(i,l,i,u,t);if(d!==0){d<0&&e.updateValue(i,u),i++;continue}let h=e.at(s),f=n[c],g=Wc(s,h,c,f,t);if(g!==0){g<0&&e.updateValue(s,f),s--,c--;continue}let y=t(i,l),w=t(s,h),S=t(i,u);if(Object.is(S,w)){let ie=t(c,f);Object.is(ie,y)?(e.swap(i,s),e.updateValue(s,f),c--,s--):e.move(s,i),e.updateValue(i,u),i++;continue}if(r??=new Ds,o??=Jf(e,i,s,t),Tl(e,r,i,S))e.updateValue(i,u),i++,s++;else if(o.has(S))r.set(y,e.detach(i)),s--;else{let ie=e.create(i,n[i]);e.attach(i,ie),i++,s++}}for(;i<=c;)Qf(e,r,t,i,n[i]),i++}else if(n!=null){let c=n[Symbol.iterator](),l=c.next();for(;!l.done&&i<=s;){let u=e.at(i),d=l.value,h=Wc(i,u,i,d,t);if(h!==0)h<0&&e.updateValue(i,d),i++,l=c.next();else{r??=new Ds,o??=Jf(e,i,s,t);let f=t(i,d);if(Tl(e,r,i,f))e.updateValue(i,d),i++,s++,l=c.next();else if(!o.has(f))e.attach(i,e.create(i,d)),i++,s++,l=c.next();else{let g=t(i,u);r.set(g,e.detach(i)),s--}}}for(;!l.done;)Qf(e,r,t,e.length,l.value),l=c.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Tl(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function Qf(e,n,t,r,o){if(Tl(e,n,r,t(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Jf(e,n,t,r){let o=new Set;for(let i=n;i<=t;i++)o.add(r(i,e.at(i)));return o}var Ds=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),n(r,t)}}};function mr(e,n){To("NgControlFlow");let t=W(),r=Io(),o=t[r]!==Rt?t[r]:-1,i=o!==-1?Ts(t,je+o):void 0,s=0;if(wn(t,r,e)){let a=R(null);try{if(i!==void 0&&Xp(i,s),e!==-1){let c=je+e,l=Ts(t,c),u=Nl(t[P],c),d=go(l,u.tView.ssrId),h=mu(t,u,n,{dehydratedView:d});Us(l,h,s,ho(u,d))}}finally{R(a)}}else if(i!==void 0){let a=Yp(i,s);a!==void 0&&(a[ne]=n)}}var Ml=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ve}};function Ws(e){return e}var xl=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function Gs(e,n,t,r,o,i,s,a,c,l,u,d,h){To("NgControlFlow");let f=W(),g=lt(),y=c!==void 0,w=W(),S=a?s.bind(w[Qe][ne]):s,ie=new xl(y,S);w[je+e]=ie,_l(f,g,e+1,n,t,r,o,ir(g.consts,i)),y&&_l(f,g,e+2,c,l,u,d,ir(g.consts,h))}var Rl=class extends Dl{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ve}at(n){return this.getLView(n)[ne].$implicit}attach(n,t){let r=t[co];this.needsIndexUpdate||=n!==this.length,Us(this.lContainer,t,n,ho(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,zI(this.lContainer,n)}create(n,t){let r=go(this.lContainer,this.templateTNode.tView.ssrId),o=mu(this.hostLView,this.templateTNode,new Ml(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(n){Vs(n[P],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[ne].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ne].$index=n}getLView(n){return qI(this.lContainer,n)}};function Zs(e){let n=R(null),t=mn();try{let r=W(),o=r[P],i=r[t],s=t+1,a=Ts(r,s);if(i.liveCollection===void 0){let l=Nl(o,s);i.liveCollection=new Rl(a,r,l)}else i.liveCollection.reset();let c=i.liveCollection;if(BI(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=Io(),u=c.length===0;if(wn(r,l,u)){let d=t+2,h=Ts(r,d);if(u){let f=Nl(o,d),g=go(h,f.tView.ssrId),y=mu(r,f,void 0,{dehydratedView:g});Us(h,y,0,ho(f,g))}else Xp(h,0)}}}finally{R(n)}}function Ts(e,n){return e[n]}function zI(e,n){return po(e,n)}function qI(e,n){return Yp(e,n)}function Nl(e,n){return Bl(e,n)}function k(e,n,t,r){let o=W(),i=lt(),s=je+e,a=o[ue],c=i.firstCreatePass?ig(s,i,o,n,Vp,Ph(),t,r):i.data[s],l=WI(i,o,c,a,n,e);o[s]=l;let u=Hl(c);return _o(c,!0),kp(a,l,c),!$p(c)&&Gl()&&wu(i,o,l,c),(aw()===0||u)&&Co(l,o),cw(),u&&(hu(i,o,c),Cp(i,c,o)),r!==null&&Fp(o,c),k}function $(){let e=Xe();jh()?pw():(e=e.parent,_o(e,!1));let n=e;dw(n)&&fw(),lw();let t=lt();return t.firstCreatePass&&sg(t,n),n.classesWithoutHost!=null&&Mw(n)&&Cl(t,n,W(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&xw(n)&&Cl(t,n,W(),n.stylesWithoutHost,!1),$}function re(e,n,t,r){return k(e,n,t,r),$(),re}var WI=(e,n,t,r,o,i)=>(Zl(!0),Np(r,o,Cw()));function vr(){return W()}var Ms="en-US";var GI=Ms;function ZI(e){typeof e=="string"&&(GI=e.toLowerCase().replace(/_/g,"-"))}function Yf(e,n,t){return function r(o){if(o===Function)return t;let i=ur(e)?st(e.index,n):n;_u(i,5);let s=n[ne],a=Xf(n,s,t,o),c=r.__ngNextListenerFn__;for(;c;)a=Xf(n,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Xf(e,n,t,r){let o=R(null);try{return q(6,n,t),t(r)!==!1}catch(i){return KI(e,i),!1}finally{q(7,n,t),R(o)}}function KI(e,n){let t=e[an],r=t?t.get(Tt,null):null;r&&r.handleError(n)}function eh(e,n,t,r,o,i){let s=n[t],a=n[P],l=a.data[t].outputs[r],u=s[l],d=a.firstCreatePass?Oh(a):null,h=kh(n),f=u.subscribe(i),g=h.length;h.push(i,f),d&&d.push(o,e.index,g,-(g+1))}var QI=new Map;function pe(e,n,t,r){let o=W(),i=lt(),s=Xe();return YI(i,o,o[ue],s,e,n,r),pe}function JI(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=n[ls],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function YI(e,n,t,r,o,i,s){let a=Hl(r),l=e.firstCreatePass?Oh(e):null,u=kh(n),d=!0;if(r.type&3||s){let h=ct(r,n),f=s?s(h):h,g=u.length,y=s?S=>s(it(S[r.index])):r.index,w=null;if(!s&&a&&(w=JI(e,n,o,r.index)),w!==null){let S=w.__ngLastListenerFn__||w;S.__ngNextListenerFn__=i,w.__ngLastListenerFn__=i,d=!1}else{i=Yf(r,n,i);let S=n[an].get(Ls);QI.get(S)?.(f,o,i);let fe=t.listen(f,o,i);u.push(i,fe),l&&l.push(o,y,g,g+1)}}else i=Yf(r,n,i);if(d){let h=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let y=f[g],w=f[g+1];eh(r,n,y,w,o,i)}if(h&&h.length)for(let g of h)eh(r,n,g,o,o,i)}}function $e(e=1){return Ew(e)}function Q(e,n=""){let t=W(),r=lt(),o=e+je,i=r.firstCreatePass?Iu(r,o,1,n,null):r.data[o],s=XI(r,t,i,n,e);t[o]=s,Gl()&&wu(r,t,s,i),_o(i,!1)}var XI=(e,n,t,r,o)=>(Zl(!0),xb(n[ue],r));function xo(e){return yg("",e,""),xo}function yg(e,n,t){let r=W(),o=_I(r,e,n,t);return o!==Rt&&eE(r,mn(),o),yg}function eE(e,n,t){let r=xh(n,e);Rb(e[ue],r,t)}function Ro(e,n,t,r){return nE(W(),gw(),e,n,t,r)}function tE(e,n){let t=e[n];return t===Rt?void 0:t}function nE(e,n,t,r,o,i){let s=n+t;return wn(e,s,o)?dI(e,s+1,i?r.call(i,o):r(o)):tE(e,s+1)}var Al=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},wg=(()=>{class e{compileModuleSync(t){return new bl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=mh(t),i=xp(o.declarations).reduce((s,a)=>{let c=nr(a);return c&&s.push(new mo(c)),s},[]);return new Al(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rE=(()=>{class e{zone=m(ae);changeDetectionScheduler=m(fn);applicationRef=m(hn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oE({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ae(L(v({},iE()),{scheduleInRootZone:t})),[{provide:ae,useFactory:e},{provide:so,multi:!0,useFactory:()=>{let r=m(rE,{optional:!0});return()=>r.initialize()}},{provide:so,multi:!0,useFactory:()=>{let r=m(sE);return()=>{r.initialize()}}},n===!0?{provide:lp,useValue:!0}:[],{provide:Xl,useValue:t??cp}]}function iE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var sE=(()=>{class e{subscription=new J;initialized=!1;zone=m(ae);pendingTasks=m(pr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var bg=(()=>{class e{appRef=m(hn);taskService=m(pr);ngZone=m(ae);zonelessEnabled=m(Yl);tracing=m(js,{optional:!0});disableScheduling=m(lp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new J;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Xl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ys||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Af:up;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Af(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _g(){return To("NgZoneless"),Vl([{provide:fn,useExisting:bg},{provide:ae,useClass:ys},{provide:Yl,useValue:!0},{provide:Xl,useValue:!1},[]])}function aE(){return typeof $localize<"u"&&$localize.locale||Ms}var Ig=new E("",{providedIn:"root",factory:()=>m(Ig,x.Optional|x.SkipSelf)||aE()});var kl=new E(""),cE=new E("");function no(e){return!e.moduleRef}function lE(e){let n=no(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ae);return t.run(()=>{no(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Tt,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),no(e)){let i=()=>n.destroy(),s=e.platformInjector.get(kl);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(kl);s.add(i),e.moduleRef.onDestroy(()=>{ns(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return dE(r,t,()=>{let i=n.get(hg);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(Ig,Ms);if(ZI(s||Ms),!n.get(cE,!0))return no(e)?n.get(hn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(no(e)){let c=n.get(hn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return uE(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function uE(e,n){let t=e.injector.get(hn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new b(-403,!1);n.push(e)}function dE(e,n,t){try{let r=t();return qs(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var rs=null;function fE(e=[],n){return we.create({name:n,providers:[{provide:As,useValue:"platform"},{provide:kl,useValue:new Set([()=>rs=null])},...e]})}function hE(e=[]){if(rs)return rs;let n=fE(e);return rs=n,vI(),pE(n),n}function pE(e){let n=e.get(iu,null);Je(e,()=>{n?.forEach(t=>t())})}var Tu=(()=>{class e{static __NG_ELEMENT_ID__=gE}return e})();function gE(e){return mE(Xe(),W(),(e&16)===16)}function mE(e,n,t){if(ur(e)&&!t){let r=st(e.index,n);return new Is(r,r)}else if(e.type&175){let r=n[Qe];return new Is(r,n)}return null}function Eg(e){q(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,o=hE(r),i=[oE({}),{provide:fn,useExisting:bg},...t||[]],s=new Ss({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return lE({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}finally{q(9)}}function Ks(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function qt(e){return bc(e)}function Ue(e,n){return mc(e,n?.equal)}var Ol=class{[ke];constructor(n){this[ke]=n}destroy(){this[ke].destroy()}};function yr(e,n){!n?.injector&&cr(yr);let t=n?.injector??m(we),r=n?.manualCleanup!==!0?t.get(Fe):null,o,i=t.get(Ip,null,{optional:!0}),s=t.get(fn);return i!==null&&!n?.forceRoot?(o=wE(i.view,s,e),r instanceof ms&&r._lView===i.view&&(r=null)):o=bE(e,t.get(fg),s),o.injector=t,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new Ol(o)}var Sg=L(v({},Fn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:fo,run(){if(this.dirty=!1,this.hasRun&&!Di(this))return;this.hasRun=!0;let e=r=>(this.cleanupFns??=[]).push(r),n=Zr(this),t=hs(!1);try{this.maybeCleanup(),this.fn(e)}finally{hs(t),Ci(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),vE=L(v({},Sg),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Kr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),yE=L(v({},Sg),{consumerMarkedDirty(){this.view[T]|=8192,bo(this.view),this.notifier.notify(13)},destroy(){Kr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[cn]?.delete(this)}});function wE(e,n,t){let r=Object.create(yE);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=n,r.fn=t,e[cn]??=new Set,e[cn].add(r),r.consumerMarkedDirty(r),r}function bE(e,n,t){let r=Object.create(vE);return r.fn=e,r.scheduler=n,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var ge=new E("");var Tg=null;function Nt(){return Tg}function Mu(e){Tg??=e}var No=class{},xu=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(Mg),providedIn:"platform"})}return e})();var Mg=(()=>{class e extends xu{_location;_history;_doc=m(ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nt().getBaseHref(this._doc)}onPopState(t){let r=Nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function xg(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Cg(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Wt(e){return e&&e[0]!=="?"?`?${e}`:e}var wr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(Ng),providedIn:"root"})}return e})(),Rg=new E(""),Ng=(()=>{class e extends wr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Wt(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Wt(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Wt(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(N(xu),N(Rg,8))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),br=(()=>{class e{_subject=new K;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=EE(Cg(Dg(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wt(r))}normalize(t){return e.stripTrailingSlash(IE(this._basePath,Dg(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wt(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wt(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Wt;static joinWithSlash=xg;static stripTrailingSlash=Cg;static \u0275fac=function(r){return new(r||e)(N(wr))};static \u0275prov=_({token:e,factory:()=>_E(),providedIn:"root"})}return e})();function _E(){return new br(N(wr))}function IE(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Dg(e){return e.replace(/\/index.html$/,"")}function EE(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}function Ru(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var Nu="browser",Ag="server";function Qs(e){return e===Ag}var Ao=class{};var Xs=new E(""),Pu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(N(Xs),N(ae))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),ko=class{_doc;constructor(n){this._doc=n}manager},Js="ng-app-id";function kg(e){for(let n of e)n.remove()}function Og(e,n){let t=n.createElement("style");return t.textContent=e,t}function CE(e,n,t,r){let o=e.head?.querySelectorAll(`style[${Js}="${n}"],link[${Js}="${n}"]`);if(o)for(let i of o)i.removeAttribute(Js),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function ku(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Lu=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=Qs(i),CE(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,Og);r?.forEach(o=>this.addUsage(o,this.external,ku))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(kg(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])kg(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,Og(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,ku(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Js,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(N(ge),N(Ls),N(su,8),N(Do))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Au={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ju=/%COMP%/g;var Lg="%COMP%",DE=`_nghost-${Lg}`,TE=`_ngcontent-${Lg}`,ME=!0,xE=new E("",{providedIn:"root",factory:()=>ME});function RE(e){return TE.replace(ju,e)}function NE(e){return DE.replace(ju,e)}function jg(e,n){return n.map(t=>t.replace(ju,e))}var Fu=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Qs(a),this.defaultRenderer=new Oo(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===at.ShadowDom&&(r=L(v({},r),{encapsulation:at.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof Ys?o.applyToHost(t):o instanceof Po&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case at.Emulated:i=new Ys(c,l,r,this.appId,u,s,a,d,h);break;case at.ShadowDom:return new Ou(c,l,t,r,s,a,this.nonce,d,h);default:i=new Po(c,l,r,u,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(N(Pu),N(Lu),N(Ls),N(xE),N(ge),N(Do),N(ae),N(su),N(js,8))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Oo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Au[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Pg(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Pg(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new b(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=Au[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=Au[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(Bt.DashCase|Bt.Important)?n.style.setProperty(t,r,o&Bt.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Bt.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=Nt().getGlobalEventTarget(this.doc,n),!n))throw new b(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function Pg(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ou=class extends Oo{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,a,c,l){super(n,i,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=jg(o.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=ku(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Po=class extends Oo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,a,c,l){super(n,i,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=l?jg(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ys=class extends Po{contentAttr;hostAttr;constructor(n,t,r,o,i,s,a,c,l){let u=o+"-"+r.id;super(n,t,r,i,s,a,c,l,u),this.contentAttr=RE(u),this.hostAttr=NE(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var ea=class e extends No{supportsDOMEvents=!0;static makeCurrent(){Mu(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=AE();return t==null?null:kE(t)}resetBaseElement(){Lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ru(document.cookie,n)}},Lo=null;function AE(){return Lo=Lo||document.querySelector("base"),Lo?Lo.getAttribute("href"):null}function kE(e){return new URL(e,document.baseURI).pathname}var OE=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Ug=(()=>{class e extends ko{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(N(ge))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})(),Fg=["alt","control","meta","shift"],PE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Hg=(()=>{class e extends ko{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nt().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fg.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=PE[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Fg.forEach(s=>{if(s!==o){let a=LE[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(N(ge))};static \u0275prov=_({token:e,factory:e.\u0275fac})}return e})();function Vu(e,n){return Eg(v({rootComponent:e},jE(n)))}function jE(e){return{appProviders:[...HE,...e?.providers??[]],platformProviders:UE}}function FE(){ea.makeCurrent()}function VE(){return new Tt}function $E(){return wp(document),document}var UE=[{provide:Do,useValue:Nu},{provide:iu,useValue:FE,multi:!0},{provide:ge,useFactory:$E}];var HE=[{provide:As,useValue:"root"},{provide:Tt,useFactory:VE},{provide:Xs,useClass:Ug,multi:!0,deps:[ge]},{provide:Xs,useClass:Hg,multi:!0,deps:[ge]},Fu,Lu,Pu,{provide:sr,useExisting:Fu},{provide:Ao,useClass:OE},[]];var Bg=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(N(ge))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var M="primary",Qo=Symbol("RouteTitle"),zu=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function En(e){return new zu(e)}function Jg(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function zE(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ut(e[t],n[t]))return!1;return!0}function ut(e,n){let t=e?qu(e):void 0,r=n?qu(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Yg(e[o],n[o]))return!1;return!0}function qu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Yg(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function Xg(e){return e.length>0?e[e.length-1]:null}function Kt(e){return eo(e)?e:qs(e)?B(Promise.resolve(e)):D(e)}var qE={exact:tm,subset:nm},em={exact:WE,subset:GE,ignored:()=>!0};function zg(e,n,t){return qE[t.paths](e.root,n.root,t.matrixParams)&&em[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function WE(e,n){return ut(e,n)}function tm(e,n,t){if(!_n(e.segments,n.segments)||!ra(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!tm(e.children[r],n.children[r],t))return!1;return!0}function GE(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Yg(e[t],n[t]))}function nm(e,n,t){return rm(e,n,n.segments,t)}function rm(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!_n(o,t)||n.hasChildren()||!ra(o,t,r))}else if(e.segments.length===t.length){if(!_n(e.segments,t)||!ra(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!nm(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!_n(e.segments,o)||!ra(e.segments,o,r)||!e.children[M]?!1:rm(e.children[M],n,i,r)}}function ra(e,n,t){return n.every((r,o)=>em[t](e[o].parameters,r.parameters))}var ft=class{root;queryParams;fragment;_queryParamMap;constructor(n=new U([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=En(this.queryParams),this._queryParamMap}toString(){return QE.serialize(this)}},U=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oa(this)}},Gt=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=En(this.parameters),this._parameterMap}toString(){return im(this)}};function ZE(e,n){return _n(e,n)&&e.every((t,r)=>ut(t.parameters,n[r].parameters))}function _n(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function KE(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===M&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==M&&(t=t.concat(n(o,r)))}),t}var Jo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>new Sn,providedIn:"root"})}return e})(),Sn=class{parse(n){let t=new Gu(n);return new ft(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${jo(n.root,!0)}`,r=XE(n.queryParams),o=typeof n.fragment=="string"?`#${JE(n.fragment)}`:"";return`${t}${r}${o}`}},QE=new Sn;function oa(e){return e.segments.map(n=>im(n)).join("/")}function jo(e,n){if(!e.hasChildren())return oa(e);if(n){let t=e.children[M]?jo(e.children[M],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==M&&r.push(`${o}:${jo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=KE(e,(r,o)=>o===M?[jo(e.children[M],!1)]:[`${o}:${jo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[M]!=null?`${oa(e)}/${t[0]}`:`${oa(e)}/(${t.join("//")})`}}function om(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ta(e){return om(e).replace(/%3B/gi,";")}function JE(e){return encodeURI(e)}function Wu(e){return om(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ia(e){return decodeURIComponent(e)}function qg(e){return ia(e.replace(/\+/g,"%20"))}function im(e){return`${Wu(e.path)}${YE(e.parameters)}`}function YE(e){return Object.entries(e).map(([n,t])=>`;${Wu(n)}=${Wu(t)}`).join("")}function XE(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${ta(t)}=${ta(o)}`).join("&"):`${ta(t)}=${ta(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var eS=/^[^\/()?;#]+/;function $u(e){let n=e.match(eS);return n?n[0]:""}var tS=/^[^\/()?;=#]+/;function nS(e){let n=e.match(tS);return n?n[0]:""}var rS=/^[^=?&#]+/;function oS(e){let n=e.match(rS);return n?n[0]:""}var iS=/^[^&#]+/;function sS(e){let n=e.match(iS);return n?n[0]:""}var Gu=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[M]=new U(n,t)),r}parseSegment(){let n=$u(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(n),new Gt(ia(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=nS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=$u(this.remaining);o&&(r=o,this.capture(r))}n[ia(t)]=ia(r)}parseQueryParam(n){let t=oS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=sS(this.remaining);s&&(r=s,this.capture(r))}let o=qg(t),i=qg(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$u(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new b(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=M);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[M]:new U([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new b(4011,!1)}};function sm(e){return e.segments.length>0?new U([],{[M]:e}):e}function am(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=am(o);if(r===M&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new U(e.segments,n);return aS(t)}function aS(e){if(e.numberOfChildren===1&&e.children[M]){let n=e.children[M];return new U(e.segments.concat(n.segments),n.children)}return e}function Zt(e){return e instanceof ft}function cm(e,n,t=null,r=null){let o=lm(e);return um(o,n,t,r)}function lm(e){let n;function t(i){let s={};for(let c of i.children){let l=t(c);s[c.outlet]=l}let a=new U(i.url,s);return i===e&&(n=a),a}let r=t(e.root),o=sm(r);return n??o}function um(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Uu(o,o,o,t,r);let i=cS(n);if(i.toRoot())return Uu(o,o,new U([],{}),t,r);let s=lS(i,o,e),a=s.processChildren?Vo(s.segmentGroup,s.index,i.commands):fm(s.segmentGroup,s.index,i.commands);return Uu(o,s.segmentGroup,a,t,r)}function aa(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Uo(e){return typeof e=="object"&&e!=null&&e.outlets}function Uu(e,n,t,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===n?s=t:s=dm(e,n,t);let a=sm(am(s));return new ft(a,i,o)}function dm(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=dm(i,n,t)}),new U(e.segments,r)}var ca=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&aa(r[0]))throw new b(4003,!1);let o=r.find(Uo);if(o&&o!==Xg(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cS(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ca(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new ca(t,n,r)}var Er=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function lS(e,n,t){if(e.isAbsolute)return new Er(n,!0,0);if(!t)return new Er(n,!1,NaN);if(t.parent===null)return new Er(t,!0,0);let r=aa(e.commands[0])?0:1,o=t.segments.length-1+r;return uS(t,o,e.numberOfDoubleDots)}function uS(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new b(4005,!1);o=r.segments.length}return new Er(r,!1,o-i)}function dS(e){return Uo(e[0])?e[0].outlets:{[M]:e}}function fm(e,n,t){if(e??=new U([],{}),e.segments.length===0&&e.hasChildren())return Vo(e,n,t);let r=fS(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new U(e.segments.slice(0,r.pathIndex),{});return i.children[M]=new U(e.segments.slice(r.pathIndex),e.children),Vo(i,0,o)}else return r.match&&o.length===0?new U(e.segments,{}):r.match&&!e.hasChildren()?Zu(e,n,t):r.match?Vo(e,0,o):Zu(e,n,t)}function Vo(e,n,t){if(t.length===0)return new U(e.segments,{});{let r=dS(t),o={};if(Object.keys(r).some(i=>i!==M)&&e.children[M]&&e.numberOfChildren===1&&e.children[M].segments.length===0){let i=Vo(e.children[M],n,t);return new U(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=fm(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new U(e.segments,o)}}function fS(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],a=t[r];if(Uo(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Gg(c,l,s))return i;r+=2}else{if(!Gg(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Zu(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(Uo(i)){let c=hS(i.outlets);return new U(r,c)}if(o===0&&aa(t[0])){let c=e.segments[n];r.push(new Gt(c.path,Wg(t[0]))),o++;continue}let s=Uo(i)?i.outlets[M]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&aa(a)?(r.push(new Gt(s,Wg(a))),o+=2):(r.push(new Gt(s,{})),o++)}return new U(r,{})}function hS(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Zu(new U([],{}),0,r))}),n}function Wg(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function Gg(e,n,t){return e==t.path&&ut(n,t.parameters)}var sa="imperative",ce=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ce||{}),Re=class{id;url;constructor(n,t){this.id=n,this.url=t}},Cn=class extends Re{type=ce.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ht=class extends Re{urlAfterRedirects;type=ce.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Se=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Se||{}),Ho=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ho||{}),dt=class extends Re{reason;code;type=ce.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},At=class extends Re{reason;code;type=ce.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},Cr=class extends Re{error;target;type=ce.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bo=class extends Re{urlAfterRedirects;state;type=ce.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},la=class extends Re{urlAfterRedirects;state;type=ce.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ua=class extends Re{urlAfterRedirects;state;shouldActivate;type=ce.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},da=class extends Re{urlAfterRedirects;state;type=ce.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fa=class extends Re{urlAfterRedirects;state;type=ce.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ha=class{route;type=ce.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pa=class{route;type=ce.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ga=class{snapshot;type=ce.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ma=class{snapshot;type=ce.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},va=class{snapshot;type=ce.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ya=class{snapshot;type=ce.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zo=class{},Dr=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function pS(e,n){return e.providers&&!e._injector&&(e._injector=Bs(e.providers,n,`Route: ${e.path}`)),e._injector??n}function et(e){return e.outlet||M}function gS(e,n){let t=e.filter(r=>et(r)===n);return t.push(...e.filter(r=>et(r)!==n)),t}function Yo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var wa=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Yo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new xr(this.rootInjector)}},xr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new wa(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(N(Me))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ba=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Ku(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Ku(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Qu(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Qu(n,this._root).map(t=>t.value)}};function Ku(e,n){if(e===n.value)return n;for(let t of n.children){let r=Ku(e,t);if(r)return r}return null}function Qu(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Qu(e,t);if(r.length)return r.unshift(n),r}return[]}var xe=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ir(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var qo=class extends ba{snapshot;constructor(n,t){super(n),this.snapshot=t,od(this,n)}toString(){return this.snapshot.toString()}};function hm(e){let n=mS(e),t=new le([new Gt("",{})]),r=new le({}),o=new le({}),i=new le({}),s=new le(""),a=new kt(t,r,i,s,o,M,e,n.root);return a.snapshot=n.root,new qo(new xe(a,[]),n)}function mS(e){let n={},t={},r={},o="",i=new In([],n,r,o,t,M,e,null,{});return new Wo("",new xe(i,[]))}var kt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(I(l=>l[Qo]))??D(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(I(n=>En(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(I(n=>En(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _a(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:v(v({},n.params),e.params),data:v(v({},n.data),e.data),resolve:v(v(v(v({},e.data),n.data),o?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},o&&gm(o)&&(r.resolve[Qo]=o.title),r}var In=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Qo]}constructor(n,t,r,o,i,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=En(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=En(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Wo=class extends ba{url;constructor(n,t){super(t),this.url=n,od(this,t)}toString(){return pm(this._root)}};function od(e,n){n.value._routerState=e,n.children.forEach(t=>od(e,t))}function pm(e){let n=e.children.length>0?` { ${e.children.map(pm).join(", ")} } `:"";return`${e.value}${n}`}function Hu(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ut(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ut(n.params,t.params)||e.paramsSubject.next(t.params),zE(n.url,t.url)||e.urlSubject.next(t.url),ut(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ju(e,n){let t=ut(e.params,n.params)&&ZE(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Ju(e.parent,n.parent))}function gm(e){return typeof e.title=="string"||e.title===null}var mm=new E(""),Xo=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=M;activateEvents=new Ie;deactivateEvents=new Ie;attachEvents=new Ie;detachEvents=new Ie;routerOutletData=fp(void 0);parentContexts=m(xr);location=m(Eu);changeDetector=m(Tu);inputBinder=m(Ca,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Yu(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=zs({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Os]})}return e})(),Yu=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===kt?this.route:n===xr?this.childContexts:n===mm?this.outletData:this.parent.get(n,t)}},Ca=new E("");function vS(e,n,t){let r=Go(e,n._root,t?t._root:void 0);return new qo(r,n)}function Go(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=yS(e,n,t);return new xe(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Go(e,a)),s}}let r=wS(n.value),o=n.children.map(i=>Go(e,i));return new xe(r,o)}}function yS(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Go(e,r,o);return Go(e,r)})}function wS(e){return new kt(new le(e.url),new le(e.params),new le(e.queryParams),new le(e.fragment),new le(e.data),e.outlet,e.component,e)}var Tr=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},vm="ngNavigationCancelingError";function Ia(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Zt(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=ym(!1,Se.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function ym(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[vm]=!0,t.cancellationCode=n,t}function bS(e){return wm(e)&&Zt(e.url)}function wm(e){return!!e&&e[vm]}var _S=(e,n,t,r)=>I(o=>(new Xu(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),Xu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Hu(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=Ir(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Ir(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Ir(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=Ir(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new ya(i.value.snapshot))}),n.children.length&&this.forwardEvent(new ma(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(Hu(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hu(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Ea=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Sr=class{component;route;constructor(n,t){this.component=n,this.route=t}};function IS(e,n,t){let r=e._root,o=n?n._root:null;return Fo(r,o,t,[r.value])}function ES(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Rr(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!sh(e)?e:n.get(e):r}function Fo(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ir(n);return e.children.forEach(s=>{SS(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>$o(a,t.getContext(s),o)),o}function SS(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=CS(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ea(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Fo(e,n,a?a.children:null,r,o):Fo(e,n,t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Sr(a.outlet.component,s))}else s&&$o(n,a,o),o.canActivateChecks.push(new Ea(r)),i.component?Fo(e,null,a?a.children:null,r,o):Fo(e,null,t,r,o);return o}function CS(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!_n(e.url,n.url);case"pathParamsOrQueryParamsChange":return!_n(e.url,n.url)||!ut(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ju(e,n)||!ut(e.queryParams,n.queryParams);case"paramsChange":default:return!Ju(e,n)}}function $o(e,n,t){let r=Ir(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?$o(s,n.children.getContext(i),t):$o(s,null,t):$o(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Sr(n.outlet.component,o)):t.canDeactivateChecks.push(new Sr(null,o)):t.canDeactivateChecks.push(new Sr(null,o))}function ei(e){return typeof e=="function"}function DS(e){return typeof e=="boolean"}function TS(e){return e&&ei(e.canLoad)}function MS(e){return e&&ei(e.canActivate)}function xS(e){return e&&ei(e.canActivateChild)}function RS(e){return e&&ei(e.canDeactivate)}function NS(e){return e&&ei(e.canMatch)}function bm(e){return e instanceof It||e?.name==="EmptyError"}var na=Symbol("INITIAL_VALUE");function Mr(){return te(e=>Zi(e.map(n=>n.pipe(Et(1),kc(na)))).pipe(I(n=>{for(let t of n)if(t!==!0){if(t===na)return na;if(t===!1||AS(t))return t}return!0}),We(n=>n!==na),Et(1)))}function AS(e){return Zt(e)||e instanceof Tr}function kS(e,n){return ee(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?D(L(v({},t),{guardsResult:!0})):OS(s,r,o,e).pipe(ee(a=>a&&DS(a)?PS(r,i,e,n):D(a)),I(a=>L(v({},t),{guardsResult:a})))})}function OS(e,n,t,r){return B(e).pipe(ee(o=>$S(o.component,o.route,t,n,r)),St(o=>o!==!0,!0))}function PS(e,n,t,r){return B(n).pipe(Zn(o=>Gn(jS(o.route.parent,r),LS(o.route,r),VS(e,o.path,t),FS(e,o.route,t))),St(o=>o!==!0,!0))}function LS(e,n){return e!==null&&n&&n(new va(e)),D(!0)}function jS(e,n){return e!==null&&n&&n(new ga(e)),D(!0)}function FS(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return D(!0);let o=r.map(i=>Ki(()=>{let s=Yo(n)??t,a=Rr(i,s),c=MS(a)?a.canActivate(n,e):Je(s,()=>a(n,e));return Kt(c).pipe(St())}));return D(o).pipe(Mr())}function VS(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>ES(s)).filter(s=>s!==null).map(s=>Ki(()=>{let a=s.guards.map(c=>{let l=Yo(s.node)??t,u=Rr(c,l),d=xS(u)?u.canActivateChild(r,e):Je(l,()=>u(r,e));return Kt(d).pipe(St())});return D(a).pipe(Mr())}));return D(i).pipe(Mr())}function $S(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return D(!0);let s=i.map(a=>{let c=Yo(n)??o,l=Rr(a,c),u=RS(l)?l.canDeactivate(e,n,t,r):Je(c,()=>l(e,n,t,r));return Kt(u).pipe(St())});return D(s).pipe(Mr())}function US(e,n,t,r){let o=n.canLoad;if(o===void 0||o.length===0)return D(!0);let i=o.map(s=>{let a=Rr(s,e),c=TS(a)?a.canLoad(n,t):Je(e,()=>a(n,t));return Kt(c)});return D(i).pipe(Mr(),_m(r))}function _m(e){return rt(G(n=>{if(typeof n!="boolean")throw Ia(e,n)}),I(n=>n===!0))}function HS(e,n,t,r){let o=n.canMatch;if(!o||o.length===0)return D(!0);let i=o.map(s=>{let a=Rr(s,e),c=NS(a)?a.canMatch(n,t):Je(e,()=>a(n,t));return Kt(c)});return D(i).pipe(Mr(),_m(r))}var Zo=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ko=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function _r(e){return Wn(new Zo(e))}function BS(e){return Wn(new b(4e3,!1))}function zS(e){return Wn(ym(!1,Se.GuardRejected))}var ed=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return D(r);if(o.numberOfChildren>1||!o.children[M])return BS(`${n.redirectTo}`);o=o.children[M]}}applyRedirectCommands(n,t,r,o,i){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:g,title:y}=o,w=Je(i,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:y}));if(w instanceof ft)throw new Ko(w);t=w}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Ko(s);return s}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new ft(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new U(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new b(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}},td={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qS(e,n,t,r,o){let i=Im(e,n,t);return i.matched?(r=pS(n,r),HS(r,n,t,o).pipe(I(s=>s===!0?i:v({},td)))):D(i)}function Im(e,n,t){if(n.path==="**")return WS(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?v({},td):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||Jg)(t,e,n);if(!o)return v({},td);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?v(v({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function WS(e){return{matched:!0,parameters:e.length>0?Xg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Zg(e,n,t,r){return t.length>0&&KS(e,t,r)?{segmentGroup:new U(n,ZS(r,new U(t,e.children))),slicedSegments:[]}:t.length===0&&QS(e,t,r)?{segmentGroup:new U(e.segments,GS(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new U(e.segments,e.children),slicedSegments:t}}function GS(e,n,t,r){let o={};for(let i of t)if(Da(e,n,i)&&!r[et(i)]){let s=new U([],{});o[et(i)]=s}return v(v({},r),o)}function ZS(e,n){let t={};t[M]=n;for(let r of e)if(r.path===""&&et(r)!==M){let o=new U([],{});t[et(r)]=o}return t}function KS(e,n,t){return t.some(r=>Da(e,n,r)&&et(r)!==M)}function QS(e,n,t){return t.some(r=>Da(e,n,r))}function Da(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function JS(e,n,t){return n.length===0&&!e.children[t]}var nd=class{};function YS(e,n,t,r,o,i,s="emptyOnly"){return new rd(e,n,t,r,o,s,i).recognize()}var XS=31,rd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ed(this.urlSerializer,this.urlTree)}noMatchError(n){return new b(4002,`'${n.segmentGroup}'`)}recognize(){let n=Zg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(I(({children:t,rootSnapshot:r})=>{let o=new xe(r,t),i=new Wo("",o),s=cm(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let t=new In([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),M,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,M,t).pipe(I(r=>({children:r,rootSnapshot:t})),Vt(r=>{if(r instanceof Ko)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zo?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(I(s=>s instanceof xe?[s]:[]))}processChildren(n,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return B(i).pipe(Zn(s=>{let a=r.children[s],c=gS(t,s);return this.processSegmentGroup(n,c,a,s,o)}),Ac((s,a)=>(s.push(...a),s)),$t(null),Nc(),ee(s=>{if(s===null)return _r(r);let a=Em(s);return eC(a),D(a)}))}processSegment(n,t,r,o,i,s,a){return B(t).pipe(Zn(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,o,i,s,a).pipe(Vt(l=>{if(l instanceof Zo)return D(null);throw l}))),St(c=>!!c),Vt(c=>{if(bm(c))return JS(r,o,i)?D(new nd):_r(r);throw c}))}processSegmentAgainstRoute(n,t,r,o,i,s,a,c){return et(r)!==s&&(s===M||!Da(o,i,r))?_r(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,c):_r(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Im(t,o,i);if(!c)return _r(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XS&&(this.allowRedirects=!1));let f=new In(i,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Kg(o),et(o),o.component??o._loadedComponent??null,o,Qg(o)),g=_a(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(o,y).pipe(ee(w=>this.processSegment(n,r,t,w.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,o,i,s){let a=qS(t,r,o,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(te(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(te(({routes:l})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new In(h,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Kg(r),et(r),r.component??r._loadedComponent??null,r,Qg(r)),y=_a(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:w,slicedSegments:S}=Zg(t,h,f,l);if(S.length===0&&w.hasChildren())return this.processChildren(u,l,w,g).pipe(I(fe=>new xe(g,fe)));if(l.length===0&&S.length===0)return D(new xe(g,[]));let ie=et(r)===i;return this.processSegment(u,l,w,S,ie?M:i,!0,g).pipe(I(fe=>new xe(g,fe instanceof xe?[fe]:[])))}))):_r(t)))}getChildConfig(n,t,r){return t.children?D({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?D({routes:t._loadedRoutes,injector:t._loadedInjector}):US(n,t,r,this.urlSerializer).pipe(ee(o=>o?this.configLoader.loadChildren(n,t).pipe(G(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):zS(t))):D({routes:[],injector:n})}};function eC(e){e.sort((n,t)=>n.value.outlet===M?-1:t.value.outlet===M?1:n.value.outlet.localeCompare(t.value.outlet))}function tC(e){let n=e.value.routeConfig;return n&&n.path===""}function Em(e){let n=[],t=new Set;for(let r of e){if(!tC(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=Em(r.children);n.push(new xe(r.value,o))}return n.filter(r=>!t.has(r))}function Kg(e){return e.data||{}}function Qg(e){return e.resolve||{}}function nC(e,n,t,r,o,i){return ee(s=>YS(e,n,t,r,s.extractedUrl,o,i).pipe(I(({state:a,tree:c})=>L(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function rC(e,n){return ee(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return D(t);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of Sm(c))s.add(l);let a=0;return B(s).pipe(Zn(c=>i.has(c)?oC(c,r,e,n):(c.data=_a(c,c.parent,e).resolve,D(void 0))),G(()=>a++),Kn(1),ee(c=>a===s.size?D(t):be))})}function Sm(e){let n=e.children.map(t=>Sm(t)).flat();return[e,...n]}function oC(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!gm(o)&&(i[Qo]=o.title),iC(i,e,n,r).pipe(I(s=>(e._resolvedData=s,e.data=_a(e,e.parent,t).resolve,null)))}function iC(e,n,t,r){let o=qu(e);if(o.length===0)return D({});let i={};return B(o).pipe(ee(s=>sC(e[s],n,t,r).pipe(St(),G(a=>{if(a instanceof Tr)throw Ia(new Sn,a);i[s]=a}))),Kn(1),I(()=>i),Vt(s=>bm(s)?be:Wn(s)))}function sC(e,n,t,r){let o=Yo(n)??r,i=Rr(e,o),s=i.resolve?i.resolve(n,t):Je(o,()=>i(n,t));return Kt(s)}function Bu(e){return te(n=>{let t=e(n);return t?B(t).pipe(I(()=>n)):D(n)})}var id=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===M);return r}getResolvedTitleForRoute(t){return t.data[Qo]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(Cm),providedIn:"root"})}return e})(),Cm=(()=>{class e extends id{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(N(Bg))};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ti=new E("",{providedIn:"root",factory:()=>({})}),sd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ve({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&re(0,"router-outlet")},dependencies:[Xo],encapsulation:2})}return e})();function ad(e){let n=e.children&&e.children.map(ad),t=n?L(v({},e),{children:n}):v({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==M&&(t.component=sd),t}var ni=new E(""),Dm=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(wg);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return D(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Kt(t.loadComponent()).pipe(I(Mm),G(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),to(()=>{this.componentLoaders.delete(t)})),o=new qn(r,()=>new K).pipe(zn());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return D({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=Tm(r,this.compiler,t,this.onLoadEndListener).pipe(to(()=>{this.childrenLoaders.delete(r)})),s=new qn(i,()=>new K).pipe(zn());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tm(e,n,t,r){return Kt(e.loadChildren()).pipe(I(Mm),ee(o=>o instanceof Su||Array.isArray(o)?D(o):B(n.compileModuleAsync(o))),I(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(ni,[],{optional:!0,self:!0}).flat()),{routes:s.map(ad),injector:i}}))}function aC(e){return e&&typeof e=="object"&&"default"in e}function Mm(e){return aC(e)?e.default:e}var Ta=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(cC),providedIn:"root"})}return e})(),cC=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xm=new E("");var Rm=new E(""),Nm=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new K;transitionAbortSubject=new K;configLoader=m(Dm);environmentInjector=m(Me);destroyRef=m(Fe);urlSerializer=m(Jo);rootContexts=m(xr);location=m(br);inputBindingEnabled=m(Ca,{optional:!0})!==null;titleStrategy=m(id);options=m(ti,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(Ta);createViewTransition=m(xm,{optional:!0});navigationErrorHandler=m(Rm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new ha(o)),r=o=>this.events.next(new pa(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(L(v({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new le(null),this.transitions.pipe(We(r=>r!==null),te(r=>{let o=!1,i=!1;return D(r).pipe(te(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Se.SupersededByNewNavigation),be;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?L(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new At(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ho.IgnoredSameUrlNavigation)),s.resolve(!1),be}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return D(s).pipe(te(l=>(this.events.next(new Cn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?be:Promise.resolve(l))),nC(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),G(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=L(v({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Bo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:h,extras:f}=s,g=new Cn(l,this.urlSerializer.serialize(u),d,h);this.events.next(g);let y=hm(this.rootComponentType).snapshot;return this.currentTransition=r=L(v({},s),{targetSnapshot:y,urlAfterRedirects:u,extras:L(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,D(r)}else{let l="";return this.events.next(new At(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ho.IgnoredByUrlHandlingStrategy)),s.resolve(!1),be}}),G(s=>{let a=new la(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),I(s=>(this.currentTransition=r=L(v({},s),{guards:IS(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),kS(this.environmentInjector,s=>this.events.next(s)),G(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ia(this.urlSerializer,s.guardsResult);let a=new ua(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),We(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Se.GuardRejected),!1)),Bu(s=>{if(s.guards.canActivateChecks.length!==0)return D(s).pipe(G(a=>{let c=new da(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),te(a=>{let c=!1;return D(a).pipe(rC(this.paramsInheritanceStrategy,this.environmentInjector),G({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Se.NoDataFromResolver)}}))}),G(a=>{let c=new fa(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Bu(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(G(u=>{c.component=u}),I(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Zi(a(s.targetSnapshot.root)).pipe($t(null),Et(1))}),Bu(()=>this.afterPreactivation()),te(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?B(c).pipe(I(()=>r)):D(r)}),I(s=>{let a=vS(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=L(v({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),G(()=>{this.events.next(new zo)}),_S(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Et(1),G({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ht(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Oc(this.transitionAbortSubject.pipe(G(s=>{throw s}))),to(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Se.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vt(s=>{if(this.destroyed)return r.resolve(!1),be;if(i=!0,wm(s))this.events.next(new dt(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),bS(s)?this.events.next(new Dr(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Cr(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Je(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Tr){let{message:l,cancellationCode:u}=Ia(this.urlSerializer,c);this.events.next(new dt(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Dr(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return be}))}))}cancelNavigationTransition(t,r,o){let i=new dt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lC(e){return e!==sa}var Am=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(uC),providedIn:"root"})}return e})(),Sa=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},uC=(()=>{class e extends Sa{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Jl(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),km=(()=>{class e{urlSerializer=m(Jo);options=m(ti,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(br);urlHandlingStrategy=m(Ta);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ft;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof ft?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=hm(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:()=>m(dC),providedIn:"root"})}return e})(),dC=(()=>{class e extends km{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Cn?this.updateStateMemento():t instanceof At?this.commitTransition(r):t instanceof Bo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dt&&(t.code===Se.GuardRejected||t.code===Se.NoDataFromResolver)?this.restoreHistory(r):t instanceof Cr?this.restoreHistory(r,!0):t instanceof ht&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(o,a));this.location.replaceState(t,"",c)}else{let a=v(v({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Jl(e)))(o||e)}})();static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cd(e,n){e.events.pipe(We(t=>t instanceof ht||t instanceof dt||t instanceof Cr||t instanceof At),I(t=>t instanceof ht||t instanceof At?0:(t instanceof dt?t.code===Se.Redirect||t.code===Se.SupersededByNewNavigation:!1)?2:1),We(t=>t!==2),Et(1)).subscribe(()=>{n()})}var fC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},tt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(ug);stateManager=m(km);options=m(ti,{optional:!0})||{};pendingTasks=m(pr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(Nm);urlSerializer=m(Jo);location=m(br);urlHandlingStrategy=m(Ta);_events=new K;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(Am);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(ni,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(Ca,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new J;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof dt&&r.code!==Se.Redirect&&r.code!==Se.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ht)this.navigated=!0;else if(r instanceof Dr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=v({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lC(o.source)},s);this.scheduleNavigation(a,sa,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}gC(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=v({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ad),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=lm(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return um(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Zt(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,sa,null,r)}navigate(t,r={skipLocationChange:!1}){return pC(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=v({},fC):r===!1?o=v({},hC):o=r,Zt(t))return zg(this.currentUrlTree,t,o);let i=this.parseUrl(t);return zg(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return cd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pC(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new b(4008,!1)}function gC(e){return!(e instanceof zo)&&!(e instanceof Dr)}var Ma=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new K;constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof ht&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zt(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Tp(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Zt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(yn(tt),yn(kt),sp("tabindex"),yn(ng),yn(ru),yn(wr))};static \u0275dir=zs({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&pe("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Du("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ks],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ks],replaceUrl:[2,"replaceUrl","replaceUrl",Ks],routerLink:"routerLink"},features:[Os]})}return e})();var vC=new E("");function ld(e,...n){return Vl([{provide:ni,multi:!0,useValue:e},[],{provide:kt,useFactory:yC,deps:[tt]},{provide:Cu,multi:!0,useFactory:wC},n.map(t=>t.\u0275providers)])}function yC(e){return e.routerState.root}function wC(){let e=m(we);return n=>{let t=e.get(hn);if(n!==t.components[0])return;let r=e.get(tt),o=e.get(bC);e.get(_C)===1&&r.initialNavigation(),e.get(IC,null,x.Optional)?.setUpPreloading(),e.get(vC,null,x.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var bC=new E("",{factory:()=>new K}),_C=new E("",{providedIn:"root",factory:()=>1});var IC=new E("");var xa=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ve({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&re(0,"router-outlet")},dependencies:[Xo],encapsulation:2,changeDetection:0})};var Om=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var ri=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},Na=class extends ri{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Aa=class extends ri{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ka=class extends ri{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},ud=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(ud||{});var EC=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},oi=class{constructor(n,{headers:t={},customFetch:r,region:o=ud.Any}={}){this.url=n,this.headers=t,this.region=o,this.fetch=Om(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return EC(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=t,a={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:l}).catch(g=>{throw new Na(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Aa(u);if(!u.ok)throw new ka(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var Gm=Uv(Wm(),1),{PostgrestClient:Zm,PostgrestQueryBuilder:gO,PostgrestFilterBuilder:mO,PostgrestTransformBuilder:vO,PostgrestBuilder:yO,PostgrestError:PC}=Gm.default;var Km="2.11.2";var Qm={"X-Client-Info":`realtime-js/${Km}`},Jm="1.0.0",ja=1e4,Ym=1e3,Ar=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ar||{}),Ne=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Ne||{}),He=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(He||{}),Id=function(e){return e.websocket="websocket",e}(Id||{}),Dn=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Dn||{});var Fa=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let o=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+o));s=s+o;let c=r.decode(n.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var kr=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Z=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Z||{}),Sd=(e,n,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((i,s)=>(i[s]=LC(s,e,n,o),i),{})},LC=(e,n,t,r)=>{let o=n.find(a=>a.name===e),i=o?.type,s=t[e];return i&&!r.includes(i)?Xm(i,s):Ed(s)},Xm=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return $C(n,t)}switch(e){case Z.bool:return jC(n);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return FC(n);case Z.json:case Z.jsonb:return VC(n);case Z.timestamp:return UC(n);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Ed(n);default:return Ed(n)}},Ed=e=>e,jC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FC=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},VC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},$C=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Xm(n,a))}return e},UC=e=>typeof e=="string"?e.replace(" ","T"):e,Va=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var Or=class{constructor(n,t,r={},o=ja){this.channel=n,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var di=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,o){let i=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let h=u.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),g=u.filter(w=>f.indexOf(w.presence_ref)<0),y=d.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(a[l]=g),y.length>0&&(c[l]=y)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(n,t,r,o){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=n[a])!==null&&l!==void 0?l:[];if(n[a]=this.cloneDeep(c),u.length>0){let d=n[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=n[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=l,o(a,l,c),l.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let o=n[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ot=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Ot||{});var fi=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Or(this,He.join,this.params,this.timeout),this.rejoinTimer=new kr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new di(this),this.broadcastEndpointURL=Va(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>n?.(Ot.CHANNEL_ERROR,u)),this._onClose(()=>n?.(Ot.CLOSED));let c={},l={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",d=>p(this,[d],function*({postgres_changes:u}){var h;if(this.socket.setAuth(),u===void 0){n?.(Ot.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(h=f?.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<g;w++){let S=f[w],{filter:{event:ie,schema:fe,table:ze,filter:wt}}=S,jn=u&&u[w];if(jn&&jn.event===ie&&jn.schema===fe&&jn.table===ze&&jn.filter===wt)y.push(Object.assign(Object.assign({},S),{id:jn.id}));else{this.unsubscribe(),n?.(Ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,n&&n(Ot.SUBSCRIBED);return}})).receive("error",u=>{n?.(Ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return p(this,arguments,function*(n,t={}){var o,i;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ne.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Or(this,He.leave,{},n);o.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_fetchWithTimeout(n,t,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Or(this,n,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var o,i;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=He;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,y,w;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,y,w,S,ie,fe;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let ze=f.id,wt=(g=f.filter)===null||g===void 0?void 0:g.event;return ze&&((y=t.ids)===null||y===void 0?void 0:y.includes(ze))&&(wt==="*"||wt?.toLocaleLowerCase()===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let ze=(ie=(S=f?.filter)===null||S===void 0?void 0:S.event)===null||ie===void 0?void 0:ie.toLocaleLowerCase();return ze==="*"||ze===((fe=t?.event)===null||fe===void 0?void 0:fe.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:y,table:w,commit_timestamp:S,type:ie,errors:fe}=g;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:S,eventType:ie,new:{},old:{},errors:fe}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let o=n.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(He.close,{},n)}_onError(n){this._on(He.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Sd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Sd(n.columns,n.old_record)),t}};var BC=()=>{},zC=typeof WebSocket<"u",qC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,hi=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Qm,this.params={},this.timeout=ja,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=BC,this.conn=null,this.sendBuffer=[],this.serializer=new Fa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Id.websocket}`,this.httpEndpoint=Va(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let o=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t?.encode?t.encode:(i,s)=>s(JSON.stringify(i)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kr(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(zC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Cd(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-266KHGQI.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jm}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return p(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return p(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ar.connecting:return Dn.Connecting;case Ar.open:return Dn.Open;case Ar.closing:return Dn.Closing;default:return Dn.Closed}}isConnected(){return this.connectionState()===Dn.Open}channel(n,t={config:{}}){let r=new fi(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){let{topic:t,event:r,payload:o,ref:i}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return p(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(o=>{t&&o.updateJoinPayload({access_token:t}),o.joinedOnce&&o._isJoined()&&o._push(He.access_token,{access_token:t})})}})}sendHeartbeat(){return p(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Ym,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:o,payload:i,ref:s}=t;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){return p(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(He.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${n}${r}${o}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([qC],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Cd=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ar.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Pr=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Y(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $a=class extends Pr{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Tn=class extends Pr{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var WC=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},Ha=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},ev=()=>WC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),Ua=e=>{if(Array.isArray(e))return e.map(t=>Ua(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));n[o]=Ua(r)}),n};var Mn=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},Dd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GC=(e,n,t)=>Mn(void 0,void 0,void 0,function*(){let r=yield ev();e instanceof r&&!t?.noResolveJson?e.json().then(o=>{n(new $a(Dd(o),e.status||500))}).catch(o=>{n(new Tn(Dd(o),o))}):n(new Tn(Dd(e),e))}),ZC=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),t))};function pi(e,n,t,r,o,i){return Mn(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,ZC(n,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>GC(c,a,r))})})}function Lr(e,n,t,r){return Mn(this,void 0,void 0,function*(){return pi(e,"GET",n,t,r)})}function pt(e,n,t,r,o){return Mn(this,void 0,void 0,function*(){return pi(e,"POST",n,r,o,t)})}function tv(e,n,t,r,o){return Mn(this,void 0,void 0,function*(){return pi(e,"PUT",n,r,o,t)})}function nv(e,n,t,r){return Mn(this,void 0,void 0,function*(){return pi(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Ba(e,n,t,r,o){return Mn(this,void 0,void 0,function*(){return pi(e,"DELETE",n,r,o,t)})}var Ce=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},KC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},za=class{constructor(n,t={},r,o){this.url=n,this.headers=t,this.bucketId=r,this.fetch=Ha(o)}uploadOrUpdate(n,t,r,o){return Ce(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},rv),o),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),h=yield d.json();return d.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}upload(n,t,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,o){return Ce(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(n),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=Object.assign({upsert:rv.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Y(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return Ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Pr("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}update(n,t,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}})}copy(n,t,r){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}})}createSignedUrl(n,t,r){return Ce(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),i=yield pt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}})}createSignedUrls(n,t,r){return Ce(this,void 0,void 0,function*(){try{let o=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}})}download(n,t){return Ce(this,void 0,void 0,function*(){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield Lr(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Y(a))return{data:null,error:a};throw a}})}info(n){return Ce(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield Lr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ua(r),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}exists(n){return Ce(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield nv(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Y(r)&&r instanceof Tn){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}list(n,t,r){return Ce(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},KC),t),{prefix:n||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var ov="2.7.1";var iv={"X-Client-Info":`storage-js/${ov}`};var jr=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},qa=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},iv),t),this.fetch=Ha(r)}listBuckets(){return jr(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}getBucket(n){return jr(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return jr(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return jr(this,void 0,void 0,function*(){try{return{data:yield tv(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}emptyBucket(n){return jr(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}deleteBucket(n){return jr(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}};var gi=class extends qa{constructor(n,t={},r){super(n,t,r)}from(n){return new za(this.url,this.headers,n,this.fetch)}};var sv="2.49.4";var mi="";typeof Deno<"u"?mi="deno":typeof document<"u"?mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mi="react-native":mi="node";var QC={"X-Client-Info":`supabase-js-${mi}/${sv}`},av={headers:QC},cv={schema:"public"},lv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uv={};Pd();var JC=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},YC=e=>{let n;return e?n=e:typeof fetch>"u"?n=kd:n=fetch,(...t)=>n(...t)},XC=()=>typeof Headers>"u"?Od:Headers,dv=(e,n,t)=>{let r=YC(t),o=XC();return(i,s)=>JC(void 0,void 0,void 0,function*(){var a;let c=(a=yield n())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var eD=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})};function fv(e){return e.replace(/\/$/,"")}function hv(e,n){let{db:t,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:c,global:l}=n,u={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),i),accessToken:()=>eD(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function pv(e){return Math.round(Date.now()/1e3)+e}function gv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var nt=()=>typeof document<"u",xn={tested:!1,writable:!1},Qt=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xn.tested)return xn.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xn.tested=!0,xn.writable=!0}catch{xn.tested=!0,xn.writable=!1}return xn.writable};function Wa(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{n[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{n[o]=r}),n}var Ga=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},mv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jt=(e,n,t)=>p(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),yi=(e,n)=>p(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Za=(e,n)=>p(null,null,function*(){yield e.removeItem(n)});function tD(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",r,o,i,s,a,c,l,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=n.indexOf(e.charAt(u++)),a=n.indexOf(e.charAt(u++)),c=n.indexOf(e.charAt(u++)),l=n.indexOf(e.charAt(u++)),r=s<<2|a>>4,o=(a&15)<<4|c>>2,i=(c&3)<<6|l,t=t+String.fromCharCode(r),c!=64&&o!=0&&(t=t+String.fromCharCode(o)),l!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}var vi=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};vi.promiseConstructor=Promise;function Td(e){let n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=t[1];return JSON.parse(tD(r))}function vv(e){return p(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function yv(e,n){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!n(i,null,s)){r(s);return}}catch(s){if(!n(i,s)){o(s);return}}})})}function nD(e){return("0"+e.toString(16)).substr(-2)}function Rn(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,nD).join("")}function rD(e){return p(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function oD(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Nn(e){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield rD(e);return oD(t)})}var wi=class extends Error{constructor(n,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Ka=class extends wi{constructor(n,t){super(n,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function wv(e){return O(e)&&e.name==="AuthApiError"}var Fr=class extends wi{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Pt=class extends wi{constructor(n,t,r){super(n),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Lt=class extends Pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Vr=class extends Pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},An=class extends Pt{constructor(n){super(n,"AuthInvalidCredentialsError",400)}},kn=class extends Pt{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},bi=class extends Pt{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$r=class extends Pt{constructor(n,t){super(n,"AuthRetryableFetchError",t)}};function Ja(e){return O(e)&&e.name==="AuthRetryableFetchError"}var Qa=class extends Pt{constructor(n,t,r){super(n,"AuthWeakPasswordError",t),this.reasons=r}};var iD=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},Ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sD=[502,503,504];function bv(e){return p(this,null,function*(){if(!mv(e))throw new $r(Ur(e),0);if(sD.includes(e.status))throw new $r(Ur(e),e.status);let n;try{n=yield e.json()}catch(t){throw new Fr(Ur(t),t)}throw typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)?new Qa(Ur(n),e.status,n.weak_password.reasons):new Ka(Ur(n),e.status||500)})}var aD=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function j(e,n,t,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield cD(e,n,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function cD(e,n,t,r,o,i){return p(this,null,function*(){let s=aD(n,r,o,i),a;try{a=yield e(t,s)}catch(c){throw console.error(c),new $r(Ur(c),0)}if(a.ok||(yield bv(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield bv(c)}})}function Yt(e){var n;let t=null;lD(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=pv(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function Md(e){let n=Yt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function gt(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function _v(e){return{data:e,error:null}}function Iv(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=e,s=iD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Ev(e){return e}function lD(e){return e.access_token&&e.refresh_token&&e.expires_in}var uD=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},Hr=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Ga(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){return p(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(n,t={}){try{return yield j(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:gt})}catch(o){if(O(o))return{data:{user:null},error:o};throw o}})}generateLink(n){return p(this,null,function*(){try{let{options:t}=n,r=uD(n,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Iv,redirectTo:t?.redirectTo})}catch(t){if(O(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return p(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:gt})}catch(t){if(O(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return p(this,null,function*(){var t,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Ev});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);l[`${w}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{users:[]},error:l};throw l}})}getUserById(n){return p(this,null,function*(){try{return yield j(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:gt})}catch(t){if(O(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return p(this,null,function*(){try{return yield j(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:gt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return p(this,null,function*(){try{return yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:gt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return p(this,null,function*(){try{let{data:t,error:r}=yield j(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(O(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return p(this,null,function*(){try{return{data:yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(O(t))return{data:null,error:t};throw t}})}};var Ya="2.61.0";var Sv="http://localhost:9999",Cv="supabase.auth.token";var Dv={"X-Client-Info":`gotrue-js/${Ya}`},xd=10;var Tv={getItem:e=>Qt()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Qt()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Qt()&&globalThis.localStorage.removeItem(e)}};function Rd(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function Mv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var dD={debug:!!(globalThis&&Qt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Xa=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}};Mv();var fD={url:Sv,storageKey:Cv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dv,flowType:"implicit",debug:!1},_i=30*1e3,xv=3;function hD(e,n,t){return p(this,null,function*(){return yield t()})}var Nd=(()=>{class e{constructor(t){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},fD),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Hr({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ga(o.fetch),this.lock=o.lock||hD,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Qt()?this.storage=Tv:(this.memoryStorage={},this.storage=Rd(this.memoryStorage)):(this.memoryStorage={},this.storage=Rd(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",i=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ya}) ${new Date().toISOString()}`,...t),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let t=nt()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(t);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),yield this._saveSession(i),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return O(t)?{error:t}:{error:new Fr("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(t){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s;if("email"in t){let{email:d,password:h,options:f}=t,g=null,y=null;if(this.flowType==="pkce"){let w=Rn();yield Jt(this.storage,`${this.storageKey}-code-verifier`,w),g=yield Nn(w),y=w===g?"plain":"s256"}s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:y},xform:Yt})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Yt})}else throw new An("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in t){let{email:s,password:a,options:c}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Md})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Md})}else throw new An("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Vr}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return p(this,null,function*(){var r,o,i,s;return yield this._removeSession(),yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(t)}))})}_exchangeCodeForSession(t){return p(this,null,function*(){let r=yield yi(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/"),{data:s,error:a}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Yt});return yield Za(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Vr}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})})}signInWithIdToken(t){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=t,c=yield j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Yt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Vr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return p(this,null,function*(){var r,o,i,s,a;try{if(yield this._removeSession(),"email"in t){let{email:c,options:l}=t,u=null,d=null;if(this.flowType==="pkce"){let f=Rn();yield Jt(this.storage,`${this.storageKey}-code-verifier`,f),u=yield Nn(f),d=f===u?"plain":"s256"}let{error:h}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:d}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new An("You must provide either an email or phone number.")}catch(c){if(O(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return p(this,null,function*(){var r,o;try{t.type!=="email_change"&&t.type!=="phone_change"&&(yield this._removeSession());let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Yt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=Rn();yield Jt(this.storage,`${this.storageKey}-code-verifier`,c),s=yield Nn(c),a=c===s?"plain":"s256"}return yield j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:_v})}catch(s){if(O(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new Lt;let{error:i}=yield j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(O(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return p(this,null,function*(){try{t.type!="email_change"&&t.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:s}=t,{error:a}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:o,type:i,options:s}=t,{data:a,error:c}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new An("You must provide either an email or phone number and a type")}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(t=>p(this,null,function*(){return t}))}))})}_acquireLock(t,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o)return{data:{session:t},error:null};let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return p(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return p(this,null,function*(){try{return t?yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gt}):yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:gt})}))}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return p(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Lt;let c=s.session,l=null,u=null;if(this.flowType==="pkce"&&t.email!=null){let f=Rn();yield Jt(this.storage,`${this.storageKey}-code-verifier`,f),l=yield Nn(f),u=f===l?"plain":"s256"}let{data:d,error:h}=yield j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:gt});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(O(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(t){return Td(t)}setSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return p(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Lt;let r=Date.now()/1e3,o=r,i=!0,s=null,a=Td(t.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(O(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(o=a.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Lt;let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t){return p(this,null,function*(){try{if(!nt())throw new kn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new kn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new bi("Not a valid PKCE flow url.");let r=Wa(window.location.href);if(t){if(!r.code)throw new bi("No code detected.");let{data:fe,error:ze}=yield this._exchangeCodeForSession(r.code);if(ze)throw ze;let wt=new URL(window.location.href);return wt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",wt.toString()),{data:{session:fe.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new kn(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=r;if(!s||!c||!a||!u)throw new kn("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let g=f-d;g*1e3<=_i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",y,f,d);let{data:w,error:S}=yield this._getUser(s);if(S)throw S;let ie={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ie,redirectType:r.type},error:null}}catch(r){if(O(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let t=Wa(window.location.href);return!!(nt()&&(t.access_token||t.error_description))}_isPKCEFlow(){return p(this,null,function*(){let t=Wa(window.location.href),r=yield yi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return p(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return p(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,t);if(c&&!(wv(c)&&(c.status===404||c.status===401)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield Za(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(t){let r=gv(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(t,r={}){let i=null,s=null;if(this.flowType==="pkce"){let a=Rn();yield Jt(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),i=yield Nn(a),s=a===i?"plain":"s256"}try{return yield j(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(O(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}})}linkIdentity(t){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield j(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return nt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(O(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}unlinkIdentity(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield j(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return p(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield yv(i=>p(this,null,function*(){return yield vv(i*200),this._debug(r,"refreshing attempt",i),yield j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yt})}),(i,s,a)=>a&&a.error&&Ja(a.error)&&Date.now()+(i+1)*200-o<_i)}catch(o){if(this._debug(r,"error",o),O(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),nt()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield yi(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=Math.round(Date.now()/1e3),s=((t=o.expires_at)!==null&&t!==void 0?t:1/0)<i+xd;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${xd}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),Ja(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return p(this,null,function*(){var r,o;if(!t)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vi;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Lt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),O(s)){let a={session:null,error:s};return Ja(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(t,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return p(this,null,function*(){this._debug("#_saveSession()",t),yield Jt(this.storage,this.storageKey,t)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Za(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),_i);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/_i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_i}ms, refresh threshold is ${xv} ticks`),i<=xv&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Xa)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!nt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return p(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let s=Rn();yield Jt(this.storage,`${this.storageKey}-code-verifier`,s);let a=yield Nn(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(l.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield j(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_enroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:l}=yield j(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(!((i=c?.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(O(r))return{data:null,error:r};throw r}})}_verify(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(O(r))return{data:null,error:r};throw r}}))})}_challenge(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(O(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=t?.factors||[],i=o.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:o,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(t=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}}return e.nextInstanceID=0,e})();var pD=Nd,Ad=pD;var ec=class extends Ad{constructor(n){super(n)}};var gD=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})},tc=class{constructor(n,t,r){var o,i,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=fv(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:cv,realtime:uv,auth:Object.assign(Object.assign({},lv),{storageKey:c}),global:av},u=hv(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=dv(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Zm(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new oi(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gi(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return gD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ec({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new hi(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Rv=(e,n,t)=>new tc(e,n,t);var me=class e{supabaseClient;_supabaseUrl="https://xtyvhhxafahoksyzzsdn.supabase.co";_supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0eXZoaHhhZmFob2tzeXp6c2RuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyNDUzNDYsImV4cCI6MjA2MjgyMTM0Nn0.ubzn5M0fjRsn9uMtA4uJJPAx-ekSzk6HyE7DUCG0mrw";supabasePhotoUrl=`${this._supabaseUrl}/storage/v1/object/public/photos/`;constructor(){this.supabaseClient=Rv(this._supabaseUrl,this._supabaseKey)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};function Nv(e){let n=qt(()=>e());return vD(n)?new Proxy(e,{get(t,r){return r in n?(So(t[r])||Object.defineProperty(t,r,{value:Ue(()=>t()[r]),configurable:!0}),Nv(t[r])):t[r]}}):e}var mD=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function vD(e){if(e===null||typeof e!="object"||yD(e))return!1;let n=Object.getPrototypeOf(e);if(n===Object.prototype)return!0;for(;n&&n!==Object.prototype;){if(mD.includes(n.constructor))return!1;n=Object.getPrototypeOf(n)}return n===Object.prototype}function yD(e){return typeof e?.[Symbol.iterator]=="function"}var wD=new WeakMap,Be=Symbol("STATE_SOURCE");function oe(e,...n){e[Be].update(t=>n.reduce((r,o)=>v(v({},r),typeof o=="function"?o(r):o),t)),ID(e)}function bD(e){return e[Be]()}function _D(e){return wD.get(e[Be])||[]}function ID(e){let n=_D(e);for(let t of n){let r=qt(()=>bD(e));t(r)}}function nc(...e){let n=[...e],t=typeof n[0]=="function"?{}:n.shift(),r=n;return(()=>{class i{constructor(){let a=r.reduce((y,w)=>w(y),ED()),{stateSignals:c,props:l,methods:u,hooks:d}=a,h=v(v(v({},c),l),u);this[Be]=a[Be];for(let y of Reflect.ownKeys(h))this[y]=h[y];let{onInit:f,onDestroy:g}=d;f&&f(),g&&m(Fe).onDestroy(g)}static \u0275fac=function(c){return new(c||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:t.providedIn||null})}return i})()}function ED(){return{[Be]:ou({}),stateSignals:{},props:{},methods:{},hooks:{}}}function Br(e,...n){let t=typeof e=="function"?[e,...n]:n;return r=>t.reduce((o,i)=>i(o),r)}function SD(e){return n=>{let t=e(v(v(v({[Be]:n[Be]},n.stateSignals),n.props),n.methods));return Reflect.ownKeys(t),L(v({},n),{props:v(v({},n.props),t)})}}function rc(e){return SD(e)}function Xt(e){return n=>{let t=e(v(v(v({[Be]:n[Be]},n.stateSignals),n.props),n.methods));return Reflect.ownKeys(t),L(v({},n),{methods:v(v({},n.methods),t)})}}function mt(e){return n=>{let t=typeof e=="function"?e():e,r=Reflect.ownKeys(t);n[Be].update(i=>v(v({},i),t));let o=r.reduce((i,s)=>{let a=Ue(()=>n[Be]()[s]);return L(v({},i),{[s]:Nv(a)})},{});return L(v({},n),{stateSignals:v(v({},n.stateSignals),o)})}}var On=function(e){return e[e.None=0]="None",e[e.Entities=1]="Entities",e[e.Both=2]="Both",e}(On||{}),CD=e=>e.id;function DD(e){return e?.selectId??CD}function Av(e){let n=e?.collection,t=n===void 0?"entityMap":`${n}EntityMap`,r=n===void 0?"ids":`${n}Ids`,o=n===void 0?"entities":`${n}Entities`;return{entityMapKey:t,idsKey:r,entitiesKey:o}}function TD(e,n){return{entityMap:v({},e[n.entityMapKey]),ids:[...e[n.idsKey]]}}function MD(e,n,t){switch(t){case On.Both:return{[n.entityMapKey]:e.entityMap,[n.idsKey]:e.ids};case On.Entities:return{[n.entityMapKey]:e.entityMap};default:return{}}}function xD(e,n,t,r=!1){let o=t(n);return e.entityMap[o]?On.None:(e.entityMap[o]=n,r?e.ids.unshift(o):e.ids.push(o),On.Both)}function RD(e,n,t,r=!1){let o=On.None;for(let i of n){let s=xD(e,i,t,r);s===On.Both&&(o=s)}return o}function Pn(e,n){let t=DD(n),r=Av(n);return o=>{let i=TD(o,r),s=RD(i,e,t);return MD(i,r,s)}}function zr(e){let{entityMapKey:n,idsKey:t,entitiesKey:r}=Av(e);return Br(mt({[n]:{},[t]:[]}),rc(o=>({[r]:Ue(()=>{let i=o[n]();return o[t]().map(a=>i[a])})})))}function en(e,n){n?.injector||cr(en);let t=n?.injector??m(we),r=new K,o=e(r).subscribe();t.get(Fe).onDestroy(()=>o.unsubscribe());let i=(s,a)=>{if(ND(s))return r.next(s),{destroy:jt};let c=AD(),l=a?.injector??c??t;if(So(s)){let d=yr(()=>{let h=s();qt(()=>r.next(h))},{injector:l});return o.add({unsubscribe:()=>d.destroy()}),d}let u=s.subscribe(d=>r.next(d));return o.add(u),l!==t&&l.get(Fe).onDestroy(()=>u.unsubscribe()),{destroy:()=>u.unsubscribe()}};return i.destroy=o.unsubscribe.bind(o),i}function ND(e){return!So(e)&&!eo(e)}function AD(){try{return m(we)}catch{return}}var kv=e=>e.id,vt=nc(mt({votesAreLoading:"initial"}),zr({entity:void 0,collection:"votes"}),Xt(e=>{let n=m(me).supabaseClient,t=en(rt(G(()=>oe(e,{votesAreLoading:"loading"})),te(()=>B(n.from("Votes").select("*").eq("user",localStorage.getItem("user_id"))).pipe(I(i=>{i.data!=null&&(oe(e,Pn(i.data,{collection:"votes",selectId:kv})),oe(e,{votesAreLoading:"loaded"}))}))))),r=en(rt(G(()=>oe(e,{votesAreLoading:"loading"})),te(({votingArticleId:i,candidatePhotoId:s})=>B(n.from("Votes").insert({voting_article_id:i,user:localStorage.getItem("user_id"),candidate_photo_id:s,voted:!0}).select()).pipe(I(a=>{a.data!=null&&(oe(e,Pn(a.data,{collection:"votes",selectId:kv})),oe(e,{votesAreLoading:"loaded"}))})))));return{loadVotes:t,vote:r,invalidate:()=>{oe(e,{votesAreLoading:"initial"})}}}));var kD=e=>e.id,Pv=()=>Br(mt({photoStorageIsLoading:"initial"}),zr({entity:void 0,collection:"storage"}),Xt(e=>{let n=m(me).supabaseClient;return{loadPhotoStorage:en(rt(G(()=>oe(e,{photoStorageIsLoading:"loading"})),te(()=>B(n.storage.from("photos").list()).pipe(I(r=>{r.data!=null&&(oe(e,Pn(r.data,{collection:"storage",selectId:kD})),oe(e,{photoStorageIsLoading:"loaded"}))})))))}}));var OD=e=>e.id,Lv=()=>Br(mt({votingArticlesAreLoading:"initial"}),zr({entity:void 0,collection:"votingArticle"}),Xt(e=>{let n=m(me).supabaseClient;return{loadVotingArticles:en(rt(G(()=>oe(e,{votingArticlesAreLoading:"loading"})),te(()=>B(n.from("Voting Article").select("*")).pipe(I(r=>{r.data!=null&&(oe(e,Pn(r.data,{collection:"votingArticle",selectId:OD})),oe(e,{votingArticlesAreLoading:"loaded"}))})))))}}));var Ae=nc(mt({paramVotingArticleId:null}),Lv(),Pv(),Xt(e=>({setVotingArticleId:r=>{oe(e,{paramVotingArticleId:r.params.votingArticleId})},invalidate:()=>{oe(e,{photoStorageIsLoading:"initial",votingArticlesAreLoading:"initial"})}})),rc((e,n=m(vt),t=m(me))=>{let r=Ue(()=>{let s=e.votingArticleEntities(),a=e.storageEntityMap(),c=n.votesEntities(),l=[];return s?.forEach(u=>{let d=u.main_photo?a[u.main_photo]:null,h=[];u.candidate_photos?.forEach(f=>{let g=a[f];h.push({candidatePhotoId:f,candidatePhotoUrl:g?t.supabasePhotoUrl+g.name:null,isVoted:!!c.find(y=>y.candidate_photo_id===f)})}),l.push(L(v({},u),{mainPhotoUrl:d?t.supabasePhotoUrl+d.name:null,candidatePhotoViews:h}))}),l}),o=Ue(()=>{let s=r(),a=[];return s.forEach(c=>{let l=c.candidatePhotoViews.length>0?c.candidatePhotoViews.find(u=>u.isVoted):!0;a.push(!!l)}),console.log("allAreVoted",a),!a.some(c=>c===!1)}),i=Ue(()=>r().find(a=>a.id==e.paramVotingArticleId()));return{votingArticlesWithPhoto:r,paramVotingArticle:i,allArticleAreVoted:o}}));var yt=class e{_supabaseClient=m(me).supabaseClient;votesStore=m(vt);votingArticleStore=m(Ae);_router=m(tt);_userIdKey="user_id";get isAuthenticated(){return!!localStorage.getItem(this._userIdKey)}get userId(){return localStorage.getItem(this._userIdKey)}checkUser(){return p(this,null,function*(){let n=yield this._supabaseClient.from("Users").select("*").eq("id",this.userId);if(n.error){console.error("Error logging in user",n.error);return}return n.data.length>0})}login(){return p(this,null,function*(){let n=yield this._supabaseClient.from("Users").insert({}).select();if(n.error){console.error("Error logging in user",n.error);return}this._router.navigate(["/voting"]),localStorage.setItem(this._userIdKey,`${n.data[0].id}`)})}logout(){localStorage.removeItem(this._userIdKey),this.votesStore.invalidate(),this.votingArticleStore.invalidate()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})};var jv=()=>{let e=m(yt);return B(e.checkUser()).pipe(I(n=>!!n))};var oc=class e{authService=m(yt);onSubmit(n){n?.preventDefault(),this.authService.login()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ve({type:e,selectors:[["app-login"]],decls:8,vars:0,consts:[[1,"page"],[1,"login-container"],["action","",1,"field",3,"submit"],["type","text","placeholder","Escribe tu nombre",1,"field__input"],["type","submit",1,"field__button","button"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"main",1)(2,"h1"),Q(3,"Art Department Challenge"),$(),k(4,"form",2),pe("submit",function(i){return r.onSubmit(i)}),re(5,"input",3),k(6,"button",4),Q(7,"Entrar"),$()()()())},encapsulation:2,changeDetection:0})};var Ii=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ve({type:e,selectors:[["app-manager"]],decls:4,vars:0,template:function(t,r){t&1&&(k(0,"h1"),Q(1,"Manager"),$(),k(2,"p"),Q(3,"Welcome to the Manager component!"),$())},encapsulation:2,changeDetection:0})};function Ln(e,n){!n?.injector&&cr(Ln);let t=n?.injector??m(we),r=new Xr(1),o=yr(()=>{let i;try{i=e()}catch(s){qt(()=>r.error(s));return}qt(()=>r.next(i))},{injector:t,manualCleanup:!0});return t.get(Fe).onDestroy(()=>{o.destroy(),r.complete()}),r.asObservable()}var Fv=()=>{let e=m(Ae);return Ln(e.photoStorageIsLoading).pipe(I(n=>(n==="initial"&&e.loadPhotoStorage(),!0)))};var Vv=()=>{let e=m(vt);return Ln(e.votesAreLoading).pipe(I(n=>(n==="initial"&&e.loadVotes(),!0)))};var $v=()=>{let e=m(Ae);return Ln(e.votingArticlesAreLoading).pipe(I(n=>(n==="initial"&&e.loadVotingArticles(),!0)))};var PD=e=>({"articles__list--voted":e}),LD=e=>({"candidate--voted":e});function jD(e,n){if(e&1){let t=vr();k(0,"button",22),pe("click",function(){fr(t);let o=$e().$implicit,i=$e(),s=$e();return hr(s.onVote(i.id,o.candidatePhotoId))}),Q(1," \xA1Esta es mi favorita! "),$()}}function FD(e,n){e&1&&(vn(),k(0,"svg",23),re(1,"path",24),$(),Eo(),k(2,"div",14),Q(3," \xA1Has seleccionado esta foto!"),re(4,"br"),Q(5," \xA1Gracias! "),$())}function VD(e,n){if(e&1){let t=vr();k(0,"div",20)(1,"button",21),pe("click",function(){let o=fr(t).$index,i=$e(),s=$e();return hr(s.showItem(o,i.candidatePhotoViews,i.id))}),re(2,"img",4),$(),bn(3,jD,2,0,"button",13)(4,FD,6,0),$()}if(e&2){let t=n.$implicit,r=$e(2);Mo(Ro(4,LD,t.isVoted)),he(2),zt("src",t.candidatePhotoUrl,gr),he(),mr(r.showVoteButton()?3:t.isVoted?4:-1)}}function $D(e,n){if(e&1&&(k(0,"div",17)(1,"h1"),Q(2),$(),k(3,"h2"),Q(4,"Galeria de fotos"),$(),k(5,"p"),Q(6," De estas fotos elige la que m\xE1s te guste en funci\xF3n de originalidad, interpretaci\xF3in y vestimenta. "),$()(),k(7,"div",18),Gs(8,VD,5,6,"div",19,Ws),$()),e&2){let t=n,r=$e();he(2),xo(t.title),he(5),Mo(Ro(3,PD,r.showVoteButton)),he(),Zs(t.candidatePhotoViews)}}function UD(e,n){if(e&1){let t=vr();k(0,"button",22),pe("click",function(){fr(t);let o=$e();return hr(o.onVote(o.votingArticleSelected,o.isDialogSelected==null?null:o.isDialogSelected.candidatePhotoId))}),Q(1," \xA1Esta es mi favorita! "),$()}}function HD(e,n){e&1&&(k(0,"div",14),Q(1," \xA1Has seleccionado esta foto!"),re(2,"br"),Q(3," \xA1Gracias! "),$())}var ic=class e{votingArticleStore=m(Ae);votesStore=m(vt);router=m(tt);showVoteButton=Ue(()=>!this.votingArticleStore.paramVotingArticle()?.candidatePhotoViews.find(n=>n.isVoted===!0));onBack(){this.router.navigate(["/voting"])}onVote(n,t){n&&typeof t=="string"&&(this.votesStore.vote({votingArticleId:n,candidatePhotoId:t}),this.isDialogSelected!==null&&(this.isDialogSelected.isVoted=!0))}isDialogSelected=null;votingArticleSelected=null;showItem(n,t=[],r){if(n===null){this.isDialogSelected=null,this.votingArticleSelected=null;return}this.isDialogSelected=t[n]||null,this.votingArticleSelected=r||null,setTimeout(()=>{let o=document.getElementById("open_dialog");o&&o.focus()},0)}onMouseDown(n){n.target===n.currentTarget&&(this.isDialogSelected=null)}goTo(n="prev"){let t=this.votingArticleStore.paramVotingArticle()?.candidatePhotoViews||[];if(this.isDialogSelected&&this.votingArticleSelected&&t.length>0){let r=t.findIndex(o=>o.candidatePhotoId===this.isDialogSelected?.candidatePhotoId);n==="prev"&&r!==void 0?r>0?this.showItem(r-1,t,this.votingArticleSelected):this.showItem(t.length-1||0,t,this.votingArticleSelected):n==="next"&&r!==void 0&&(r<t.length-1?this.showItem(r+1,t,this.votingArticleSelected):this.showItem(0,t,this.votingArticleSelected))}}onDialogKeydown(n){n.key==="ArrowRight"?(n.preventDefault(),this.goTo("next")):n.key==="ArrowLeft"?(n.preventDefault(),this.goTo("prev")):n.key==="Escape"&&(n.preventDefault(),this.isDialogSelected=null,this.votingArticleSelected=null)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ve({type:e,selectors:[["app-voting-article"]],decls:24,vars:4,consts:[[1,"page"],[1,"articles"],[1,"container"],["id","open_dialog","aria-labelledby","dialog_title","aria-describedby","dialog_description","tabindex","0",3,"mousedown","keydown","open"],["alt","Imagen",1,"candidate__img",3,"src"],[1,"flex","flex-space-between"],["type","button",1,"button--prev",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24","fill","currentColor"],["d","M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"],["type","button",1,"button--next",3,"click"],["type","button",1,"button--close",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24"],["d","m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"],[1,"button","button--vote"],[1,"candidate__vote"],[1,"navigation"],[1,"button",3,"click"],[1,"articles__header"],[1,"articles__list","articles__list--candidates"],[1,"candidate",3,"class"],[1,"candidate"],[1,"candidate__button",3,"click"],[1,"button","button--vote",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24",1,"candidate__svg"],["d","M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q65 0 123 19t107 53l-58 59q-38-24-81-37.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-18-2-36t-6-35l65-65q11 32 17 66t6 70q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-56-216L254-466l56-56 114 114 400-401 56 56-456 457Z"]],template:function(t,r){if(t&1&&(k(0,"div",0)(1,"main",1)(2,"div",2),bn(3,$D,10,5),$(),k(4,"dialog",3),pe("mousedown",function(i){return r.onMouseDown(i)})("keydown",function(i){return r.onDialogKeydown(i)}),k(5,"div",2),re(6,"img",4),k(7,"div",5)(8,"button",6),pe("click",function(){return r.goTo("prev")}),vn(),k(9,"svg",7),re(10,"path",8),$()(),Eo(),k(11,"button",9),pe("click",function(){return r.goTo("next")}),vn(),k(12,"svg",7),re(13,"path",8),$()()(),Eo(),k(14,"div",5)(15,"button",10),pe("click",function(){return r.showItem(null)}),vn(),k(16,"svg",11),re(17,"path",12),$()(),bn(18,UD,2,0,"button",13)(19,HD,4,0,"div",14),$()()()(),Eo(),k(20,"footer",15)(21,"div",2)(22,"button",16),pe("click",function(){return r.onBack()}),Q(23," Ir al men\xFA principal "),$()()()()),t&2){let o;he(3),mr((o=r.votingArticleStore.paramVotingArticle())?3:-1,o),he(),zt("open",r.isDialogSelected!==null),he(2),zt("src",r.isDialogSelected==null?null:r.isDialogSelected.candidatePhotoUrl,gr),he(12),mr(r.showVoteButton()?18:r.isDialogSelected!=null&&r.isDialogSelected.isVoted?19:-1)}},encapsulation:2,changeDetection:0})};var BD=e=>({"article__item--voted":e});function zD(e,n){if(e&1&&(k(0,"div",8)(1,"a",9),re(2,"img",10),k(3,"span",11),Q(4),$(),vn(),k(5,"svg",12),re(6,"path",13),$()()()),e&2){let t=n.$implicit,r=$e();Mo(Ro(5,BD,r.showVotedButton(t))),he(),zt("routerLink","item/"+t.id),he(),zt("src",t.mainPhotoUrl,gr),he(2),xo(t.title)}}function qD(e,n){if(e&1){let t=vr();k(0,"button",14),pe("click",function(){fr(t);let o=$e();return hr(o.onSend())}),Q(1,"Enviar resultados"),$()}}var sc=class e{authService=m(yt);router=m(tt);supabaseClient=m(me).supabaseClient;votingArticlesStore=m(Ae);onSend(){this.authService.logout(),this.router.navigate(["/"])}showVotedButton({candidatePhotoViews:n}){return Array.isArray(n)?!!n.find(t=>t.isVoted===!0):!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Ve({type:e,selectors:[["app-voting"]],decls:14,vars:1,consts:[[1,"page"],[1,"articles"],[1,"container"],[1,"articles__header"],[1,"articles__list"],[1,"article__item",3,"class"],[1,"navigation"],[1,"button"],[1,"article__item"],[1,"article__link",3,"routerLink"],["alt","Image",1,"article__img",3,"src"],[1,"article__title"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24",1,"article__done"],["d","M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q65 0 123 19t107 53l-58 59q-38-24-81-37.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-18-2-36t-6-35l65-65q11 32 17 66t6 70q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-56-216L254-466l56-56 114 114 400-401 56 56-456 457Z"],[1,"button",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"h1"),Q(5,"Art Department Challenge"),$(),k(6,"p"),Q(7,"Entra en cada bloque y elegi tu favorita."),$()(),k(8,"div",4),Gs(9,zD,7,7,"div",5,Ws),$()()(),k(11,"footer",6)(12,"div",2),bn(13,qD,2,0,"button",7),$()()()),t&2&&(he(9),Zs(r.votingArticlesStore.votingArticlesWithPhoto()),he(4),mr(r.votingArticlesStore.allArticleAreVoted()?13:-1))},dependencies:[Ma],encapsulation:2,changeDetection:0})};var WD=[{path:"",providers:[me,yt,vt,Ae],children:[{path:"",component:oc},{path:"voting",canActivate:[jv,$v,Fv,Vv],children:[{path:"",component:sc},{path:"item/:votingArticleId",component:ic,resolve:{loader:e=>(m(Ae).setVotingArticleId(e),!0)}},{path:"manager",providers:[Ii],component:Ii}]}]},{path:"**",redirectTo:""}];Vu(xa,{providers:[_g(),ld(WD)]}).catch(e=>console.error(e));export{WD as routes};
